(function(){"use strict";function _defineProperty$1(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread2(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty$1(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _taggedTemplateLiteral(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function _toPrimitive(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function noop(){}const identity$2=e=>e;function assign$1(e,t){for(const r in t)e[r]=t[r];return e}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return"function"==typeof e}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let src_url_equal_anchor;function src_url_equal(e,t){return e===t||(src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=t,e===src_url_equal_anchor.href)}function is_empty(e){return 0===Object.keys(e).length}function subscribe(e,...t){if(null==e){for(const e of t)e(void 0);return noop}const r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function component_subscribe(e,t,r){e.$$.on_destroy.push(subscribe(t,r))}function create_slot(e,t,r,n){if(e){const a=get_slot_context(e,t,r,n);return e[0](a)}}function get_slot_context(e,t,r,n){return e[1]&&n?assign$1(r.ctx.slice(),e[1](n(t))):r.ctx}function get_slot_changes(e,t,r,n){if(e[2]&&n){const a=e[2](n(r));if(void 0===t.dirty)return a;if("object"==typeof a){const e=[],r=Math.max(t.dirty.length,a.length);for(let n=0;n<r;n+=1)e[n]=t.dirty[n]|a[n];return e}return t.dirty|a}return t.dirty}function update_slot_base(e,t,r,n,a,o){if(a){const i=get_slot_context(t,r,n,o);e.p(i,a)}}function get_all_dirty_from_scope(e){if(e.ctx.length>32){const t=[],r=e.ctx.length/32;for(let e=0;e<r;e++)t[e]=-1;return t}return-1}function exclude_internal_props(e){const t={};for(const r in e)"$"!==r[0]&&(t[r]=e[r]);return t}function compute_rest_props(e,t){const r={};t=new Set(t);for(const n in e)t.has(n)||"$"===n[0]||(r[n]=e[n]);return r}function compute_slots(e){const t={};for(const r in e)t[r]=!0;return t}function null_to_empty(e){return null==e?"":e}function set_store_value(e,t,r){return e.set(r),t}const is_client="undefined"!=typeof window;let now=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?e=>requestAnimationFrame(e):noop;const tasks=new Set;function run_tasks(e){tasks.forEach((t=>{t.c(e)||(tasks.delete(t),t.f())})),0!==tasks.size&&raf(run_tasks)}function loop(e){let t;return 0===tasks.size&&raf(run_tasks),{promise:new Promise((r=>{tasks.add(t={c:e,f:r})})),abort(){tasks.delete(t)}}}const globals="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;let is_hydrating=!1;function start_hydrating(){is_hydrating=!0}function end_hydrating(){is_hydrating=!1}function upper_bound(e,t,r,n){for(;e<t;){const a=e+(t-e>>1);r(a)<=n?e=a+1:t=a}return e}function init_hydrate(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if("HEAD"===e.nodeName){const e=[];for(let r=0;r<t.length;r++){const n=t[r];void 0!==n.claim_order&&e.push(n)}t=e}const r=new Int32Array(t.length+1),n=new Int32Array(t.length);r[0]=-1;let a=0;for(let e=0;e<t.length;e++){const o=t[e].claim_order,i=(a>0&&t[r[a]].claim_order<=o?a+1:upper_bound(1,a,(e=>t[r[e]].claim_order),o))-1;n[e]=r[i]+1;const s=i+1;r[s]=e,a=Math.max(s,a)}const o=[],i=[];let s=t.length-1;for(let e=r[a]+1;0!=e;e=n[e-1]){for(o.push(t[e-1]);s>=e;s--)i.push(t[s]);s--}for(;s>=0;s--)i.push(t[s]);o.reverse(),i.sort(((e,t)=>e.claim_order-t.claim_order));for(let t=0,r=0;t<i.length;t++){for(;r<o.length&&i[t].claim_order>=o[r].claim_order;)r++;const n=r<o.length?o[r]:null;e.insertBefore(i[t],n)}}function append$1(e,t){e.appendChild(t)}function append_styles(e,t,r){const n=get_root_for_style(e);if(!n.getElementById(t)){const e=element("style");e.id=t,e.textContent=r,append_stylesheet(n,e)}}function get_root_for_style(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function append_empty_stylesheet(e){const t=element("style");return t.textContent="/* empty */",append_stylesheet(get_root_for_style(e),t),t.sheet}function append_stylesheet(e,t){return append$1(e.head||e,t),t.sheet}function append_hydration(e,t){if(is_hydrating){for(init_hydrate(e),(void 0===e.actual_end_child||null!==e.actual_end_child&&e.actual_end_child.parentNode!==e)&&(e.actual_end_child=e.firstChild);null!==e.actual_end_child&&void 0===e.actual_end_child.claim_order;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?void 0===t.claim_order&&t.parentNode===e||e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else t.parentNode===e&&null===t.nextSibling||e.appendChild(t)}function insert(e,t,r){e.insertBefore(t,r||null)}function insert_hydration(e,t,r){is_hydrating&&!r?append_hydration(e,t):t.parentNode===e&&t.nextSibling==r||e.insertBefore(t,r||null)}function detach(e){e.parentNode&&e.parentNode.removeChild(e)}function destroy_each(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function element(e){return document.createElement(e)}function svg_element(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty(){return text("")}function listen(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function prevent_default(e){return function(t){return t.preventDefault(),e.call(this,t)}}function stop_propagation(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function attr(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}const always_set_through_set_attribute=["width","height"];function set_attributes(e,t){const r=Object.getOwnPropertyDescriptors(e.__proto__);for(const n in t)null==t[n]?e.removeAttribute(n):"style"===n?e.style.cssText=t[n]:"__value"===n?e.value=e[n]=t[n]:r[n]&&r[n].set&&-1===always_set_through_set_attribute.indexOf(n)?e[n]=t[n]:attr(e,n,t[n])}function set_custom_element_data_map(e,t){Object.keys(t).forEach((r=>{set_custom_element_data(e,r,t[r])}))}function set_custom_element_data(e,t,r){const n=t.toLowerCase();n in e?e[n]="boolean"==typeof e[n]&&""===r||r:t in e?e[t]="boolean"==typeof e[t]&&""===r||r:attr(e,t,r)}function set_dynamic_element_data(e){return/-/.test(e)?set_custom_element_data_map:set_attributes}function get_svelte_dataset(e){return e.dataset.svelteH}function children(e){return Array.from(e.childNodes)}function init_claim_info(e){void 0===e.claim_info&&(e.claim_info={last_index:0,total_claimed:0})}function claim_node(e,t,r,n,a=!1){init_claim_info(e);const o=(()=>{for(let n=e.claim_info.last_index;n<e.length;n++){const o=e[n];if(t(o)){const t=r(o);return void 0===t?e.splice(n,1):e[n]=t,a||(e.claim_info.last_index=n),o}}for(let n=e.claim_info.last_index-1;n>=0;n--){const o=e[n];if(t(o)){const t=r(o);return void 0===t?e.splice(n,1):e[n]=t,a?void 0===t&&e.claim_info.last_index--:e.claim_info.last_index=n,o}}return n()})();return o.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,o}function claim_element_base(e,t,r,n){return claim_node(e,(e=>e.nodeName===t),(e=>{const t=[];for(let n=0;n<e.attributes.length;n++){const a=e.attributes[n];r[a.name]||t.push(a.name)}t.forEach((t=>e.removeAttribute(t)))}),(()=>n(t)))}function claim_element(e,t,r){return claim_element_base(e,t,r,element)}function claim_svg_element(e,t,r){return claim_element_base(e,t,r,svg_element)}function claim_text(e,t){return claim_node(e,(e=>3===e.nodeType),(e=>{const r=""+t;if(e.data.startsWith(r)){if(e.data.length!==r.length)return e.splitText(r.length)}else e.data=r}),(()=>text(t)),!0)}function claim_space(e){return claim_text(e," ")}function get_comment_idx(e,t,r){for(let n=r;n<e.length;n+=1){const r=e[n];if(8===r.nodeType&&r.textContent.trim()===t)return n}return-1}function claim_html_tag(e,t){const r=get_comment_idx(e,"HTML_TAG_START",0),n=get_comment_idx(e,"HTML_TAG_END",r+1);if(-1===r||-1===n)return new HtmlTagHydration(t);init_claim_info(e);const a=e.splice(r,n-r+1);detach(a[0]),detach(a[a.length-1]);const o=a.slice(1,a.length-1);if(0===o.length)return new HtmlTagHydration(t);for(const t of o)t.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1;return new HtmlTagHydration(t,o)}function set_data(e,t){t=""+t,e.data!==t&&(e.data=t)}function set_input_value(e,t){e.value=null==t?"":t}function set_style(e,t,r,n){null==r?e.style.removeProperty(t):e.style.setProperty(t,r,"")}function select_option(e,t,r){for(let r=0;r<e.options.length;r+=1){const n=e.options[r];if(n.__value===t)return void(n.selected=!0)}r&&void 0===t||(e.selectedIndex=-1)}function select_value(e){const t=e.querySelector(":checked");return t&&t.__value}let crossorigin;function is_crossorigin(){if(void 0===crossorigin){crossorigin=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(e){crossorigin=!0}}return crossorigin}function add_iframe_resize_listener(e,t){"static"===getComputedStyle(e).position&&(e.style.position="relative");const r=element("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const n=is_crossorigin();let a;return n?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",a=listen(window,"message",(e=>{e.source===r.contentWindow&&t()}))):(r.src="about:blank",r.onload=()=>{a=listen(r.contentWindow,"resize",t),t()}),append$1(e,r),()=>{(n||a&&r.contentWindow)&&a(),detach(r)}}function toggle_class(e,t,r){e.classList.toggle(t,!!r)}function custom_event(e,t,{bubbles:r=!1,cancelable:n=!1}={}){return new CustomEvent(e,{detail:t,bubbles:r,cancelable:n})}function head_selector(e,t){const r=[];let n=0;for(const a of t.childNodes)if(8===a.nodeType){const t=a.textContent.trim();t===`HEAD_${e}_END`?(n-=1,r.push(a)):t===`HEAD_${e}_START`&&(n+=1,r.push(a))}else n>0&&r.push(a);return r}class HtmlTag{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(e=!1){this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,r=null){this.e||(this.is_svg?this.e=svg_element(t.nodeName):this.e=element(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)insert(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(detach)}}class HtmlTagHydration extends HtmlTag{l=void 0;constructor(e=!1,t){super(e),this.e=this.n=null,this.l=t}c(e){this.l?this.n=this.l:super.c(e)}i(e){for(let t=0;t<this.n.length;t+=1)insert_hydration(this.t,this.n[t],e)}}function construct_svelte_component(e,t){return new e(t)}const managed_styles=new Map;let active=0,current_component;function hash$2(e){let t=5381,r=e.length;for(;r--;)t=(t<<5)-t^e.charCodeAt(r);return t>>>0}function create_style_information(e,t){const r={stylesheet:append_empty_stylesheet(t),rules:{}};return managed_styles.set(e,r),r}function create_rule(e,t,r,n,a,o,i,s=0){const c=16.666/n;let l="{\n";for(let e=0;e<=1;e+=c){const n=t+(r-t)*o(e);l+=100*e+`%{${i(n,1-n)}}\n`}const u=l+`100% {${i(r,1-r)}}\n}`,d=`__svelte_${hash$2(u)}_${s}`,p=get_root_for_style(e),{stylesheet:h,rules:f}=managed_styles.get(p)||create_style_information(p,e);f[d]||(f[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${n}ms linear ${a}ms 1 both`,active+=1,d}function delete_rule(e,t){const r=(e.style.animation||"").split(", "),n=r.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),a=r.length-n.length;a&&(e.style.animation=n.join(", "),active-=a,active||clear_rules())}function clear_rules(){raf((()=>{active||(managed_styles.forEach((e=>{const{ownerNode:t}=e.stylesheet;t&&detach(t)})),managed_styles.clear())}))}function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(e){get_current_component().$$.on_mount.push(e)}function afterUpdate(e){get_current_component().$$.after_update.push(e)}function onDestroy(e){get_current_component().$$.on_destroy.push(e)}function createEventDispatcher(){const e=get_current_component();return(t,r,{cancelable:n=!1}={})=>{const a=e.$$.callbacks[t];if(a){const o=custom_event(t,r,{cancelable:n});return a.slice().forEach((t=>{t.call(e,o)})),!o.defaultPrevented}return!0}}function setContext(e,t){return get_current_component().$$.context.set(e,t),t}function getContext(e){return get_current_component().$$.context.get(e)}function bubble(e,t){const r=e.$$.callbacks[t.type];r&&r.slice().forEach((e=>e.call(this,t)))}const dirty_components=[],binding_callbacks=[];let render_callbacks=[];const flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(e){render_callbacks.push(e)}function add_flush_callback(e){flush_callbacks.push(e)}const seen_callbacks=new Set;let flushidx=0,promise;function flush(){if(0!==flushidx)return;const e=current_component;do{try{for(;flushidx<dirty_components.length;){const e=dirty_components[flushidx];flushidx++,set_current_component(e),update(e.$$)}}catch(e){throw dirty_components.length=0,flushidx=0,e}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const t=render_callbacks[e];seen_callbacks.has(t)||(seen_callbacks.add(t),t())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(e)}function update(e){if(null!==e.fragment){e.update(),run_all(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}function flush_render_callbacks(e){const t=[],r=[];render_callbacks.forEach((n=>-1===e.indexOf(n)?t.push(n):r.push(n))),r.forEach((e=>e())),render_callbacks=t}function wait(){return promise||(promise=Promise.resolve(),promise.then((()=>{promise=null}))),promise}function dispatch(e,t,r){e.dispatchEvent(custom_event(`intro${r}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,r,n){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push((()=>{outroing.delete(e),n&&(r&&e.d(1),n())})),e.o(t)}else n&&n()}const null_transition={duration:0};function create_in_transition(e,t,r){const n={direction:"in"};let a,o,i=t(e,r,n),s=!1,c=0;function l(){a&&delete_rule(e,a)}function u(){const{delay:t=0,duration:r=300,easing:n=identity$2,tick:u=noop,css:d}=i||null_transition;d&&(a=create_rule(e,0,1,r,t,n,d,c++)),u(0,1);const p=now()+t,h=p+r;o&&o.abort(),s=!0,add_render_callback((()=>dispatch(e,!0,"start"))),o=loop((t=>{if(s){if(t>=h)return u(1,0),dispatch(e,!0,"end"),l(),s=!1;if(t>=p){const e=n((t-p)/r);u(e,1-e)}}return s}))}let d=!1;return{start(){d||(d=!0,delete_rule(e),is_function(i)?(i=i(n),wait().then(u)):u())},invalidate(){d=!1},end(){s&&(l(),s=!1)}}}function ensure_array_like(e){return void 0!==e?.length?e:Array.from(e)}function get_spread_update(e,t){const r={},n={},a={$$scope:1};let o=e.length;for(;o--;){const i=e[o],s=t[o];if(s){for(const e in i)e in s||(n[e]=1);for(const e in s)a[e]||(r[e]=s[e],a[e]=1);e[o]=s}else for(const e in i)a[e]=1}for(const e in n)e in r||(r[e]=void 0);return r}function get_spread_object(e){return"object"==typeof e&&null!==e?e:{}}function bind(e,t,r){const n=e.$$.props[t];void 0!==n&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}function create_component(e){e&&e.c()}function claim_component(e,t){e&&e.l(t)}function mount_component(e,t,r){const{fragment:n,after_update:a}=e.$$;n&&n.m(t,r),add_render_callback((()=>{const t=e.$$.on_mount.map(run).filter(is_function);e.$$.on_destroy?e.$$.on_destroy.push(...t):run_all(t),e.$$.on_mount=[]})),a.forEach(add_render_callback)}function destroy_component(e,t){const r=e.$$;null!==r.fragment&&(flush_render_callbacks(r.after_update),run_all(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function make_dirty(e,t){-1===e.$$.dirty[0]&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init(e,t,r,n,a,o,i=null,s=[-1]){const c=current_component;set_current_component(e);const l=e.$$={fragment:null,ctx:[],props:o,update:noop,not_equal:a,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:blank_object(),dirty:s,skip_bound:!1,root:t.target||c.$$.root};i&&i(l.root);let u=!1;if(l.ctx=r?r(e,t.props||{},((t,r,...n)=>{const o=n.length?n[0]:r;return l.ctx&&a(l.ctx[t],l.ctx[t]=o)&&(!l.skip_bound&&l.bound[t]&&l.bound[t](o),u&&make_dirty(e,t)),r})):[],l.update(),u=!0,run_all(l.before_update),l.fragment=!!n&&n(l.ctx),t.target){if(t.hydrate){start_hydrating();const e=children(t.target);l.fragment&&l.fragment.l(e),e.forEach(detach)}else l.fragment&&l.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor),end_hydrating(),flush()}set_current_component(c)}class SvelteComponent{$$=void 0;$$set=void 0;$destroy(){destroy_component(this,1),this.$destroy=noop}$on(e,t){if(!is_function(t))return noop;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const PUBLIC_VERSION="4";"undefined"!=typeof window&&(window.__svelte||(window.__svelte={v:new Set})).v.add(PUBLIC_VERSION);const subscriber_queue=[];function writable(e,t=noop){let r;const n=new Set;function a(t){if(safe_not_equal(e,t)&&(e=t,r)){const t=!subscriber_queue.length;for(const t of n)t[1](),subscriber_queue.push(t,e);if(t){for(let e=0;e<subscriber_queue.length;e+=2)subscriber_queue[e][0](subscriber_queue[e+1]);subscriber_queue.length=0}}}function o(t){a(t(e))}return{set:a,update:o,subscribe:function(i,s=noop){const c=[i,s];return n.add(c),1===n.size&&(r=t(a,o)||noop),i(e),()=>{n.delete(c),0===n.size&&r&&(r(),r=null)}}}}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},purify_cjs,hasRequiredPurify_cjs,browser,hasRequiredBrowser;function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */function requirePurify_cjs(){if(hasRequiredPurify_cjs)return purify_cjs;hasRequiredPurify_cjs=1;const{entries:e,setPrototypeOf:t,isFrozen:r,getPrototypeOf:n,getOwnPropertyDescriptor:a}=Object;let{freeze:o,seal:i,create:s}=Object,{apply:c,construct:l}="undefined"!=typeof Reflect&&Reflect;o||(o=function(e){return e}),i||(i=function(e){return e}),c||(c=function(e,t,r){return e.apply(t,r)}),l||(l=function(e,t){return new e(...t)});const u=x(Array.prototype.forEach),d=x(Array.prototype.pop),p=x(Array.prototype.push),h=x(String.prototype.toLowerCase),f=x(String.prototype.toString),m=x(String.prototype.match),_=x(String.prototype.replace),g=x(String.prototype.indexOf),y=x(String.prototype.trim),b=x(Object.prototype.hasOwnProperty),$=x(RegExp.prototype.test),v=(k=TypeError,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return l(k,t)});var k;function x(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return c(e,t,n)}}function w(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h;t&&t(e,null);let o=n.length;for(;o--;){let t=n[o];if("string"==typeof t){const e=a(t);e!==t&&(r(n)||(n[o]=e),t=e)}e[t]=!0}return e}function q(e){for(let t=0;t<e.length;t++){b(e,t)||(e[t]=null)}return e}function S(t){const r=s(null);for(const[n,a]of e(t)){b(t,n)&&(Array.isArray(a)?r[n]=q(a):a&&"object"==typeof a&&a.constructor===Object?r[n]=S(a):r[n]=a)}return r}function E(e,t){for(;null!==e;){const r=a(e,t);if(r){if(r.get)return x(r.get);if("function"==typeof r.value)return x(r.value)}e=n(e)}return function(){return null}}const R=o(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),T=o(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),C=o(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),A=o(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),I=o(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),M=o(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),D=o(["#text"]),O=o(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),P=o(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),N=o(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),L=o(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),j=i(/\{\{[\w\W]*|[\w\W]*\}\}/gm),F=i(/<%[\w\W]*|[\w\W]*%>/gm),H=i(/\$\{[\w\W]*}/gm),U=i(/^data-[\-\w.\u00B7-\uFFFF]+$/),B=i(/^aria-[\-\w]+$/),z=i(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Y=i(/^(?:\w+script|data):/i),W=i(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),G=i(/^html$/i),V=i(/^[a-z][.\w]*(-[.\w]+)+$/i);var K=Object.freeze({__proto__:null,ARIA_ATTR:B,ATTR_WHITESPACE:W,CUSTOM_ELEMENT:V,DATA_ATTR:U,DOCTYPE_NAME:G,ERB_EXPR:F,IS_ALLOWED_URI:z,IS_SCRIPT_OR_DATA:Y,MUSTACHE_EXPR:j,TMPLIT_EXPR:H});const X=1,J=3,Z=7,Q=8,ee=9,te=function(){return"undefined"==typeof window?null:window};var re=function t(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te();const n=e=>t(e);if(n.version="3.2.3",n.removed=[],!r||!r.document||r.document.nodeType!==ee)return n.isSupported=!1,n;let{document:a}=r;const i=a,c=i.currentScript,{DocumentFragment:l,HTMLTemplateElement:k,Node:x,Element:q,NodeFilter:j,NamedNodeMap:F=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:H,DOMParser:U,trustedTypes:B}=r,Y=q.prototype,W=E(Y,"cloneNode"),V=E(Y,"remove"),re=E(Y,"nextSibling"),ne=E(Y,"childNodes"),ae=E(Y,"parentNode");if("function"==typeof k){const e=a.createElement("template");e.content&&e.content.ownerDocument&&(a=e.content.ownerDocument)}let oe,ie="";const{implementation:se,createNodeIterator:ce,createDocumentFragment:le,getElementsByTagName:ue}=a,{importNode:de}=i;let pe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof e&&"function"==typeof ae&&se&&void 0!==se.createHTMLDocument;const{MUSTACHE_EXPR:he,ERB_EXPR:fe,TMPLIT_EXPR:me,DATA_ATTR:_e,ARIA_ATTR:ge,IS_SCRIPT_OR_DATA:ye,ATTR_WHITESPACE:be,CUSTOM_ELEMENT:$e}=K;let{IS_ALLOWED_URI:ve}=K,ke=null;const xe=w({},[...R,...T,...C,...I,...D]);let we=null;const qe=w({},[...O,...P,...N,...L]);let Se=Object.seal(s(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ee=null,Re=null,Te=!0,Ce=!0,Ae=!1,Ie=!0,Me=!1,De=!0,Oe=!1,Pe=!1,Ne=!1,Le=!1,je=!1,Fe=!1,He=!0,Ue=!1,Be=!0,ze=!1,Ye={},We=null;const Ge=w({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ve=null;const Ke=w({},["audio","video","img","source","image","track"]);let Xe=null;const Je=w({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ze="http://www.w3.org/1998/Math/MathML",Qe="http://www.w3.org/2000/svg",et="http://www.w3.org/1999/xhtml";let tt=et,rt=!1,nt=null;const at=w({},[Ze,Qe,et],f);let ot=w({},["mi","mo","mn","ms","mtext"]),it=w({},["annotation-xml"]);const st=w({},["title","style","font","a","script"]);let ct=null;const lt=["application/xhtml+xml","text/html"];let ut=null,dt=null;const pt=a.createElement("form"),ht=function(e){return e instanceof RegExp||e instanceof Function},ft=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!dt||dt!==e){if(e&&"object"==typeof e||(e={}),e=S(e),ct=-1===lt.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,ut="application/xhtml+xml"===ct?f:h,ke=b(e,"ALLOWED_TAGS")?w({},e.ALLOWED_TAGS,ut):xe,we=b(e,"ALLOWED_ATTR")?w({},e.ALLOWED_ATTR,ut):qe,nt=b(e,"ALLOWED_NAMESPACES")?w({},e.ALLOWED_NAMESPACES,f):at,Xe=b(e,"ADD_URI_SAFE_ATTR")?w(S(Je),e.ADD_URI_SAFE_ATTR,ut):Je,Ve=b(e,"ADD_DATA_URI_TAGS")?w(S(Ke),e.ADD_DATA_URI_TAGS,ut):Ke,We=b(e,"FORBID_CONTENTS")?w({},e.FORBID_CONTENTS,ut):Ge,Ee=b(e,"FORBID_TAGS")?w({},e.FORBID_TAGS,ut):{},Re=b(e,"FORBID_ATTR")?w({},e.FORBID_ATTR,ut):{},Ye=!!b(e,"USE_PROFILES")&&e.USE_PROFILES,Te=!1!==e.ALLOW_ARIA_ATTR,Ce=!1!==e.ALLOW_DATA_ATTR,Ae=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ie=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Me=e.SAFE_FOR_TEMPLATES||!1,De=!1!==e.SAFE_FOR_XML,Oe=e.WHOLE_DOCUMENT||!1,Le=e.RETURN_DOM||!1,je=e.RETURN_DOM_FRAGMENT||!1,Fe=e.RETURN_TRUSTED_TYPE||!1,Ne=e.FORCE_BODY||!1,He=!1!==e.SANITIZE_DOM,Ue=e.SANITIZE_NAMED_PROPS||!1,Be=!1!==e.KEEP_CONTENT,ze=e.IN_PLACE||!1,ve=e.ALLOWED_URI_REGEXP||z,tt=e.NAMESPACE||et,ot=e.MATHML_TEXT_INTEGRATION_POINTS||ot,it=e.HTML_INTEGRATION_POINTS||it,Se=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&ht(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Se.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&ht(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Se.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Se.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Me&&(Ce=!1),je&&(Le=!0),Ye&&(ke=w({},D),we=[],!0===Ye.html&&(w(ke,R),w(we,O)),!0===Ye.svg&&(w(ke,T),w(we,P),w(we,L)),!0===Ye.svgFilters&&(w(ke,C),w(we,P),w(we,L)),!0===Ye.mathMl&&(w(ke,I),w(we,N),w(we,L))),e.ADD_TAGS&&(ke===xe&&(ke=S(ke)),w(ke,e.ADD_TAGS,ut)),e.ADD_ATTR&&(we===qe&&(we=S(we)),w(we,e.ADD_ATTR,ut)),e.ADD_URI_SAFE_ATTR&&w(Xe,e.ADD_URI_SAFE_ATTR,ut),e.FORBID_CONTENTS&&(We===Ge&&(We=S(We)),w(We,e.FORBID_CONTENTS,ut)),Be&&(ke["#text"]=!0),Oe&&w(ke,["html","head","body"]),ke.table&&(w(ke,["tbody"]),delete Ee.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw v('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw v('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');oe=e.TRUSTED_TYPES_POLICY,ie=oe.createHTML("")}else void 0===oe&&(oe=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let r=null;const n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(r=t.getAttribute(n));const a="dompurify"+(r?"#"+r:"");try{return e.createPolicy(a,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+a+" could not be created."),null}}(B,c)),null!==oe&&"string"==typeof ie&&(ie=oe.createHTML(""));o&&o(e),dt=e}},mt=w({},[...T,...C,...A]),_t=w({},[...I,...M]),gt=function(e){p(n.removed,{element:e});try{ae(e).removeChild(e)}catch(t){V(e)}},yt=function(e,t){try{p(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){p(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(Le||je)try{gt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},bt=function(e){let t=null,r=null;if(Ne)e="<remove></remove>"+e;else{const t=m(e,/^[\r\n\t ]+/);r=t&&t[0]}"application/xhtml+xml"===ct&&tt===et&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const n=oe?oe.createHTML(e):e;if(tt===et)try{t=(new U).parseFromString(n,ct)}catch(e){}if(!t||!t.documentElement){t=se.createDocument(tt,"template",null);try{t.documentElement.innerHTML=rt?ie:n}catch(e){}}const o=t.body||t.documentElement;return e&&r&&o.insertBefore(a.createTextNode(r),o.childNodes[0]||null),tt===et?ue.call(t,Oe?"html":"body")[0]:Oe?t.documentElement:o},$t=function(e){return ce.call(e.ownerDocument||e,e,j.SHOW_ELEMENT|j.SHOW_COMMENT|j.SHOW_TEXT|j.SHOW_PROCESSING_INSTRUCTION|j.SHOW_CDATA_SECTION,null)},vt=function(e){return e instanceof H&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof F)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},kt=function(e){return"function"==typeof x&&e instanceof x};function xt(e,t,r){u(e,(e=>{e.call(n,t,r,dt)}))}const wt=function(e){let t=null;if(xt(pe.beforeSanitizeElements,e,null),vt(e))return gt(e),!0;const r=ut(e.nodeName);if(xt(pe.uponSanitizeElement,e,{tagName:r,allowedTags:ke}),e.hasChildNodes()&&!kt(e.firstElementChild)&&$(/<[/\w]/g,e.innerHTML)&&$(/<[/\w]/g,e.textContent))return gt(e),!0;if(e.nodeType===Z)return gt(e),!0;if(De&&e.nodeType===Q&&$(/<[/\w]/g,e.data))return gt(e),!0;if(!ke[r]||Ee[r]){if(!Ee[r]&&St(r)){if(Se.tagNameCheck instanceof RegExp&&$(Se.tagNameCheck,r))return!1;if(Se.tagNameCheck instanceof Function&&Se.tagNameCheck(r))return!1}if(Be&&!We[r]){const t=ae(e)||e.parentNode,r=ne(e)||e.childNodes;if(r&&t){for(let n=r.length-1;n>=0;--n){const a=W(r[n],!0);a.__removalCount=(e.__removalCount||0)+1,t.insertBefore(a,re(e))}}}return gt(e),!0}return e instanceof q&&!function(e){let t=ae(e);t&&t.tagName||(t={namespaceURI:tt,tagName:"template"});const r=h(e.tagName),n=h(t.tagName);return!!nt[e.namespaceURI]&&(e.namespaceURI===Qe?t.namespaceURI===et?"svg"===r:t.namespaceURI===Ze?"svg"===r&&("annotation-xml"===n||ot[n]):Boolean(mt[r]):e.namespaceURI===Ze?t.namespaceURI===et?"math"===r:t.namespaceURI===Qe?"math"===r&&it[n]:Boolean(_t[r]):e.namespaceURI===et?!(t.namespaceURI===Qe&&!it[n])&&!(t.namespaceURI===Ze&&!ot[n])&&!_t[r]&&(st[r]||!mt[r]):!("application/xhtml+xml"!==ct||!nt[e.namespaceURI]))}(e)?(gt(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!$(/<\/no(script|embed|frames)/i,e.innerHTML)?(Me&&e.nodeType===J&&(t=e.textContent,u([he,fe,me],(e=>{t=_(t,e," ")})),e.textContent!==t&&(p(n.removed,{element:e.cloneNode()}),e.textContent=t)),xt(pe.afterSanitizeElements,e,null),!1):(gt(e),!0)},qt=function(e,t,r){if(He&&("id"===t||"name"===t)&&(r in a||r in pt))return!1;if(Ce&&!Re[t]&&$(_e,t));else if(Te&&$(ge,t));else if(!we[t]||Re[t]){if(!(St(e)&&(Se.tagNameCheck instanceof RegExp&&$(Se.tagNameCheck,e)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(e))&&(Se.attributeNameCheck instanceof RegExp&&$(Se.attributeNameCheck,t)||Se.attributeNameCheck instanceof Function&&Se.attributeNameCheck(t))||"is"===t&&Se.allowCustomizedBuiltInElements&&(Se.tagNameCheck instanceof RegExp&&$(Se.tagNameCheck,r)||Se.tagNameCheck instanceof Function&&Se.tagNameCheck(r))))return!1}else if(Xe[t]);else if($(ve,_(r,be,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==g(r,"data:")||!Ve[e]){if(Ae&&!$(ye,_(r,be,"")));else if(r)return!1}else;return!0},St=function(e){return"annotation-xml"!==e&&m(e,$e)},Et=function(e){xt(pe.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||vt(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:we,forceKeepAttr:void 0};let a=t.length;for(;a--;){const o=t[a],{name:i,namespaceURI:s,value:c}=o,l=ut(i);let p="value"===i?c:y(c);if(r.attrName=l,r.attrValue=p,r.keepAttr=!0,r.forceKeepAttr=void 0,xt(pe.uponSanitizeAttribute,e,r),p=r.attrValue,!Ue||"id"!==l&&"name"!==l||(yt(i,e),p="user-content-"+p),De&&$(/((--!?|])>)|<\/(style|title)/i,p)){yt(i,e);continue}if(r.forceKeepAttr)continue;if(yt(i,e),!r.keepAttr)continue;if(!Ie&&$(/\/>/i,p)){yt(i,e);continue}Me&&u([he,fe,me],(e=>{p=_(p,e," ")}));const h=ut(e.nodeName);if(qt(h,l,p)){if(oe&&"object"==typeof B&&"function"==typeof B.getAttributeType)if(s);else switch(B.getAttributeType(h,l)){case"TrustedHTML":p=oe.createHTML(p);break;case"TrustedScriptURL":p=oe.createScriptURL(p)}try{s?e.setAttributeNS(s,i,p):e.setAttribute(i,p),vt(e)?gt(e):d(n.removed)}catch(e){}}}xt(pe.afterSanitizeAttributes,e,null)},Rt=function e(t){let r=null;const n=$t(t);for(xt(pe.beforeSanitizeShadowDOM,t,null);r=n.nextNode();)xt(pe.uponSanitizeShadowNode,r,null),wt(r),Et(r),r.content instanceof l&&e(r.content);xt(pe.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,a=null,o=null,s=null;if(rt=!e,rt&&(e="\x3c!--\x3e"),"string"!=typeof e&&!kt(e)){if("function"!=typeof e.toString)throw v("toString is not a function");if("string"!=typeof(e=e.toString()))throw v("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Pe||ft(t),n.removed=[],"string"==typeof e&&(ze=!1),ze){if(e.nodeName){const t=ut(e.nodeName);if(!ke[t]||Ee[t])throw v("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof x)r=bt("\x3c!----\x3e"),a=r.ownerDocument.importNode(e,!0),a.nodeType===X&&"BODY"===a.nodeName||"HTML"===a.nodeName?r=a:r.appendChild(a);else{if(!Le&&!Me&&!Oe&&-1===e.indexOf("<"))return oe&&Fe?oe.createHTML(e):e;if(r=bt(e),!r)return Le?null:Fe?ie:""}r&&Ne&&gt(r.firstChild);const c=$t(ze?e:r);for(;o=c.nextNode();)wt(o),Et(o),o.content instanceof l&&Rt(o.content);if(ze)return e;if(Le){if(je)for(s=le.call(r.ownerDocument);r.firstChild;)s.appendChild(r.firstChild);else s=r;return(we.shadowroot||we.shadowrootmode)&&(s=de.call(i,s,!0)),s}let d=Oe?r.outerHTML:r.innerHTML;return Oe&&ke["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&$(G,r.ownerDocument.doctype.name)&&(d="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+d),Me&&u([he,fe,me],(e=>{d=_(d,e," ")})),oe&&Fe?oe.createHTML(d):d},n.setConfig=function(){ft(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Pe=!0},n.clearConfig=function(){dt=null,Pe=!1},n.isValidAttribute=function(e,t,r){dt||ft({});const n=ut(e),a=ut(t);return qt(n,a,r)},n.addHook=function(e,t){"function"==typeof t&&p(pe[e],t)},n.removeHook=function(e){return d(pe[e])},n.removeHooks=function(e){pe[e]=[]},n.removeAllHooks=function(){pe={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();return purify_cjs=re}function requireBrowser(){return hasRequiredBrowser?browser:(hasRequiredBrowser=1,browser=window.DOMPurify||(window.DOMPurify=requirePurify_cjs().default||requirePurify_cjs()))}var browserExports=requireBrowser(),DOMPurify=getDefaultExportFromCjs(browserExports);const createPermanentMemoizer=function(e,t){let{maxsize:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=new Map;return{get:function(a){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&1===n.size)return n.values().next().value;const o=e(a);if(n.has(o))return n.get(o);const i=t(a);return r&&n.size>=r&&(n=new Map),n.set(o,i),i}}},DEFAULT_ALLOWED$2=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt","bdi"].sort(),MEMOIZER_MAXSIZE=1e5,memoizer=createPermanentMemoizer((e=>e.version),(e=>createPermanentMemoizer((e=>String(e)),(t=>(e.removeHook("afterSanitizeElements"),t||e.addHook("afterSanitizeElements",(function(e){var t;const r=e;if("a"===r.nodeName.toLowerCase()){"_self"!==r.getAttribute("target")&&r.setAttribute("target","_blank");const e=null===(t=r.getAttribute("rel"))||void 0===t?void 0:t.includes("noreferrer");r.setAttribute("rel","nofollow noopener"+(e?" noreferrer":""))}})),createPermanentMemoizer((e=>String(e)),(t=>{const r={ALLOWED_TAGS:void 0===t?DEFAULT_ALLOWED$2:"string"==typeof t?t.toLowerCase().slice(1,-1).split("><"):t,ADD_ATTR:["target"],FORCE_BODY:!0};return createPermanentMemoizer((e=>e),(t=>e.sanitize(t,r)),{maxsize:MEMOIZER_MAXSIZE})}),{maxsize:MEMOIZER_MAXSIZE}))))));function purifyHtmlFactory(e){return function(t,r,n){return t?memoizer.get(e,!0).get(n).get(r).get(t):t}}function purifyHtml(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var n;return purifyHtmlFactory(DOMPurify)(e,t,null!==(n=r.trustLinks)&&void 0!==n&&n)}function get$1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return e;const n=Array.isArray(t)?t:t.split(".");let a=e;for(let e=0;e<n.length&&null!=a;e++)a=a[n[e]];return null==a?r:a}var isObject_1,hasRequiredIsObject;function requireIsObject(){if(hasRequiredIsObject)return isObject_1;return hasRequiredIsObject=1,isObject_1=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},isObject_1}var isObjectExports=requireIsObject(),isObject=getDefaultExportFromCjs(isObjectExports),_freeGlobal,hasRequired_freeGlobal,_root,hasRequired_root,_Symbol,hasRequired_Symbol,_getRawTag,hasRequired_getRawTag,_objectToString,hasRequired_objectToString,_baseGetTag,hasRequired_baseGetTag,isFunction_1,hasRequiredIsFunction,_coreJsData,hasRequired_coreJsData,_isMasked,hasRequired_isMasked,_toSource,hasRequired_toSource,_baseIsNative,hasRequired_baseIsNative,_getValue,hasRequired_getValue,_getNative,hasRequired_getNative,_defineProperty,hasRequired_defineProperty,_baseAssignValue,hasRequired_baseAssignValue,eq_1,hasRequiredEq,_assignValue,hasRequired_assignValue,isArray_1,hasRequiredIsArray,isObjectLike_1,hasRequiredIsObjectLike,isSymbol_1,hasRequiredIsSymbol,_isKey,hasRequired_isKey,_nativeCreate,hasRequired_nativeCreate,_hashClear,hasRequired_hashClear,_hashDelete,hasRequired_hashDelete,_hashGet,hasRequired_hashGet,_hashHas,hasRequired_hashHas,_hashSet,hasRequired_hashSet,_Hash,hasRequired_Hash,_listCacheClear,hasRequired_listCacheClear,_assocIndexOf,hasRequired_assocIndexOf,_listCacheDelete,hasRequired_listCacheDelete,_listCacheGet,hasRequired_listCacheGet,_listCacheHas,hasRequired_listCacheHas,_listCacheSet,hasRequired_listCacheSet,_ListCache,hasRequired_ListCache,_Map,hasRequired_Map,_mapCacheClear,hasRequired_mapCacheClear,_isKeyable,hasRequired_isKeyable,_getMapData,hasRequired_getMapData,_mapCacheDelete,hasRequired_mapCacheDelete,_mapCacheGet,hasRequired_mapCacheGet,_mapCacheHas,hasRequired_mapCacheHas,_mapCacheSet,hasRequired_mapCacheSet,_MapCache,hasRequired_MapCache,memoize_1,hasRequiredMemoize,_memoizeCapped,hasRequired_memoizeCapped,_stringToPath,hasRequired_stringToPath,_arrayMap,hasRequired_arrayMap,_baseToString,hasRequired_baseToString,toString_1,hasRequiredToString,_castPath,hasRequired_castPath,_isIndex,hasRequired_isIndex,_toKey,hasRequired_toKey,_baseSet,hasRequired_baseSet,setWith_1,hasRequiredSetWith;function require_freeGlobal(){if(hasRequired_freeGlobal)return _freeGlobal;hasRequired_freeGlobal=1;var e="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;return _freeGlobal=e}function require_root(){if(hasRequired_root)return _root;hasRequired_root=1;var e=require_freeGlobal(),t="object"==typeof self&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return _root=r}function require_Symbol(){if(hasRequired_Symbol)return _Symbol;hasRequired_Symbol=1;var e=require_root().Symbol;return _Symbol=e}function require_getRawTag(){if(hasRequired_getRawTag)return _getRawTag;hasRequired_getRawTag=1;var e=require_Symbol(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;return _getRawTag=function(e){var t=r.call(e,a),o=e[a];try{e[a]=void 0;var i=!0}catch(e){}var s=n.call(e);return i&&(t?e[a]=o:delete e[a]),s}}function require_objectToString(){if(hasRequired_objectToString)return _objectToString;hasRequired_objectToString=1;var e=Object.prototype.toString;return _objectToString=function(t){return e.call(t)}}function require_baseGetTag(){if(hasRequired_baseGetTag)return _baseGetTag;hasRequired_baseGetTag=1;var e=require_Symbol(),t=require_getRawTag(),r=require_objectToString(),n=e?e.toStringTag:void 0;return _baseGetTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":n&&n in Object(e)?t(e):r(e)}}function requireIsFunction(){if(hasRequiredIsFunction)return isFunction_1;hasRequiredIsFunction=1;var e=require_baseGetTag(),t=requireIsObject();return isFunction_1=function(r){if(!t(r))return!1;var n=e(r);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}}function require_coreJsData(){if(hasRequired_coreJsData)return _coreJsData;hasRequired_coreJsData=1;var e=require_root()["__core-js_shared__"];return _coreJsData=e}function require_isMasked(){if(hasRequired_isMasked)return _isMasked;hasRequired_isMasked=1;var e,t=require_coreJsData(),r=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return _isMasked=function(e){return!!r&&r in e}}function require_toSource(){if(hasRequired_toSource)return _toSource;hasRequired_toSource=1;var e=Function.prototype.toString;return _toSource=function(t){if(null!=t){try{return e.call(t)}catch(e){}try{return t+""}catch(e){}}return""}}function require_baseIsNative(){if(hasRequired_baseIsNative)return _baseIsNative;hasRequired_baseIsNative=1;var e=requireIsFunction(),t=require_isMasked(),r=requireIsObject(),n=require_toSource(),a=/^\[object .+?Constructor\]$/,o=Function.prototype,i=Object.prototype,s=o.toString,c=i.hasOwnProperty,l=RegExp("^"+s.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return _baseIsNative=function(o){return!(!r(o)||t(o))&&(e(o)?l:a).test(n(o))}}function require_getValue(){if(hasRequired_getValue)return _getValue;return hasRequired_getValue=1,_getValue=function(e,t){return null==e?void 0:e[t]},_getValue}function require_getNative(){if(hasRequired_getNative)return _getNative;hasRequired_getNative=1;var e=require_baseIsNative(),t=require_getValue();return _getNative=function(r,n){var a=t(r,n);return e(a)?a:void 0},_getNative}function require_defineProperty(){if(hasRequired_defineProperty)return _defineProperty;hasRequired_defineProperty=1;var e=require_getNative(),t=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();return _defineProperty=t}function require_baseAssignValue(){if(hasRequired_baseAssignValue)return _baseAssignValue;hasRequired_baseAssignValue=1;var e=require_defineProperty();return _baseAssignValue=function(t,r,n){"__proto__"==r&&e?e(t,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[r]=n},_baseAssignValue}function requireEq(){if(hasRequiredEq)return eq_1;return hasRequiredEq=1,eq_1=function(e,t){return e===t||e!=e&&t!=t}}function require_assignValue(){if(hasRequired_assignValue)return _assignValue;hasRequired_assignValue=1;var e=require_baseAssignValue(),t=requireEq(),r=Object.prototype.hasOwnProperty;return _assignValue=function(n,a,o){var i=n[a];r.call(n,a)&&t(i,o)&&(void 0!==o||a in n)||e(n,a,o)},_assignValue}function requireIsArray(){if(hasRequiredIsArray)return isArray_1;hasRequiredIsArray=1;var e=Array.isArray;return isArray_1=e}function requireIsObjectLike(){if(hasRequiredIsObjectLike)return isObjectLike_1;return hasRequiredIsObjectLike=1,isObjectLike_1=function(e){return null!=e&&"object"==typeof e}}function requireIsSymbol(){if(hasRequiredIsSymbol)return isSymbol_1;hasRequiredIsSymbol=1;var e=require_baseGetTag(),t=requireIsObjectLike();return isSymbol_1=function(r){return"symbol"==typeof r||t(r)&&"[object Symbol]"==e(r)}}function require_isKey(){if(hasRequired_isKey)return _isKey;hasRequired_isKey=1;var e=requireIsArray(),t=requireIsSymbol(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;return _isKey=function(a,o){if(e(a))return!1;var i=typeof a;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=a&&!t(a))||(n.test(a)||!r.test(a)||null!=o&&a in Object(o))},_isKey}function require_nativeCreate(){if(hasRequired_nativeCreate)return _nativeCreate;hasRequired_nativeCreate=1;var e=require_getNative()(Object,"create");return _nativeCreate=e}function require_hashClear(){if(hasRequired_hashClear)return _hashClear;hasRequired_hashClear=1;var e=require_nativeCreate();return _hashClear=function(){this.__data__=e?e(null):{},this.size=0}}function require_hashDelete(){if(hasRequired_hashDelete)return _hashDelete;return hasRequired_hashDelete=1,_hashDelete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}}function require_hashGet(){if(hasRequired_hashGet)return _hashGet;hasRequired_hashGet=1;var e=require_nativeCreate(),t=Object.prototype.hasOwnProperty;return _hashGet=function(r){var n=this.__data__;if(e){var a=n[r];return"__lodash_hash_undefined__"===a?void 0:a}return t.call(n,r)?n[r]:void 0}}function require_hashHas(){if(hasRequired_hashHas)return _hashHas;hasRequired_hashHas=1;var e=require_nativeCreate(),t=Object.prototype.hasOwnProperty;return _hashHas=function(r){var n=this.__data__;return e?void 0!==n[r]:t.call(n,r)}}function require_hashSet(){if(hasRequired_hashSet)return _hashSet;hasRequired_hashSet=1;var e=require_nativeCreate();return _hashSet=function(t,r){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=e&&void 0===r?"__lodash_hash_undefined__":r,this}}function require_Hash(){if(hasRequired_Hash)return _Hash;hasRequired_Hash=1;var e=require_hashClear(),t=require_hashDelete(),r=require_hashGet(),n=require_hashHas(),a=require_hashSet();function o(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,_Hash=o}function require_listCacheClear(){if(hasRequired_listCacheClear)return _listCacheClear;return hasRequired_listCacheClear=1,_listCacheClear=function(){this.__data__=[],this.size=0}}function require_assocIndexOf(){if(hasRequired_assocIndexOf)return _assocIndexOf;hasRequired_assocIndexOf=1;var e=requireEq();return _assocIndexOf=function(t,r){for(var n=t.length;n--;)if(e(t[n][0],r))return n;return-1},_assocIndexOf}function require_listCacheDelete(){if(hasRequired_listCacheDelete)return _listCacheDelete;hasRequired_listCacheDelete=1;var e=require_assocIndexOf(),t=Array.prototype.splice;return _listCacheDelete=function(r){var n=this.__data__,a=e(n,r);return!(a<0)&&(a==n.length-1?n.pop():t.call(n,a,1),--this.size,!0)},_listCacheDelete}function require_listCacheGet(){if(hasRequired_listCacheGet)return _listCacheGet;hasRequired_listCacheGet=1;var e=require_assocIndexOf();return _listCacheGet=function(t){var r=this.__data__,n=e(r,t);return n<0?void 0:r[n][1]},_listCacheGet}function require_listCacheHas(){if(hasRequired_listCacheHas)return _listCacheHas;hasRequired_listCacheHas=1;var e=require_assocIndexOf();return _listCacheHas=function(t){return e(this.__data__,t)>-1}}function require_listCacheSet(){if(hasRequired_listCacheSet)return _listCacheSet;hasRequired_listCacheSet=1;var e=require_assocIndexOf();return _listCacheSet=function(t,r){var n=this.__data__,a=e(n,t);return a<0?(++this.size,n.push([t,r])):n[a][1]=r,this},_listCacheSet}function require_ListCache(){if(hasRequired_ListCache)return _ListCache;hasRequired_ListCache=1;var e=require_listCacheClear(),t=require_listCacheDelete(),r=require_listCacheGet(),n=require_listCacheHas(),a=require_listCacheSet();function o(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,_ListCache=o}function require_Map(){if(hasRequired_Map)return _Map;hasRequired_Map=1;var e=require_getNative()(require_root(),"Map");return _Map=e}function require_mapCacheClear(){if(hasRequired_mapCacheClear)return _mapCacheClear;hasRequired_mapCacheClear=1;var e=require_Hash(),t=require_ListCache(),r=require_Map();return _mapCacheClear=function(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}}function require_isKeyable(){if(hasRequired_isKeyable)return _isKeyable;return hasRequired_isKeyable=1,_isKeyable=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},_isKeyable}function require_getMapData(){if(hasRequired_getMapData)return _getMapData;hasRequired_getMapData=1;var e=require_isKeyable();return _getMapData=function(t,r){var n=t.__data__;return e(r)?n["string"==typeof r?"string":"hash"]:n.map}}function require_mapCacheDelete(){if(hasRequired_mapCacheDelete)return _mapCacheDelete;hasRequired_mapCacheDelete=1;var e=require_getMapData();return _mapCacheDelete=function(t){var r=e(this,t).delete(t);return this.size-=r?1:0,r}}function require_mapCacheGet(){if(hasRequired_mapCacheGet)return _mapCacheGet;hasRequired_mapCacheGet=1;var e=require_getMapData();return _mapCacheGet=function(t){return e(this,t).get(t)}}function require_mapCacheHas(){if(hasRequired_mapCacheHas)return _mapCacheHas;hasRequired_mapCacheHas=1;var e=require_getMapData();return _mapCacheHas=function(t){return e(this,t).has(t)}}function require_mapCacheSet(){if(hasRequired_mapCacheSet)return _mapCacheSet;hasRequired_mapCacheSet=1;var e=require_getMapData();return _mapCacheSet=function(t,r){var n=e(this,t),a=n.size;return n.set(t,r),this.size+=n.size==a?0:1,this}}function require_MapCache(){if(hasRequired_MapCache)return _MapCache;hasRequired_MapCache=1;var e=require_mapCacheClear(),t=require_mapCacheDelete(),r=require_mapCacheGet(),n=require_mapCacheHas(),a=require_mapCacheSet();function o(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return o.prototype.clear=e,o.prototype.delete=t,o.prototype.get=r,o.prototype.has=n,o.prototype.set=a,_MapCache=o}function requireMemoize(){if(hasRequiredMemoize)return memoize_1;hasRequiredMemoize=1;var e=require_MapCache();function t(r,n){if("function"!=typeof r||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var a=function(){var e=arguments,t=n?n.apply(this,e):e[0],o=a.cache;if(o.has(t))return o.get(t);var i=r.apply(this,e);return a.cache=o.set(t,i)||o,i};return a.cache=new(t.Cache||e),a}return t.Cache=e,memoize_1=t}function require_memoizeCapped(){if(hasRequired_memoizeCapped)return _memoizeCapped;hasRequired_memoizeCapped=1;var e=requireMemoize();return _memoizeCapped=function(t){var r=e(t,(function(e){return 500===n.size&&n.clear(),e})),n=r.cache;return r},_memoizeCapped}function require_stringToPath(){if(hasRequired_stringToPath)return _stringToPath;hasRequired_stringToPath=1;var e=require_memoizeCapped(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e((function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(t,(function(e,t,a,o){n.push(a?o.replace(r,"$1"):t||e)})),n}));return _stringToPath=n}function require_arrayMap(){if(hasRequired_arrayMap)return _arrayMap;return hasRequired_arrayMap=1,_arrayMap=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a},_arrayMap}function require_baseToString(){if(hasRequired_baseToString)return _baseToString;hasRequired_baseToString=1;var e=require_Symbol(),t=require_arrayMap(),r=requireIsArray(),n=requireIsSymbol(),a=e?e.prototype:void 0,o=a?a.toString:void 0;return _baseToString=function e(a){if("string"==typeof a)return a;if(r(a))return t(a,e)+"";if(n(a))return o?o.call(a):"";var i=a+"";return"0"==i&&1/a==-1/0?"-0":i},_baseToString}function requireToString(){if(hasRequiredToString)return toString_1;hasRequiredToString=1;var e=require_baseToString();return toString_1=function(t){return null==t?"":e(t)}}function require_castPath(){if(hasRequired_castPath)return _castPath;hasRequired_castPath=1;var e=requireIsArray(),t=require_isKey(),r=require_stringToPath(),n=requireToString();return _castPath=function(a,o){return e(a)?a:t(a,o)?[a]:r(n(a))},_castPath}function require_isIndex(){if(hasRequired_isIndex)return _isIndex;hasRequired_isIndex=1;var e=/^(?:0|[1-9]\d*)$/;return _isIndex=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r},_isIndex}function require_toKey(){if(hasRequired_toKey)return _toKey;hasRequired_toKey=1;var e=requireIsSymbol();return _toKey=function(t){if("string"==typeof t||e(t))return t;var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}}function require_baseSet(){if(hasRequired_baseSet)return _baseSet;hasRequired_baseSet=1;var e=require_assignValue(),t=require_castPath(),r=require_isIndex(),n=requireIsObject(),a=require_toKey();return _baseSet=function(o,i,s,c){if(!n(o))return o;for(var l=-1,u=(i=t(i,o)).length,d=u-1,p=o;null!=p&&++l<u;){var h=a(i[l]),f=s;if("__proto__"===h||"constructor"===h||"prototype"===h)return o;if(l!=d){var m=p[h];void 0===(f=c?c(m,h,p):void 0)&&(f=n(m)?m:r(i[l+1])?[]:{})}e(p,h,f),p=p[h]}return o},_baseSet}function requireSetWith(){if(hasRequiredSetWith)return setWith_1;hasRequiredSetWith=1;var e=require_baseSet();return setWith_1=function(t,r,n,a){return a="function"==typeof a?a:void 0,null==t?t:e(t,r,n,a)},setWith_1}var setWithExports=requireSetWith(),setWith=getDefaultExportFromCjs(setWithExports);const isArray=e=>Array.isArray(e);function set$1(e,t,r){if(!(isArray(t)?[...t]:t.split(".")).length)throw new Error("Key should not be empty");setWith(e,t,r,(e=>isObject(e)?e:{}))}function clone(e){if(!e||"object"!=typeof e)return e;try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}function makeUnique(e){const t=new Set;return e.map((e=>{let r=e,n=0;for(;t.has(r);)r="".concat(e,"_").concat(++n);return t.add(r),r}))}var cjs,hasRequiredCjs;function requireCjs(){if(hasRequiredCjs)return cjs;hasRequiredCjs=1;var e=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var r=Object.prototype.toString.call(e);return"[object RegExp]"===r||"[object Date]"===r||function(e){return e.$$typeof===t}(e)}(e)};var t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function n(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function o(e,t){try{return t in e}catch(e){return!1}}function i(e,t,n){var i={};return n.isMergeableObject(e)&&a(e).forEach((function(t){i[t]=r(e[t],n)})),a(t).forEach((function(a){(function(e,t){return o(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,a)||(o(e,a)&&n.isMergeableObject(t[a])?i[a]=function(e,t){if(!t.customMerge)return s;var r=t.customMerge(e);return"function"==typeof r?r:s}(a,n)(e[a],t[a],n):i[a]=r(t[a],n))})),i}function s(t,a,o){(o=o||{}).arrayMerge=o.arrayMerge||n,o.isMergeableObject=o.isMergeableObject||e,o.cloneUnlessOtherwiseSpecified=r;var s=Array.isArray(a);return s===Array.isArray(t)?s?o.arrayMerge(t,a,o):i(t,a,o):r(a,o)}return s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return s(e,r,t)}),{})},cjs=s}var cjsExports=requireCjs(),deepmerge=getDefaultExportFromCjs(cjsExports),_arrayEvery,hasRequired_arrayEvery,_createBaseFor,hasRequired_createBaseFor,_baseFor,hasRequired_baseFor,_baseTimes,hasRequired_baseTimes,_baseIsArguments,hasRequired_baseIsArguments,isArguments_1,hasRequiredIsArguments;function require_arrayEvery(){if(hasRequired_arrayEvery)return _arrayEvery;return hasRequired_arrayEvery=1,_arrayEvery=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0},_arrayEvery}function require_createBaseFor(){if(hasRequired_createBaseFor)return _createBaseFor;return hasRequired_createBaseFor=1,_createBaseFor=function(e){return function(t,r,n){for(var a=-1,o=Object(t),i=n(t),s=i.length;s--;){var c=i[e?s:++a];if(!1===r(o[c],c,o))break}return t}},_createBaseFor}function require_baseFor(){if(hasRequired_baseFor)return _baseFor;hasRequired_baseFor=1;var e=require_createBaseFor()();return _baseFor=e}function require_baseTimes(){if(hasRequired_baseTimes)return _baseTimes;return hasRequired_baseTimes=1,_baseTimes=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},_baseTimes}function require_baseIsArguments(){if(hasRequired_baseIsArguments)return _baseIsArguments;hasRequired_baseIsArguments=1;var e=require_baseGetTag(),t=requireIsObjectLike();return _baseIsArguments=function(r){return t(r)&&"[object Arguments]"==e(r)}}function requireIsArguments(){if(hasRequiredIsArguments)return isArguments_1;hasRequiredIsArguments=1;var e=require_baseIsArguments(),t=requireIsObjectLike(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,o=e(function(){return arguments}())?e:function(e){return t(e)&&n.call(e,"callee")&&!a.call(e,"callee")};return isArguments_1=o}var isBuffer={exports:{}},stubFalse_1,hasRequiredStubFalse,hasRequiredIsBuffer,isLength_1,hasRequiredIsLength,_baseIsTypedArray,hasRequired_baseIsTypedArray,_baseUnary,hasRequired_baseUnary;function requireStubFalse(){if(hasRequiredStubFalse)return stubFalse_1;return hasRequiredStubFalse=1,stubFalse_1=function(){return!1}}function requireIsBuffer(){return hasRequiredIsBuffer||(hasRequiredIsBuffer=1,function(e,t){var r=require_root(),n=requireStubFalse(),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,i=o&&o.exports===a?r.Buffer:void 0,s=(i?i.isBuffer:void 0)||n;e.exports=s}(isBuffer,isBuffer.exports)),isBuffer.exports}function requireIsLength(){if(hasRequiredIsLength)return isLength_1;hasRequiredIsLength=1;return isLength_1=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}}function require_baseIsTypedArray(){if(hasRequired_baseIsTypedArray)return _baseIsTypedArray;hasRequired_baseIsTypedArray=1;var e=require_baseGetTag(),t=requireIsLength(),r=requireIsObjectLike(),n={};return n["[object Float32Array]"]=n["[object Float64Array]"]=n["[object Int8Array]"]=n["[object Int16Array]"]=n["[object Int32Array]"]=n["[object Uint8Array]"]=n["[object Uint8ClampedArray]"]=n["[object Uint16Array]"]=n["[object Uint32Array]"]=!0,n["[object Arguments]"]=n["[object Array]"]=n["[object ArrayBuffer]"]=n["[object Boolean]"]=n["[object DataView]"]=n["[object Date]"]=n["[object Error]"]=n["[object Function]"]=n["[object Map]"]=n["[object Number]"]=n["[object Object]"]=n["[object RegExp]"]=n["[object Set]"]=n["[object String]"]=n["[object WeakMap]"]=!1,_baseIsTypedArray=function(a){return r(a)&&t(a.length)&&!!n[e(a)]}}function require_baseUnary(){if(hasRequired_baseUnary)return _baseUnary;return hasRequired_baseUnary=1,_baseUnary=function(e){return function(t){return e(t)}}}isBuffer.exports;var _nodeUtil={exports:{}},hasRequired_nodeUtil,isTypedArray_1,hasRequiredIsTypedArray,_arrayLikeKeys,hasRequired_arrayLikeKeys,_isPrototype,hasRequired_isPrototype,_overArg,hasRequired_overArg,_nativeKeys,hasRequired_nativeKeys,_baseKeys,hasRequired_baseKeys,isArrayLike_1,hasRequiredIsArrayLike,keys_1,hasRequiredKeys,_baseForOwn,hasRequired_baseForOwn,_createBaseEach,hasRequired_createBaseEach,_baseEach,hasRequired_baseEach,_baseEvery,hasRequired_baseEvery,_stackClear,hasRequired_stackClear,_stackDelete,hasRequired_stackDelete,_stackGet,hasRequired_stackGet,_stackHas,hasRequired_stackHas,_stackSet,hasRequired_stackSet,_Stack,hasRequired_Stack,_setCacheAdd,hasRequired_setCacheAdd,_setCacheHas,hasRequired_setCacheHas,_SetCache,hasRequired_SetCache,_arraySome,hasRequired_arraySome,_cacheHas,hasRequired_cacheHas,_equalArrays,hasRequired_equalArrays,_Uint8Array,hasRequired_Uint8Array,_mapToArray,hasRequired_mapToArray,_setToArray,hasRequired_setToArray,_equalByTag,hasRequired_equalByTag,_arrayPush,hasRequired_arrayPush,_baseGetAllKeys,hasRequired_baseGetAllKeys,_arrayFilter,hasRequired_arrayFilter,stubArray_1,hasRequiredStubArray,_getSymbols,hasRequired_getSymbols,_getAllKeys,hasRequired_getAllKeys,_equalObjects,hasRequired_equalObjects,_DataView,hasRequired_DataView,_Promise,hasRequired_Promise,_Set,hasRequired_Set,_WeakMap,hasRequired_WeakMap,_getTag,hasRequired_getTag,_baseIsEqualDeep,hasRequired_baseIsEqualDeep,_baseIsEqual,hasRequired_baseIsEqual,_baseIsMatch,hasRequired_baseIsMatch,_isStrictComparable,hasRequired_isStrictComparable,_getMatchData,hasRequired_getMatchData,_matchesStrictComparable,hasRequired_matchesStrictComparable,_baseMatches,hasRequired_baseMatches,_baseGet,hasRequired_baseGet,get_1,hasRequiredGet,_baseHasIn,hasRequired_baseHasIn,_hasPath,hasRequired_hasPath,hasIn_1,hasRequiredHasIn,_baseMatchesProperty,hasRequired_baseMatchesProperty,identity_1,hasRequiredIdentity,_baseProperty,hasRequired_baseProperty,_basePropertyDeep,hasRequired_basePropertyDeep,property_1,hasRequiredProperty,_baseIteratee,hasRequired_baseIteratee,_isIterateeCall,hasRequired_isIterateeCall,every_1,hasRequiredEvery;function require_nodeUtil(){return hasRequired_nodeUtil||(hasRequired_nodeUtil=1,e=_nodeUtil,t=_nodeUtil.exports,r=require_freeGlobal(),n=t&&!t.nodeType&&t,a=n&&e&&!e.nodeType&&e,o=a&&a.exports===n&&r.process,i=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}(),e.exports=i),_nodeUtil.exports;var e,t,r,n,a,o,i}function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray_1;hasRequiredIsTypedArray=1;var e=require_baseIsTypedArray(),t=require_baseUnary(),r=require_nodeUtil(),n=r&&r.isTypedArray,a=n?t(n):e;return isTypedArray_1=a}function require_arrayLikeKeys(){if(hasRequired_arrayLikeKeys)return _arrayLikeKeys;hasRequired_arrayLikeKeys=1;var e=require_baseTimes(),t=requireIsArguments(),r=requireIsArray(),n=requireIsBuffer(),a=require_isIndex(),o=requireIsTypedArray(),i=Object.prototype.hasOwnProperty;return _arrayLikeKeys=function(s,c){var l=r(s),u=!l&&t(s),d=!l&&!u&&n(s),p=!l&&!u&&!d&&o(s),h=l||u||d||p,f=h?e(s.length,String):[],m=f.length;for(var _ in s)!c&&!i.call(s,_)||h&&("length"==_||d&&("offset"==_||"parent"==_)||p&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||a(_,m))||f.push(_);return f},_arrayLikeKeys}function require_isPrototype(){if(hasRequired_isPrototype)return _isPrototype;hasRequired_isPrototype=1;var e=Object.prototype;return _isPrototype=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||e)}}function require_overArg(){if(hasRequired_overArg)return _overArg;return hasRequired_overArg=1,_overArg=function(e,t){return function(r){return e(t(r))}}}function require_nativeKeys(){if(hasRequired_nativeKeys)return _nativeKeys;hasRequired_nativeKeys=1;var e=require_overArg()(Object.keys,Object);return _nativeKeys=e}function require_baseKeys(){if(hasRequired_baseKeys)return _baseKeys;hasRequired_baseKeys=1;var e=require_isPrototype(),t=require_nativeKeys(),r=Object.prototype.hasOwnProperty;return _baseKeys=function(n){if(!e(n))return t(n);var a=[];for(var o in Object(n))r.call(n,o)&&"constructor"!=o&&a.push(o);return a},_baseKeys}function requireIsArrayLike(){if(hasRequiredIsArrayLike)return isArrayLike_1;hasRequiredIsArrayLike=1;var e=requireIsFunction(),t=requireIsLength();return isArrayLike_1=function(r){return null!=r&&t(r.length)&&!e(r)}}function requireKeys(){if(hasRequiredKeys)return keys_1;hasRequiredKeys=1;var e=require_arrayLikeKeys(),t=require_baseKeys(),r=requireIsArrayLike();return keys_1=function(n){return r(n)?e(n):t(n)},keys_1}function require_baseForOwn(){if(hasRequired_baseForOwn)return _baseForOwn;hasRequired_baseForOwn=1;var e=require_baseFor(),t=requireKeys();return _baseForOwn=function(r,n){return r&&e(r,n,t)},_baseForOwn}function require_createBaseEach(){if(hasRequired_createBaseEach)return _createBaseEach;hasRequired_createBaseEach=1;var e=requireIsArrayLike();return _createBaseEach=function(t,r){return function(n,a){if(null==n)return n;if(!e(n))return t(n,a);for(var o=n.length,i=r?o:-1,s=Object(n);(r?i--:++i<o)&&!1!==a(s[i],i,s););return n}},_createBaseEach}function require_baseEach(){if(hasRequired_baseEach)return _baseEach;hasRequired_baseEach=1;var e=require_baseForOwn(),t=require_createBaseEach()(e);return _baseEach=t}function require_baseEvery(){if(hasRequired_baseEvery)return _baseEvery;hasRequired_baseEvery=1;var e=require_baseEach();return _baseEvery=function(t,r){var n=!0;return e(t,(function(e,t,a){return n=!!r(e,t,a)})),n},_baseEvery}function require_stackClear(){if(hasRequired_stackClear)return _stackClear;hasRequired_stackClear=1;var e=require_ListCache();return _stackClear=function(){this.__data__=new e,this.size=0}}function require_stackDelete(){if(hasRequired_stackDelete)return _stackDelete;return hasRequired_stackDelete=1,_stackDelete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}}function require_stackGet(){if(hasRequired_stackGet)return _stackGet;return hasRequired_stackGet=1,_stackGet=function(e){return this.__data__.get(e)}}function require_stackHas(){if(hasRequired_stackHas)return _stackHas;return hasRequired_stackHas=1,_stackHas=function(e){return this.__data__.has(e)}}function require_stackSet(){if(hasRequired_stackSet)return _stackSet;hasRequired_stackSet=1;var e=require_ListCache(),t=require_Map(),r=require_MapCache();return _stackSet=function(n,a){var o=this.__data__;if(o instanceof e){var i=o.__data__;if(!t||i.length<199)return i.push([n,a]),this.size=++o.size,this;o=this.__data__=new r(i)}return o.set(n,a),this.size=o.size,this}}function require_Stack(){if(hasRequired_Stack)return _Stack;hasRequired_Stack=1;var e=require_ListCache(),t=require_stackClear(),r=require_stackDelete(),n=require_stackGet(),a=require_stackHas(),o=require_stackSet();function i(t){var r=this.__data__=new e(t);this.size=r.size}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=a,i.prototype.set=o,_Stack=i}function require_setCacheAdd(){if(hasRequired_setCacheAdd)return _setCacheAdd;hasRequired_setCacheAdd=1;return _setCacheAdd=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}}function require_setCacheHas(){if(hasRequired_setCacheHas)return _setCacheHas;return hasRequired_setCacheHas=1,_setCacheHas=function(e){return this.__data__.has(e)}}function require_SetCache(){if(hasRequired_SetCache)return _SetCache;hasRequired_SetCache=1;var e=require_MapCache(),t=require_setCacheAdd(),r=require_setCacheHas();function n(t){var r=-1,n=null==t?0:t.length;for(this.__data__=new e;++r<n;)this.add(t[r])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,_SetCache=n}function require_arraySome(){if(hasRequired_arraySome)return _arraySome;return hasRequired_arraySome=1,_arraySome=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1},_arraySome}function require_cacheHas(){if(hasRequired_cacheHas)return _cacheHas;return hasRequired_cacheHas=1,_cacheHas=function(e,t){return e.has(t)},_cacheHas}function require_equalArrays(){if(hasRequired_equalArrays)return _equalArrays;hasRequired_equalArrays=1;var e=require_SetCache(),t=require_arraySome(),r=require_cacheHas();return _equalArrays=function(n,a,o,i,s,c){var l=1&o,u=n.length,d=a.length;if(u!=d&&!(l&&d>u))return!1;var p=c.get(n),h=c.get(a);if(p&&h)return p==a&&h==n;var f=-1,m=!0,_=2&o?new e:void 0;for(c.set(n,a),c.set(a,n);++f<u;){var g=n[f],y=a[f];if(i)var b=l?i(y,g,f,a,n,c):i(g,y,f,n,a,c);if(void 0!==b){if(b)continue;m=!1;break}if(_){if(!t(a,(function(e,t){if(!r(_,t)&&(g===e||s(g,e,o,i,c)))return _.push(t)}))){m=!1;break}}else if(g!==y&&!s(g,y,o,i,c)){m=!1;break}}return c.delete(n),c.delete(a),m},_equalArrays}function require_Uint8Array(){if(hasRequired_Uint8Array)return _Uint8Array;hasRequired_Uint8Array=1;var e=require_root().Uint8Array;return _Uint8Array=e}function require_mapToArray(){if(hasRequired_mapToArray)return _mapToArray;return hasRequired_mapToArray=1,_mapToArray=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r},_mapToArray}function require_setToArray(){if(hasRequired_setToArray)return _setToArray;return hasRequired_setToArray=1,_setToArray=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},_setToArray}function require_equalByTag(){if(hasRequired_equalByTag)return _equalByTag;hasRequired_equalByTag=1;var e=require_Symbol(),t=require_Uint8Array(),r=requireEq(),n=require_equalArrays(),a=require_mapToArray(),o=require_setToArray(),i=e?e.prototype:void 0,s=i?i.valueOf:void 0;return _equalByTag=function(e,i,c,l,u,d,p){switch(c){case"[object DataView]":if(e.byteLength!=i.byteLength||e.byteOffset!=i.byteOffset)return!1;e=e.buffer,i=i.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=i.byteLength||!d(new t(e),new t(i)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+i);case"[object Error]":return e.name==i.name&&e.message==i.message;case"[object RegExp]":case"[object String]":return e==i+"";case"[object Map]":var h=a;case"[object Set]":var f=1&l;if(h||(h=o),e.size!=i.size&&!f)return!1;var m=p.get(e);if(m)return m==i;l|=2,p.set(e,i);var _=n(h(e),h(i),l,u,d,p);return p.delete(e),_;case"[object Symbol]":if(s)return s.call(e)==s.call(i)}return!1},_equalByTag}function require_arrayPush(){if(hasRequired_arrayPush)return _arrayPush;return hasRequired_arrayPush=1,_arrayPush=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e},_arrayPush}function require_baseGetAllKeys(){if(hasRequired_baseGetAllKeys)return _baseGetAllKeys;hasRequired_baseGetAllKeys=1;var e=require_arrayPush(),t=requireIsArray();return _baseGetAllKeys=function(r,n,a){var o=n(r);return t(r)?o:e(o,a(r))},_baseGetAllKeys}function require_arrayFilter(){if(hasRequired_arrayFilter)return _arrayFilter;return hasRequired_arrayFilter=1,_arrayFilter=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o},_arrayFilter}function requireStubArray(){if(hasRequiredStubArray)return stubArray_1;return hasRequiredStubArray=1,stubArray_1=function(){return[]}}function require_getSymbols(){if(hasRequired_getSymbols)return _getSymbols;hasRequired_getSymbols=1;var e=require_arrayFilter(),t=requireStubArray(),r=Object.prototype.propertyIsEnumerable,n=Object.getOwnPropertySymbols,a=n?function(t){return null==t?[]:(t=Object(t),e(n(t),(function(e){return r.call(t,e)})))}:t;return _getSymbols=a}function require_getAllKeys(){if(hasRequired_getAllKeys)return _getAllKeys;hasRequired_getAllKeys=1;var e=require_baseGetAllKeys(),t=require_getSymbols(),r=requireKeys();return _getAllKeys=function(n){return e(n,r,t)},_getAllKeys}function require_equalObjects(){if(hasRequired_equalObjects)return _equalObjects;hasRequired_equalObjects=1;var e=require_getAllKeys(),t=Object.prototype.hasOwnProperty;return _equalObjects=function(r,n,a,o,i,s){var c=1&a,l=e(r),u=l.length;if(u!=e(n).length&&!c)return!1;for(var d=u;d--;){var p=l[d];if(!(c?p in n:t.call(n,p)))return!1}var h=s.get(r),f=s.get(n);if(h&&f)return h==n&&f==r;var m=!0;s.set(r,n),s.set(n,r);for(var _=c;++d<u;){var g=r[p=l[d]],y=n[p];if(o)var b=c?o(y,g,p,n,r,s):o(g,y,p,r,n,s);if(!(void 0===b?g===y||i(g,y,a,o,s):b)){m=!1;break}_||(_="constructor"==p)}if(m&&!_){var $=r.constructor,v=n.constructor;$==v||!("constructor"in r)||!("constructor"in n)||"function"==typeof $&&$ instanceof $&&"function"==typeof v&&v instanceof v||(m=!1)}return s.delete(r),s.delete(n),m},_equalObjects}function require_DataView(){if(hasRequired_DataView)return _DataView;hasRequired_DataView=1;var e=require_getNative()(require_root(),"DataView");return _DataView=e}function require_Promise(){if(hasRequired_Promise)return _Promise;hasRequired_Promise=1;var e=require_getNative()(require_root(),"Promise");return _Promise=e}function require_Set(){if(hasRequired_Set)return _Set;hasRequired_Set=1;var e=require_getNative()(require_root(),"Set");return _Set=e}function require_WeakMap(){if(hasRequired_WeakMap)return _WeakMap;hasRequired_WeakMap=1;var e=require_getNative()(require_root(),"WeakMap");return _WeakMap=e}function require_getTag(){if(hasRequired_getTag)return _getTag;hasRequired_getTag=1;var e=require_DataView(),t=require_Map(),r=require_Promise(),n=require_Set(),a=require_WeakMap(),o=require_baseGetTag(),i=require_toSource(),s="[object Map]",c="[object Promise]",l="[object Set]",u="[object WeakMap]",d="[object DataView]",p=i(e),h=i(t),f=i(r),m=i(n),_=i(a),g=o;return(e&&g(new e(new ArrayBuffer(1)))!=d||t&&g(new t)!=s||r&&g(r.resolve())!=c||n&&g(new n)!=l||a&&g(new a)!=u)&&(g=function(e){var t=o(e),r="[object Object]"==t?e.constructor:void 0,n=r?i(r):"";if(n)switch(n){case p:return d;case h:return s;case f:return c;case m:return l;case _:return u}return t}),_getTag=g}function require_baseIsEqualDeep(){if(hasRequired_baseIsEqualDeep)return _baseIsEqualDeep;hasRequired_baseIsEqualDeep=1;var e=require_Stack(),t=require_equalArrays(),r=require_equalByTag(),n=require_equalObjects(),a=require_getTag(),o=requireIsArray(),i=requireIsBuffer(),s=requireIsTypedArray(),c="[object Arguments]",l="[object Array]",u="[object Object]",d=Object.prototype.hasOwnProperty;return _baseIsEqualDeep=function(p,h,f,m,_,g){var y=o(p),b=o(h),$=y?l:a(p),v=b?l:a(h),k=($=$==c?u:$)==u,x=(v=v==c?u:v)==u,w=$==v;if(w&&i(p)){if(!i(h))return!1;y=!0,k=!1}if(w&&!k)return g||(g=new e),y||s(p)?t(p,h,f,m,_,g):r(p,h,$,f,m,_,g);if(!(1&f)){var q=k&&d.call(p,"__wrapped__"),S=x&&d.call(h,"__wrapped__");if(q||S){var E=q?p.value():p,R=S?h.value():h;return g||(g=new e),_(E,R,f,m,g)}}return!!w&&(g||(g=new e),n(p,h,f,m,_,g))},_baseIsEqualDeep}function require_baseIsEqual(){if(hasRequired_baseIsEqual)return _baseIsEqual;hasRequired_baseIsEqual=1;var e=require_baseIsEqualDeep(),t=requireIsObjectLike();return _baseIsEqual=function r(n,a,o,i,s){return n===a||(null==n||null==a||!t(n)&&!t(a)?n!=n&&a!=a:e(n,a,o,i,r,s))},_baseIsEqual}function require_baseIsMatch(){if(hasRequired_baseIsMatch)return _baseIsMatch;hasRequired_baseIsMatch=1;var e=require_Stack(),t=require_baseIsEqual();return _baseIsMatch=function(r,n,a,o){var i=a.length,s=i,c=!o;if(null==r)return!s;for(r=Object(r);i--;){var l=a[i];if(c&&l[2]?l[1]!==r[l[0]]:!(l[0]in r))return!1}for(;++i<s;){var u=(l=a[i])[0],d=r[u],p=l[1];if(c&&l[2]){if(void 0===d&&!(u in r))return!1}else{var h=new e;if(o)var f=o(d,p,u,r,n,h);if(!(void 0===f?t(p,d,3,o,h):f))return!1}}return!0},_baseIsMatch}function require_isStrictComparable(){if(hasRequired_isStrictComparable)return _isStrictComparable;hasRequired_isStrictComparable=1;var e=requireIsObject();return _isStrictComparable=function(t){return t==t&&!e(t)}}function require_getMatchData(){if(hasRequired_getMatchData)return _getMatchData;hasRequired_getMatchData=1;var e=require_isStrictComparable(),t=requireKeys();return _getMatchData=function(r){for(var n=t(r),a=n.length;a--;){var o=n[a],i=r[o];n[a]=[o,i,e(i)]}return n},_getMatchData}function require_matchesStrictComparable(){if(hasRequired_matchesStrictComparable)return _matchesStrictComparable;return hasRequired_matchesStrictComparable=1,_matchesStrictComparable=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}},_matchesStrictComparable}function require_baseMatches(){if(hasRequired_baseMatches)return _baseMatches;hasRequired_baseMatches=1;var e=require_baseIsMatch(),t=require_getMatchData(),r=require_matchesStrictComparable();return _baseMatches=function(n){var a=t(n);return 1==a.length&&a[0][2]?r(a[0][0],a[0][1]):function(t){return t===n||e(t,n,a)}},_baseMatches}function require_baseGet(){if(hasRequired_baseGet)return _baseGet;hasRequired_baseGet=1;var e=require_castPath(),t=require_toKey();return _baseGet=function(r,n){for(var a=0,o=(n=e(n,r)).length;null!=r&&a<o;)r=r[t(n[a++])];return a&&a==o?r:void 0},_baseGet}function requireGet(){if(hasRequiredGet)return get_1;hasRequiredGet=1;var e=require_baseGet();return get_1=function(t,r,n){var a=null==t?void 0:e(t,r);return void 0===a?n:a},get_1}function require_baseHasIn(){if(hasRequired_baseHasIn)return _baseHasIn;return hasRequired_baseHasIn=1,_baseHasIn=function(e,t){return null!=e&&t in Object(e)},_baseHasIn}function require_hasPath(){if(hasRequired_hasPath)return _hasPath;hasRequired_hasPath=1;var e=require_castPath(),t=requireIsArguments(),r=requireIsArray(),n=require_isIndex(),a=requireIsLength(),o=require_toKey();return _hasPath=function(i,s,c){for(var l=-1,u=(s=e(s,i)).length,d=!1;++l<u;){var p=o(s[l]);if(!(d=null!=i&&c(i,p)))break;i=i[p]}return d||++l!=u?d:!!(u=null==i?0:i.length)&&a(u)&&n(p,u)&&(r(i)||t(i))},_hasPath}function requireHasIn(){if(hasRequiredHasIn)return hasIn_1;hasRequiredHasIn=1;var e=require_baseHasIn(),t=require_hasPath();return hasIn_1=function(r,n){return null!=r&&t(r,n,e)},hasIn_1}function require_baseMatchesProperty(){if(hasRequired_baseMatchesProperty)return _baseMatchesProperty;hasRequired_baseMatchesProperty=1;var e=require_baseIsEqual(),t=requireGet(),r=requireHasIn(),n=require_isKey(),a=require_isStrictComparable(),o=require_matchesStrictComparable(),i=require_toKey();return _baseMatchesProperty=function(s,c){return n(s)&&a(c)?o(i(s),c):function(n){var a=t(n,s);return void 0===a&&a===c?r(n,s):e(c,a,3)}},_baseMatchesProperty}function requireIdentity(){if(hasRequiredIdentity)return identity_1;return hasRequiredIdentity=1,identity_1=function(e){return e}}function require_baseProperty(){if(hasRequired_baseProperty)return _baseProperty;return hasRequired_baseProperty=1,_baseProperty=function(e){return function(t){return null==t?void 0:t[e]}},_baseProperty}function require_basePropertyDeep(){if(hasRequired_basePropertyDeep)return _basePropertyDeep;hasRequired_basePropertyDeep=1;var e=require_baseGet();return _basePropertyDeep=function(t){return function(r){return e(r,t)}},_basePropertyDeep}function requireProperty(){if(hasRequiredProperty)return property_1;hasRequiredProperty=1;var e=require_baseProperty(),t=require_basePropertyDeep(),r=require_isKey(),n=require_toKey();return property_1=function(a){return r(a)?e(n(a)):t(a)}}function require_baseIteratee(){if(hasRequired_baseIteratee)return _baseIteratee;hasRequired_baseIteratee=1;var e=require_baseMatches(),t=require_baseMatchesProperty(),r=requireIdentity(),n=requireIsArray(),a=requireProperty();return _baseIteratee=function(o){return"function"==typeof o?o:null==o?r:"object"==typeof o?n(o)?t(o[0],o[1]):e(o):a(o)}}function require_isIterateeCall(){if(hasRequired_isIterateeCall)return _isIterateeCall;hasRequired_isIterateeCall=1;var e=requireEq(),t=requireIsArrayLike(),r=require_isIndex(),n=requireIsObject();return _isIterateeCall=function(a,o,i){if(!n(i))return!1;var s=typeof o;return!!("number"==s?t(i)&&r(o,i.length):"string"==s&&o in i)&&e(i[o],a)},_isIterateeCall}function requireEvery(){if(hasRequiredEvery)return every_1;hasRequiredEvery=1;var e=require_arrayEvery(),t=require_baseEvery(),r=require_baseIteratee(),n=requireIsArray(),a=require_isIterateeCall();return every_1=function(o,i,s){var c=n(o)?e:t;return s&&a(o,i,s)&&(i=void 0),c(o,r(i,3))}}_nodeUtil.exports;var everyExports=requireEvery(),every=getDefaultExportFromCjs(everyExports),_baseSome,hasRequired_baseSome,some_1,hasRequiredSome;function require_baseSome(){if(hasRequired_baseSome)return _baseSome;hasRequired_baseSome=1;var e=require_baseEach();return _baseSome=function(t,r){var n;return e(t,(function(e,t,a){return!(n=r(e,t,a))})),!!n},_baseSome}function requireSome(){if(hasRequiredSome)return some_1;hasRequiredSome=1;var e=require_arraySome(),t=require_baseIteratee(),r=require_baseSome(),n=requireIsArray(),a=require_isIterateeCall();return some_1=function(o,i,s){var c=n(o)?e:r;return s&&a(o,i,s)&&(i=void 0),c(o,t(i,3))}}var someExports=requireSome(),some=getDefaultExportFromCjs(someExports),_baseHas,hasRequired_baseHas,has_1,hasRequiredHas;function require_baseHas(){if(hasRequired_baseHas)return _baseHas;hasRequired_baseHas=1;var e=Object.prototype.hasOwnProperty;return _baseHas=function(t,r){return null!=t&&e.call(t,r)},_baseHas}function requireHas(){if(hasRequiredHas)return has_1;hasRequiredHas=1;var e=require_baseHas(),t=require_hasPath();return has_1=function(r,n){return null!=r&&t(r,n,e)},has_1}var hasExports=requireHas(),has=getDefaultExportFromCjs(hasExports),identityExports=requireIdentity(),identity$1=getDefaultExportFromCjs(identityExports);function contains(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1}function add$1(e,t){return Number(e)+Number(t)}function sub$1(e,t){return e-t}function mul$1(e,t){return e*t}function div$1(e,t){return e/t}function mod$1(e,t){return e%t}function concat(e,t){return Array.isArray(e)&&Array.isArray(t)?e.concat(t):""+e+t}function equal$1(e,t){return e===t}function notEqual$1(e,t){return e!==t}function greaterThan$1(e,t){return e>t}function lessThan$1(e,t){return e<t}function greaterThanEqual$1(e,t){return e>=t}function lessThanEqual$1(e,t){return e<=t}function andOperator$1(e,t){return Boolean(e&&t)}function orOperator$1(e,t){return Boolean(e||t)}function inOperator(e,t){return contains(t,e)}function sinh(e){return(Math.exp(e)-Math.exp(-e))/2}function cosh(e){return(Math.exp(e)+Math.exp(-e))/2}function tanh(e){return e===1/0?1:e===-1/0?-1:(Math.exp(e)-Math.exp(-e))/(Math.exp(e)+Math.exp(-e))}function asinh(e){return e===-1/0?e:Math.log(e+Math.sqrt(e*e+1))}function acosh(e){return Math.log(e+Math.sqrt(e*e-1))}function atanh(e){return Math.log((1+e)/(1-e))/2}function log10$1(e){return Math.log(e)*Math.LOG10E}function neg$1(e){return-e}function not$1(e){return!e}function trunc$1(e){return e<0?Math.ceil(e):Math.floor(e)}function random$3(e){return Math.random()*(e||1)}function factorial(e){return gamma$1(e+1)}function isInteger(e){return isFinite(e)&&e===Math.round(e)}var GAMMA_G=4.7421875,GAMMA_P=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function gamma$1(e){var t,r;if(isInteger(e)){if(e<=0)return isFinite(e)?1/0:NaN;if(e>171)return 1/0;for(var n=e-2,a=e-1;n>1;)a*=n,n--;return 0===a&&(a=1),a}if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*gamma$1(1-e));if(e>=171.35)return 1/0;if(e>85){var o=e*e,i=o*e,s=i*e,c=s*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*o)-139/(51840*i)-571/(2488320*s)+163879/(209018880*c)+5246819/(75246796800*c*e))}--e,r=GAMMA_P[0];for(var l=1;l<GAMMA_P.length;++l)r+=GAMMA_P[l]/(e+l);return t=e+GAMMA_G+.5,Math.sqrt(2*Math.PI)*Math.pow(t,e+.5)*Math.exp(-t)*r}function stringOrArrayLength$1(e){return Array.isArray(e)?e.length:String(e).length}function hypot(){for(var e=0,t=0,r=0;r<arguments.length;r++){var n,a=Math.abs(arguments[r]);t<a?(e=e*(n=t/a)*n+1,t=a):e+=a>0?(n=a/t)*n:a}return t===1/0?1/0:t*Math.sqrt(e)}function condition$1(e,t,r){return e?t:r}function roundTo$1(e,t){return void 0===t||0==+t?Math.round(e):(e=+e,t=-+t,isNaN(e)||"number"!=typeof t||t%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math.round(+(e[0]+"e"+(e[1]?+e[1]-t:-t)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+t:t))))}function setVar(e,t,r){return r&&(r[e]=t),t}function arrayIndex$1(e,t){return e[0|t]}function max$5(e){return 1===arguments.length&&Array.isArray(e)?Math.max.apply(Math,e):Math.max.apply(Math,arguments)}function min$5(e){return 1===arguments.length&&Array.isArray(e)?Math.min.apply(Math,e):Math.min.apply(Math,arguments)}function arrayMap$1(e,t){if("function"!=typeof e)throw new Error("First argument to map is not a function");if(!Array.isArray(t))throw new Error("Second argument to map is not an array");return t.map((function(t,r){return e(t,r)}))}function arrayFold$1(e,t,r){if("function"!=typeof e)throw new Error("First argument to fold is not a function");if(!Array.isArray(r))throw new Error("Second argument to fold is not an array");return r.reduce((function(t,r,n){return e(t,r,n)}),t)}function arrayFilter$1(e,t){if("function"!=typeof e)throw new Error("First argument to filter is not a function");if(!Array.isArray(t))throw new Error("Second argument to filter is not an array");return t.filter((function(t,r){return e(t,r)}))}function stringOrArrayIndexOf(e,t){if(!Array.isArray(t)&&"string"!=typeof t)throw new Error("Second argument to indexOf is not a string or array");return t.indexOf(e)}function arrayJoin(e,t){if(!Array.isArray(t))throw new Error("Second argument to join is not an array");return t.join(e)}function sign$3(e){return(e>0)-(e<0)||+e}var ONE_THIRD=1/3;function cbrt$1(e){return e<0?-Math.pow(-e,ONE_THIRD):Math.pow(e,ONE_THIRD)}function expm1(e){return Math.exp(e)-1}function log1p$1(e){return Math.log(1+e)}function log2$1(e){return Math.log(e)/Math.LN2}function sum$1(e){if(!Array.isArray(e))throw new Error("Sum argument is not an array");return e.reduce((function(e,t){return e+Number(t)}),0)}var functions=Object.freeze({__proto__:null,add:add$1,sub:sub$1,mul:mul$1,div:div$1,mod:mod$1,concat:concat,equal:equal$1,notEqual:notEqual$1,greaterThan:greaterThan$1,lessThan:lessThan$1,greaterThanEqual:greaterThanEqual$1,lessThanEqual:lessThanEqual$1,andOperator:andOperator$1,orOperator:orOperator$1,inOperator:inOperator,sinh:sinh,cosh:cosh,tanh:tanh,asinh:asinh,acosh:acosh,atanh:atanh,log10:log10$1,neg:neg$1,not:not$1,trunc:trunc$1,random:random$3,factorial:factorial,gamma:gamma$1,stringOrArrayLength:stringOrArrayLength$1,hypot:hypot,condition:condition$1,roundTo:roundTo$1,setVar:setVar,arrayIndex:arrayIndex$1,max:max$5,min:min$5,arrayMap:arrayMap$1,arrayFold:arrayFold$1,arrayFilter:arrayFilter$1,stringOrArrayIndexOf:stringOrArrayIndexOf,arrayJoin:arrayJoin,sign:sign$3,cbrt:cbrt$1,expm1:expm1,log1p:log1p$1,log2:log2$1,sum:sum$1}),INUMBER="INUMBER",IOP1="IOP1",IOP2="IOP2",IOP3="IOP3",IVAR="IVAR",IVARNAME="IVARNAME",IFUNCALL="IFUNCALL",IFUNDEF="IFUNDEF",IEXPR="IEXPR",IEXPREVAL="IEXPREVAL",IMEMBER="IMEMBER",IENDSTATEMENT="IENDSTATEMENT",IARRAY="IARRAY";function Instruction(e,t){this.type=e,this.value=null!=t?t:0}function unaryInstruction(e){return new Instruction(IOP1,e)}function binaryInstruction(e){return new Instruction(IOP2,e)}function ternaryInstruction(e){return new Instruction(IOP3,e)}function evaluate(e,t,r){var n,a,o,i,s,c,l=[];if(isExpressionEvaluator(e))return resolveExpression(e,r);for(var u=e.length,d=0;d<u;d++){var p=e[d],h=p.type;if(h===INUMBER||h===IVARNAME)l.push(p.value);else if(h===IOP2)a=l.pop(),n=l.pop(),"and"===p.value?l.push(!!n&&!!evaluate(a,t,r)):"or"===p.value?l.push(!!n||!!evaluate(a,t,r)):"="===p.value?(i=t.binaryOps[p.value],l.push(i(n,evaluate(a,t,r),r))):(i=t.binaryOps[p.value],l.push(i(resolveExpression(n,r),resolveExpression(a,r))));else if(h===IOP3)o=l.pop(),a=l.pop(),n=l.pop(),"?"===p.value?l.push(evaluate(n?a:o,t,r)):(i=t.ternaryOps[p.value],l.push(i(resolveExpression(n,r),resolveExpression(a,r),resolveExpression(o,r))));else if(h===IVAR){if(/^__proto__|prototype|constructor$/.test(p.value))throw new Error("prototype access detected");if(p.value in t.functions)l.push(t.functions[p.value]);else if(p.value in t.unaryOps&&t.parser.isOperatorEnabled(p.value))l.push(t.unaryOps[p.value]);else{var f=r[p.value];if(void 0===f)throw new Error("undefined variable: "+p.value);l.push(f)}}else if(h===IOP1)n=l.pop(),i=t.unaryOps[p.value],l.push(i(resolveExpression(n,r)));else if(h===IFUNCALL){for(c=p.value,s=[];c-- >0;)s.unshift(resolveExpression(l.pop(),r));if(!(i=l.pop()).apply||!i.call)throw new Error(i+" is not a function");l.push(i.apply(void 0,s))}else if(h===IFUNDEF)l.push(function(){for(var e=l.pop(),n=[],a=p.value;a-- >0;)n.unshift(l.pop());var o=l.pop(),i=function(){for(var a=Object.assign({},r),o=0,i=n.length;o<i;o++)a[n[o]]=arguments[o];return evaluate(e,t,a)};return Object.defineProperty(i,"name",{value:o,writable:!1}),r[o]=i,i}());else if(h===IEXPR)l.push(createExpressionEvaluator(p,t));else if(h===IEXPREVAL)l.push(p);else if(h===IMEMBER)n=l.pop(),l.push(n[p.value]);else if(h===IENDSTATEMENT)l.pop();else{if(h!==IARRAY)throw new Error("invalid Expression");for(c=p.value,s=[];c-- >0;)s.unshift(l.pop());l.push(s)}}if(l.length>1)throw new Error("invalid Expression (parity)");return 0===l[0]?0:resolveExpression(l[0],r)}function createExpressionEvaluator(e,t,r){return isExpressionEvaluator(e)?e:{type:IEXPREVAL,value:function(r){return evaluate(e.value,t,r)}}}function isExpressionEvaluator(e){return e&&e.type===IEXPREVAL}function resolveExpression(e,t){return isExpressionEvaluator(e)?e.value(t):e}Instruction.prototype.toString=function(){switch(this.type){case INUMBER:case IOP1:case IOP2:case IOP3:case IVAR:case IVARNAME:case IENDSTATEMENT:return this.value;case IFUNCALL:return"CALL "+this.value;case IFUNDEF:return"DEF "+this.value;case IARRAY:return"ARRAY "+this.value;case IMEMBER:return"."+this.value;default:return"Invalid Instruction"}};var TEOF="TEOF",TOP="TOP",TNUMBER="TNUMBER",TSTRING="TSTRING",TPAREN="TPAREN",TBRACKET="TBRACKET",TCOMMA="TCOMMA",TNAME="TNAME",TSEMICOLON="TSEMICOLON";function Token(e,t,r){this.type=e,this.value=t,this.index=r}function TokenStream(e,t){this.pos=0,this.current=null,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.consts=e.consts,this.expression=t,this.savedPosition=0,this.savedCurrent=null,this.options=e.options,this.parser=e}Token.prototype.toString=function(){return this.type+": "+this.value},TokenStream.prototype.newToken=function(e,t,r){return new Token(e,t,null!=r?r:this.pos)},TokenStream.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},TokenStream.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},TokenStream.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(TEOF,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},TokenStream.prototype.isString=function(){var e=!1,t=this.pos,r=this.expression.charAt(t);if("'"===r||'"'===r)for(var n=this.expression.indexOf(r,t+1);n>=0&&this.pos<this.expression.length;){if(this.pos=n+1,"\\"!==this.expression.charAt(n-1)){var a=this.expression.substring(t+1,n);this.current=this.newToken(TSTRING,this.unescape(a),t),e=!0;break}n=this.expression.indexOf(r,n+1)}return e},TokenStream.prototype.isParen=function(){var e=this.expression.charAt(this.pos);return("("===e||")"===e)&&(this.current=this.newToken(TPAREN,e),this.pos++,!0)},TokenStream.prototype.isBracket=function(){var e=this.expression.charAt(this.pos);return!("["!==e&&"]"!==e||!this.isOperatorEnabled("["))&&(this.current=this.newToken(TBRACKET,e),this.pos++,!0)},TokenStream.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(TCOMMA,","),this.pos++,!0)},TokenStream.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(TSEMICOLON,";"),this.pos++,!0)},TokenStream.prototype.isConst=function(){for(var e=this.pos,t=e;t<this.expression.length;t++){var r=this.expression.charAt(t);if(r.toUpperCase()===r.toLowerCase()&&(t===this.pos||"_"!==r&&"."!==r&&(r<"0"||r>"9")))break}if(t>e){var n=this.expression.substring(e,t);if(n in this.consts)return this.current=this.newToken(TNUMBER,this.consts[n]),this.pos+=n.length,!0}return!1},TokenStream.prototype.isNamedOp=function(){for(var e=this.pos,t=e;t<this.expression.length;t++){var r=this.expression.charAt(t);if(r.toUpperCase()===r.toLowerCase()&&(t===this.pos||"_"!==r&&(r<"0"||r>"9")))break}if(t>e){var n=this.expression.substring(e,t);if(this.isOperatorEnabled(n)&&(n in this.binaryOps||n in this.unaryOps||n in this.ternaryOps))return this.current=this.newToken(TOP,n),this.pos+=n.length,!0}return!1},TokenStream.prototype.isName=function(){for(var e=this.pos,t=e,r=!1;t<this.expression.length;t++){var n=this.expression.charAt(t);if(n.toUpperCase()===n.toLowerCase()){if(t===this.pos&&("$"===n||"_"===n)){"_"===n&&(r=!0);continue}if(t===this.pos||!r||"_"!==n&&(n<"0"||n>"9"))break}else r=!0}if(r){var a=this.expression.substring(e,t);return this.current=this.newToken(TNAME,a),this.pos+=a.length,!0}return!1},TokenStream.prototype.isWhitespace=function(){for(var e=!1,t=this.expression.charAt(this.pos);!(" "!==t&&"\t"!==t&&"\n"!==t&&"\r"!==t||(e=!0,this.pos++,this.pos>=this.expression.length));)t=this.expression.charAt(this.pos);return e};var codePointPattern=/^[0-9a-f]{4}$/i;function ParserState(e,t,r){this.parser=e,this.tokens=t,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==r.allowMemberAccess,this.restrictMemberAccess=new Set(r.restrictMemberAccess||[])}TokenStream.prototype.unescape=function(e){var t=e.indexOf("\\");if(t<0)return e;for(var r=e.substring(0,t);t>=0;){var n=e.charAt(++t);switch(n){case"'":r+="'";break;case'"':r+='"';break;case"\\":r+="\\";break;case"/":r+="/";break;case"b":r+="\b";break;case"f":r+="\f";break;case"n":r+="\n";break;case"r":r+="\r";break;case"t":r+="\t";break;case"u":var a=e.substring(t+1,t+5);codePointPattern.test(a)||this.parseError("Illegal escape sequence: \\u"+a),r+=String.fromCharCode(parseInt(a,16)),t+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+n+'"')}++t;var o=e.indexOf("\\",t);r+=e.substring(t,o<0?e.length:o),t=o}return r},TokenStream.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},TokenStream.prototype.isRadixInteger=function(){var e,t,r=this.pos;if(r>=this.expression.length-2||"0"!==this.expression.charAt(r))return!1;if(++r,"x"===this.expression.charAt(r))e=16,t=/^[0-9a-f]$/i,++r;else{if("b"!==this.expression.charAt(r))return!1;e=2,t=/^[01]$/i,++r}for(var n=!1,a=r;r<this.expression.length;){var o=this.expression.charAt(r);if(!t.test(o))break;r++,n=!0}return n&&(this.current=this.newToken(TNUMBER,parseInt(this.expression.substring(a,r),e)),this.pos=r),n},TokenStream.prototype.isNumber=function(){for(var e,t=!1,r=this.pos,n=r,a=r,o=!1,i=!1;r<this.expression.length&&((e=this.expression.charAt(r))>="0"&&e<="9"||!o&&"."===e);)"."===e?o=!0:i=!0,r++,t=i;if(t&&(a=r),"e"===e||"E"===e){r++;for(var s=!0,c=!1;r<this.expression.length;){if(e=this.expression.charAt(r),!s||"+"!==e&&"-"!==e){if(!(e>="0"&&e<="9"))break;c=!0,s=!1}else s=!1;r++}c||(r=a)}return t?(this.current=this.newToken(TNUMBER,parseFloat(this.expression.substring(n,r))),this.pos=r):this.pos=a,t},TokenStream.prototype.isOperator=function(){var e=this.pos,t=this.expression.charAt(this.pos);if("+"===t||"-"===t||"*"===t||"/"===t||"%"===t||"^"===t||"?"===t||":"===t||"."===t)this.current=this.newToken(TOP,t);else if(""===t||""===t)this.current=this.newToken(TOP,"*");else if(">"===t)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(TOP,">="),this.pos++):this.current=this.newToken(TOP,">");else if("<"===t)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(TOP,"<="),this.pos++):this.current=this.newToken(TOP,"<");else if("|"===t){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(TOP,"||"),this.pos++}else if("="===t)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(TOP,"=="),this.pos++):this.current=this.newToken(TOP,t);else{if("!"!==t)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(TOP,"!="),this.pos++):this.current=this.newToken(TOP,t)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=e,!1)},TokenStream.prototype.isOperatorEnabled=function(e){return this.parser.isOperatorEnabled(e)},TokenStream.prototype.getCoordinates=function(){var e,t=0,r=-1;do{t++,e=this.pos-r,r=this.expression.indexOf("\n",r+1)}while(r>=0&&r<this.pos);return{line:t,column:e}},TokenStream.prototype.parseError=function(e){var t=this.getCoordinates();throw new Error("parse error ["+t.line+":"+t.column+"]: "+e)},ParserState.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},ParserState.prototype.tokenMatches=function(e,t){return void 0===t||(Array.isArray(t)?contains(t,e.value):"function"==typeof t?t(e):e.value===t)},ParserState.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},ParserState.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},ParserState.prototype.accept=function(e,t){return!(this.nextToken.type!==e||!this.tokenMatches(this.nextToken,t))&&(this.next(),!0)},ParserState.prototype.expect=function(e,t){if(!this.accept(e,t)){var r=this.tokens.getCoordinates();throw new Error("parse error ["+r.line+":"+r.column+"]: Expected "+(t||e))}},ParserState.prototype.parseAtom=function(e){var t=this.tokens.unaryOps;if(this.accept(TNAME)||this.accept(TOP,(function(e){return e.value in t})))e.push(new Instruction(IVAR,this.current.value));else if(this.accept(TNUMBER))e.push(new Instruction(INUMBER,this.current.value));else if(this.accept(TSTRING))e.push(new Instruction(INUMBER,this.current.value));else if(this.accept(TPAREN,"("))this.parseExpression(e),this.expect(TPAREN,")");else{if(!this.accept(TBRACKET,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(TBRACKET,"]"))e.push(new Instruction(IARRAY,0));else{var r=this.parseArrayList(e);e.push(new Instruction(IARRAY,r))}}},ParserState.prototype.parseExpression=function(e){var t=[];this.parseUntilEndStatement(e,t)||(this.parseVariableAssignmentExpression(t),this.parseUntilEndStatement(e,t)||this.pushExpression(e,t))},ParserState.prototype.pushExpression=function(e,t){for(var r=0,n=t.length;r<n;r++)e.push(t[r])},ParserState.prototype.parseUntilEndStatement=function(e,t){return!!this.accept(TSEMICOLON)&&(!this.nextToken||this.nextToken.type===TEOF||this.nextToken.type===TPAREN&&")"===this.nextToken.value||t.push(new Instruction(IENDSTATEMENT)),this.nextToken.type!==TEOF&&this.parseExpression(t),e.push(new Instruction(IEXPR,t)),!0)},ParserState.prototype.parseArrayList=function(e){for(var t=0;!this.accept(TBRACKET,"]");)for(this.parseExpression(e),++t;this.accept(TCOMMA);)this.parseExpression(e),++t;return t},ParserState.prototype.parseVariableAssignmentExpression=function(e){for(this.parseConditionalExpression(e);this.accept(TOP,"=");){var t=e.pop(),r=[],n=e.length-1;if(t.type!==IFUNCALL){if(t.type!==IVAR&&t.type!==IMEMBER)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(r),e.push(new Instruction(IVARNAME,t.value)),e.push(new Instruction(IEXPR,r)),e.push(binaryInstruction("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var a=0,o=t.value+1;a<o;a++){var i=n-a;e[i].type===IVAR&&(e[i]=new Instruction(IVARNAME,e[i].value))}this.parseVariableAssignmentExpression(r),e.push(new Instruction(IEXPR,r)),e.push(new Instruction(IFUNDEF,t.value))}}},ParserState.prototype.parseConditionalExpression=function(e){for(this.parseOrExpression(e);this.accept(TOP,"?");){var t=[],r=[];this.parseConditionalExpression(t),this.expect(TOP,":"),this.parseConditionalExpression(r),e.push(new Instruction(IEXPR,t)),e.push(new Instruction(IEXPR,r)),e.push(ternaryInstruction("?"))}},ParserState.prototype.parseOrExpression=function(e){for(this.parseAndExpression(e);this.accept(TOP,"or");){var t=[];this.parseAndExpression(t),e.push(new Instruction(IEXPR,t)),e.push(binaryInstruction("or"))}},ParserState.prototype.parseAndExpression=function(e){for(this.parseComparison(e);this.accept(TOP,"and");){var t=[];this.parseComparison(t),e.push(new Instruction(IEXPR,t)),e.push(binaryInstruction("and"))}};var COMPARISON_OPERATORS=["==","!=","<","<=",">=",">","in"];ParserState.prototype.parseComparison=function(e){for(this.parseAddSub(e);this.accept(TOP,COMPARISON_OPERATORS);){var t=this.current;this.parseAddSub(e),e.push(binaryInstruction(t.value))}};var ADD_SUB_OPERATORS=["+","-","||"];ParserState.prototype.parseAddSub=function(e){for(this.parseTerm(e);this.accept(TOP,ADD_SUB_OPERATORS);){var t=this.current;this.parseTerm(e),e.push(binaryInstruction(t.value))}};var TERM_OPERATORS=["*","/","%"];ParserState.prototype.parseTerm=function(e){for(this.parseFactor(e);this.accept(TOP,TERM_OPERATORS);){var t=this.current;this.parseFactor(e),e.push(binaryInstruction(t.value))}},ParserState.prototype.parseFactor=function(e){var t=this.tokens.unaryOps;if(this.save(),this.accept(TOP,(function(e){return e.value in t}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===TPAREN&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(e);if(this.nextToken.type===TSEMICOLON||this.nextToken.type===TCOMMA||this.nextToken.type===TEOF||this.nextToken.type===TPAREN&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(e)}var r=this.current;this.parseFactor(e),e.push(unaryInstruction(r.value))}else this.parseExponential(e)},ParserState.prototype.parseExponential=function(e){for(this.parsePostfixExpression(e);this.accept(TOP,"^");)this.parseFactor(e),e.push(binaryInstruction("^"))},ParserState.prototype.parsePostfixExpression=function(e){for(this.parseFunctionCall(e);this.accept(TOP,"!");)e.push(unaryInstruction("!"))},ParserState.prototype.parseFunctionCall=function(e){var t=this.tokens.unaryOps;if(this.accept(TOP,(function(e){return e.value in t}))){var r=this.current;this.parseAtom(e),e.push(unaryInstruction(r.value))}else for(this.parseMemberExpression(e);this.accept(TPAREN,"(");)if(this.accept(TPAREN,")"))e.push(new Instruction(IFUNCALL,0));else{var n=this.parseArgumentList(e);e.push(new Instruction(IFUNCALL,n))}},ParserState.prototype.parseArgumentList=function(e){for(var t=0;!this.accept(TPAREN,")");)for(this.parseExpression(e),++t;this.accept(TCOMMA);)this.parseExpression(e),++t;return t},ParserState.prototype.parseMemberExpression=function(e){for(this.parseAtom(e);this.accept(TOP,".")||this.accept(TBRACKET,"[");){var t=this.current;if("."===t.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');if(this.restrictMemberAccess.has(this.nextToken.value))throw new Error('access to member "'+this.nextToken.value+'" is not permitted');this.expect(TNAME),e.push(new Instruction(IMEMBER,this.current.value))}else{if("["!==t.value)throw new Error("unexpected symbol: "+t.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(e),this.expect(TBRACKET,"]"),e.push(binaryInstruction("["))}}};const{add:add,sub:sub,mul:mul,div:div,mod:mod,equal:equal,notEqual:notEqual,greaterThan:greaterThan,lessThan:lessThan,greaterThanEqual:greaterThanEqual,lessThanEqual:lessThanEqual,andOperator:andOperator,orOperator:orOperator,log10:log10,neg:neg,not:not,trunc:trunc,random:random$2,stringOrArrayLength:stringOrArrayLength,condition:condition,roundTo:roundTo,arrayIndex:arrayIndex,max:max$4,min:min$4,sum:sum,arrayMap:arrayMap,arrayFold:arrayFold,arrayFilter:arrayFilter,sign:sign$2,log1p:log1p,log2:log2}=functions;function Expression(e,t){this.tokens=e,this.parser=t,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.functions=t.functions}function trim$1(e){return e.trim()}Expression.prototype.evaluate=function(e){return e=e||{},evaluate(this.tokens,this,e)},Expression.prototype.variables=function(){return(this.tokens||[]).filter((e=>"IVAR"===e.type)).map((e=>e.value))};const RESTRICT_MEMBER_ACCESS=new Set(["__proto__","prototype","constructor"]);function Parser(e){this.options=e||{},this.unaryOps={SIN:Math.sin,COS:Math.cos,TAN:Math.tan,ASIN:Math.asin,ACOS:Math.acos,ATAN:Math.atan,SQRT:Math.sqrt,LOG:Math.log,LOG2:Math.log2||log2,LN:Math.log,LOG10:Math.log10||log10,LG:Math.log10||log10,LOG1P:Math.log1p||log1p,ABS:Math.abs,CEIL:Math.ceil,FLOOR:Math.floor,ISNULL:e=>null===e,TRUNC:Math.trunc||trunc,"-":neg,"+":Number,EXP:Math.exp,NOT:not,LENGTH:stringOrArrayLength,"!":not,SIGN:Math.sign||sign$2,TEXT:e=>t(e)?e.toISOString():String(e),NUMBER:Number},this.binaryOps={"+":add,"-":sub,"*":mul,"/":div,"%":mod,"^":Math.pow,"==":equal,"!=":notEqual,">":greaterThan,"<":lessThan,">=":greaterThanEqual,"<=":lessThanEqual,and:andOperator,or:orOperator,in:(e,t)=>Array.isArray(t)?t.includes(e):String(t).includes(e),"[":arrayIndex},this.ternaryOps={"?":condition};const t=e=>e instanceof Date&&!isNaN(e),r=e=>{if(t(e))return e;try{const r=new Date(e);return t(r)?r:null}catch(e){return null}};function n(e){return(1===arguments.length&&Array.isArray(e)?e:Array.from(arguments)).slice(0).filter((e=>!isNaN(e)&&Number.isFinite(e)))}let a=/\w*/g,o=/\w\S*/g;const i=/[\\^$*+?.()|[\]{}]/g;try{a=new RegExp("\\p{L}*","ug"),o=new RegExp("[\\p{L}\\p{N}]\\S*","ug")}catch(e){}this.functions={IF:condition,RANDOM:random$2,MIN(){const e=n.apply(this,arguments);return min$4(e)},MAX(){return max$4(n.apply(this,arguments))},SUM(){return sum(n.apply(this,arguments))},MEAN(){const e=n.apply(this,arguments);return sum(e)/e.length},MEDIAN(){const e=n.apply(this,arguments).sort(((e,t)=>e-t)),t=Math.floor(e.length/2);return e.length%2==1?e[t]:.5*(e[t-1]+e[t])},POW:Math.pow,ATAN2:Math.atan2,ROUND:roundTo,CONCAT(){return Array.from(arguments).join("")},TRIM:trim$1,SUBSTR:(e,t,r)=>e.substr(t,r),REPLACE:(e,t,r)=>e.replace(new RegExp(String(t).replace(i,"\\$&"),"g"),r),REPLACE_REGEX:(e,t,r)=>e.replace(new RegExp(t,"g"),r),SPLIT:(e,t)=>String(e).split(t),LOWER:e=>String(e).toLowerCase(),UPPER:e=>String(e).toUpperCase(),PROPER:e=>String(e).replace(a,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())),TITLE:e=>String(e).replace(o,(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase())),SORT(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(RESTRICT_MEMBER_ACCESS.has(r))throw new Error("Invalid key");if(!Array.isArray(e))throw new Error("First argument to SORT is not an array");return e.slice(0).sort(((e,n)=>((e="string"==typeof r?e[r]:"function"==typeof r?r(e):e)>(n="string"==typeof r?n[r]:"function"==typeof r?r(n):n)?1:e<n?-1:0)*(t?1:-1)))},SLICE(e,t,r){if(!Array.isArray(e))throw new Error("First argument to SLICE is not an array");return e.slice(t,r)},JOIN(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Array.isArray(e))throw new Error("First argument to JOIN is not an array");return r?[e.slice(0,e.length-1).join(t),e[e.length-1]].join(r):e.join(t)},MAP:arrayMap,FOLD:arrayFold,FILTER:arrayFilter,PLUCK(e,t){if(RESTRICT_MEMBER_ACCESS.has(t))throw new Error("Invalid key");if(!Array.isArray(e))throw new Error("First argument to PLUCK is not an array");return e.map((e=>Object.prototype.hasOwnProperty.call(e,t)?e[t]:null))},INDEXOF:(e,t)=>(Array.isArray(e)||(e=String(e)),e.indexOf(t)),FIND(e,t){if(!Array.isArray(e))throw new Error("First argument to FIND is not an array");if("function"!=typeof t)throw new Error("Second argument to FIND is not a function");const r=e.length;for(let n=0;n<r;n++)if(t(e[n]))return e[n];return null},RANGE(e,t,r){null==t&&(t=e||0,e=0),r||(r=t<e?-1:1);for(var n=Math.max(Math.ceil((t-e)/r),0),a=Array(n),o=0;o<n;o++,e+=r)a[o]=e;return a},EVERY(e,t){if(!Array.isArray(e))throw new Error("First argument to EVERY is not an array");if("function"!=typeof t)throw new Error("Second argument to EVERY is not a function");const r=e.length;let n=!0;for(let a=0;a<r;a++)if(n=n&&t(e[a]),!n)return!1;return!0},SOME(e,t){if(!Array.isArray(e))throw new Error("First argument to SOME is not an array");if("function"!=typeof t)throw new Error("Second argument to SOME is not a function");const r=e.length;let n=!1;for(let a=0;a<r;a++)if(n=n||t(e[a]),n)return!0;return!1},DATE(){return arguments.length>1&&(arguments[1]=arguments[1]-1),new Date(...arguments)},YEAR:e=>(e=r(e))?e.getFullYear():null,MONTH:e=>(e=r(e))?e.getMonth()+1:null,DAY:e=>(e=r(e))?e.getDate():null,WEEKDAY:e=>(e=r(e))?e.getDay():null,HOURS:e=>(e=r(e))?e.getHours():null,MINUTES:e=>(e=r(e))?e.getMinutes():null,SECONDS:e=>(e=r(e))?e.getSeconds():null,DATEDIFF:(e,t)=>(e=r(e),t=r(t),e&&t?(t.getTime()-e.getTime())/864e5:null),TIMEDIFF:(e,t)=>(e=r(e),t=r(t),e&&t?(t.getTime()-e.getTime())/1e3:null)},this.unaryOps.LOWER=this.functions.LOWER,this.unaryOps.UPPER=this.functions.UPPER,this.unaryOps.PROPER=this.functions.PROPER,this.unaryOps.TITLE=this.functions.TITLE,this.unaryOps.TRIM=this.functions.TRIM,this.unaryOps.YEAR=this.functions.YEAR,this.unaryOps.MONTH=this.functions.MONTH,this.unaryOps.DAY=this.functions.DAY,this.unaryOps.WEEKDAY=this.functions.WEEKDAY,this.unaryOps.HOURS=this.functions.HOURS,this.unaryOps.MINUTES=this.functions.MINUTES,this.unaryOps.SECONDS=this.functions.SECONDS,this.consts={E:Math.E,PI:Math.PI,TRUE:!0,FALSE:!1,NA:Number.NaN,NULL:Number.NaN}}Parser.prototype.parse=function(e){var t=[],r=new ParserState(this,new TokenStream(this,e),{allowMemberAccess:!0,restrictMemberAccess:RESTRICT_MEMBER_ACCESS});return r.parseExpression(t),r.expect(TEOF,"EOF"),new Expression(t,this)},Parser.prototype.evaluate=function(e,t){return this.parse(e).evaluate(t)};var sharedParser=new Parser;Parser.parse=function(e){return sharedParser.parse(e)},Parser.evaluate=function(e,t){return sharedParser.parse(e).evaluate(t)},Parser.keywords=["ABS","ACOS","ACOSH","and","ASIN","ASINH","ATAN","ATAN2","ATANH","CBRT","CEIL","CONCAT","COS","COSH","DATEDIFF","DAY","E","EVERY","EXP","EXPM1","FIND","FLOOR","HOURS","IF","in","INDEXOF","ISNULL","JOIN","LENGTH","LN","LOG","LOG10","LOG1P","LOG2","LOWER","MAP","MAX","MEAN","MEDIAN","MIN","MINUTES","MONTH","NOT","NOT","or","PI","PLUCK","POW","PROPER","RANDOM","RANGE","REPLACE","REPLACE_REGEX","ROUND","SECONDS","SIGN","SIN","SINH","SLICE","SOME","SORT","SPLIT","SQRT","SUBSTR","SUM","TAN","TANH","TIMEDIFF","TITLE","TRIM","TRUNC","UPPER","WEEKDAY","YEAR"];var optionNameMap={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",AND:"logical",OR:"logical",NOT:"logical",IN:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};function getOptionName(e){return Object.prototype.hasOwnProperty.call(optionNameMap,e)?optionNameMap[e]:e}Parser.prototype.isOperatorEnabled=function(e){var t=getOptionName(e),r=this.options.operators||{};return!(t in r)||!!r[t]};const TPL_REG=/\{\{(.+?)\}\}/g;function templateParser(e){const t={},r=new Parser;return e.replace(TPL_REG,((e,n)=>{(n=n.trim())&&!t[n]&&(t[n]=r.parse(n))})),r=>e.replace(TPL_REG,((e,n)=>{const a=n.trim()?t[n.trim()].evaluate(r):"";return null===a?"":a}))}function columnNameToVariable(e){return e.toString().toLowerCase().replace(/\s+/g,"_").replace(/[^\w-]+/g,"").replace(/-/g,"_").replace(/__+/g,"_").replace(/^_+/,"").replace(/_+$/,"").replace(/^(\d)/,"_$1").replace(/^(and|or|in|true|false)$/,"$1_")}function filenameVariables(e){const t=[{label:"Title",name:"title",type:"text",chartProperty:"title",value:"Example Title"},{label:"Published At",name:"published_at",type:"date",chartProperty:"publishedAt",value:"2022-03-24T13:49:07.232Z"},{label:"Public ID",name:"public_id",type:"text",chartProperty:"publicId",value:"Abc12"},{label:"Public Version",name:"public_version",type:"number",chartProperty:"publicVersion",value:1},{label:"Language",name:"language",type:"text",chartProperty:"language",value:"en-US"},{label:"Intro",name:"intro",type:"text",chartProperty:"metadata.describe.intro",value:"Example Intro"},{label:"Byline",name:"byline",type:"text",chartProperty:"metadata.describe.byline",value:"Example Byline"}],r=(e.customFields||[]).filter((e=>e.key)).map((e=>{let{key:t,title:r}=e;return{label:"".concat(r," (Custom)"),name:t,type:"text",chartProperty:"metadata.custom.".concat(t),value:"Example Custom Field"}}));return t.push(...r),t}var DEFAULT_IMAGE_FORMATS=[{filename:"plain-s",zoom:2,format:"png",width:600,height:300,borderWidth:30,plain:!0,dark:!1},{filename:"plain",zoom:2,format:"png",width:600,height:"auto",borderWidth:10,plain:!0,dark:!1},{filename:"full",zoom:2,format:"png",width:600,height:"auto",borderWidth:10,plain:!1,dark:!1}];const DEFAULT_ALLOWED$1=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"];function clean$1(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return purifyHtml(e,t.length?[...DEFAULT_ALLOWED$1,...t]:DEFAULT_ALLOWED$1)}function isTransparentColor(e,t){return"transparent"===e||!t(e).alpha()}function resolveCondition(e,t){return function e(r){if(Array.isArray(r)){const n=r[0];return r.length>=2&&"all"===n?every(r.slice(1).map(e)):r.length>=2&&"any"===n?some(r.slice(1).map(e)):2===r.length&&"!"===n?!e(r[1]):2===r.length&&"get"===n?get$1(t,r[1]):2===r.length&&"has"===n?!!get$1(t,r[1]):2===r.length&&"length"===n?e(r[1]).length:2===r.length&&"stripHtml"===n?purifyHtml(e(r[1]),[]):3===r.length&&"=="===n?e(r[1])===e(r[2]):3===r.length&&"!="===n?e(r[1])!==e(r[2]):3===r.length&&">"===n?e(r[1])>e(r[2]):3===r.length&&">="===n?e(r[1])>=e(r[2]):3===r.length&&"<"===n?e(r[1])<e(r[2]):3===r.length&&"<="===n?e(r[1])<=e(r[2]):3===r.length&&"in"===n?e(r[2]).includes(e(r[1])):r}return r}(e)}function computeThemeData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=2===e.version,n=get$1(t,"flags.dark",!1),a=get$1(t,"flags.transparent",!1),o=clone(e);if(e.overrides&&e.overrides.length>0)for(const r of e.overrides)if((!r.type&&r.condition||"darkMode"===r.type&&n&&r.condition)&&resolveCondition(r.condition,t))for(const[e,t]of Object.entries(r.settings)){if(e.startsWith("overrides."))throw new Error("overrides may not change overrides");set$1(o,e,t)}return a&&set$1(o,r?"blocks.body.styles.background":"style.body.background","transparent"),o}const UNDEFINED_STYLE$1="%UNDEFINED%",TYPOGRAPHY_PROPS$1={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{tsf:e=>toPixel$1(e),prop:"letter-spacing"},fontSize:{prop:"font-size",tsf:e=>toPixel$1(e)},lineHeight:{prop:"line-height",tsf:e=>lineHeight$1(e)},underlined:{prop:"text-decoration",tsf:e=>e?"underline":"none"},cursive:{prop:"font-style",tsf:e=>e?"italic":"normal"}};function getThemeStyleHelpers$1(e,t){const r=function(e){let t="";for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];for(const r of e)t+=r+(n.length?n.shift():"");return t.split("\n").filter((e=>e)).filter((e=>!e.includes(UNDEFINED_STYLE$1))).join("\n")};function n(e,t,r){return get$1(e,t,void 0===r?UNDEFINED_STYLE$1:r)}return{getProp:(e,r)=>n(t,e,r),getObjProp:n,typography:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(TYPOGRAPHY_PROPS$1).filter((r=>{let[n]=r;return has(e,n)||has(t,n)})).map((r=>{let[n,{prop:a,tsf:o=identity$1}]=r;const i=get$1(e,n,t[n]);return"".concat(a,": ").concat(o(i),";")})).join("\n")},css:function(){return e.css(r(...arguments))},cssTemplate:r,UNDEFINED_STYLE:UNDEFINED_STYLE$1}}function toPixel$1(e){return e===UNDEFINED_STYLE$1?e:Number.isFinite(e)?"".concat(e,"px"):e}function lineHeight$1(e){return e===UNDEFINED_STYLE$1?e:e>3?"".concat(e,"px"):String(e)}function deepmergeOverwriteArrays(e,t){return deepmerge(e,t,{arrayMerge:(e,t)=>t})}function parseChartLanguage(e){e||(e="en-us"),e=e.replace("_","-").toLowerCase();const[t]=e.split("-");return{language:t,locale:e}}function getVisCaption(e){return"d3-maps-choropleth"===e||"d3-maps-symbols"===e||"locator-map"===e?"map":"tables"===e?"table":"chart"}function getDestinationFilename(e){let{chart:t,teamPublicSettings:r,dayjs:n}=e;const a=templateParser(get$1(r,"downloadFilenameTemplate","{{ LOWER(title) }}")),o=filenameVariables(r),i=makeUnique(o.map((e=>columnNameToVariable(e.name)))),s={FORMAT:(e,t)=>{if(!n)return e;const r=n(e);return r.isValid()?r.format(t):e}};i.forEach(((e,r)=>{const n=get$1(t,o[r].chartProperty,"");s[e]=n,"number"===o[r].type&&["min","max","sum","mean","median"].forEach((t=>{s["".concat(e,"__").concat(t)]=n}))}));return a(s).replace(/[^\w\d.]+/g,"-")||t.publicId}function getSourceImageFilenames(e){const t=get$1(e,"publishFormats",[]);let r=get$1(e,"downloadImageFormat","full");const n=DEFAULT_IMAGE_FORMATS.concat(t);n.find(o)||(r="full");const a={png:_objectSpread2({},n.find(o))};return["svg","pdf"].forEach((e=>{const r=t.find((t=>t.format===e&&"full"===t.filename));a[e]=_objectSpread2({},r||{filename:"full",format:e})})),Object.fromEntries(Object.entries(a).map((e=>{let[t,{filename:r}]=e;return[t,r]})));function o(e){let{filename:t,format:n}=e;return t===r&&"png"===n}}function create_if_block_1$f(e){let t,r,n=clean$1(e[0].prepend)+"";return{c(){t=element("span"),r=new HtmlTagHydration(!1),this.h()},l(e){t=claim_element(e,"SPAN",{class:!0});var n=children(t);r=claim_html_tag(n,!1),n.forEach(detach),this.h()},h(){r.a=null,attr(t,"class","prepend")},m(e,a){insert_hydration(e,t,a),r.m(n,t)},p(e,t){1&t&&n!==(n=clean$1(e[0].prepend)+"")&&r.p(n)},d(e){e&&detach(t)}}}function create_if_block$v(e){let t,r,n=clean$1(e[0].append)+"";return{c(){t=element("span"),r=new HtmlTagHydration(!1),this.h()},l(e){t=claim_element(e,"SPAN",{class:!0});var n=children(t);r=claim_html_tag(n,!1),n.forEach(detach),this.h()},h(){r.a=null,attr(t,"class","append")},m(e,a){insert_hydration(e,t,a),r.m(n,t)},p(e,t){1&t&&n!==(n=clean$1(e[0].append)+"")&&r.p(n)},d(e){e&&detach(t)}}}function create_fragment$Y(e){let t,r,n,a,o,i,s=e[0].prepend&&create_if_block_1$f(e);var c=e[0].component;function l(e,t){return{props:{props:e[0].props}}}c&&(n=construct_svelte_component(c,l(e)));let u=e[0].append&&create_if_block$v(e);return{c(){s&&s.c(),t=space(),r=element("span"),n&&create_component(n.$$.fragment),a=space(),u&&u.c(),o=empty(),this.h()},l(e){s&&s.l(e),t=claim_space(e),r=claim_element(e,"SPAN",{class:!0});var i=children(r);n&&claim_component(n.$$.fragment,i),i.forEach(detach),a=claim_space(e),u&&u.l(e),o=empty(),this.h()},h(){attr(r,"class","block-inner")},m(e,c){s&&s.m(e,c),insert_hydration(e,t,c),insert_hydration(e,r,c),n&&mount_component(n,r,null),insert_hydration(e,a,c),u&&u.m(e,c),insert_hydration(e,o,c),i=!0},p(e,a){let[i]=a;if(e[0].prepend?s?s.p(e,i):(s=create_if_block_1$f(e),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),1&i&&c!==(c=e[0].component)){if(n){group_outros();const e=n;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}c?(n=construct_svelte_component(c,l(e)),create_component(n.$$.fragment),transition_in(n.$$.fragment,1),mount_component(n,r,null)):n=null}else if(c){const t={};1&i&&(t.props=e[0].props),n.$set(t)}e[0].append?u?u.p(e,i):(u=create_if_block$v(e),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null)},i(e){i||(n&&transition_in(n.$$.fragment,e),i=!0)},o(e){n&&transition_out(n.$$.fragment,e),i=!1},d(e){e&&(detach(t),detach(r),detach(a),detach(o)),s&&s.d(e),n&&destroy_component(n),u&&u.d(e)}}}function instance$Y(e,t,r){let{block:n}=t;return e.$$set=e=>{"block"in e&&r(0,n=e.block)},[n]}let Block$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$Y,create_fragment$Y,safe_not_equal,{block:0})}};function get_each_context$a(e,t,r){const n=e.slice();return n[7]=t[r],n}function create_if_block$u(e){let t,r,n,a=ensure_array_like(e[2]),o=[];for(let t=0;t<a.length;t+=1)o[t]=create_each_block$a(get_each_context$a(e,a,t));const i=e=>transition_out(o[e],1,1,(()=>{o[e]=null}));return{c(){t=element("div");for(let e=0;e<o.length;e+=1)o[e].c();this.h()},l(e){t=claim_element(e,"DIV",{id:!0,class:!0});var r=children(t);for(let e=0;e<o.length;e+=1)o[e].l(r);r.forEach(detach),this.h()},h(){attr(t,"id",e[0]),attr(t,"class",r=e[1]+" "+(e[4]&&e[3]?e[3](e[4],e[5]):""))},m(e,r){insert_hydration(e,t,r);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);n=!0},p(e,s){if(52&s){let r;for(a=ensure_array_like(e[2]),r=0;r<a.length;r+=1){const n=get_each_context$a(e,a,r);o[r]?(o[r].p(n,s),transition_in(o[r],1)):(o[r]=create_each_block$a(n),o[r].c(),transition_in(o[r],1),o[r].m(t,null))}for(group_outros(),r=a.length;r<o.length;r+=1)i(r);check_outros()}(!n||1&s)&&attr(t,"id",e[0]),(!n||58&s&&r!==(r=e[1]+" "+(e[4]&&e[3]?e[3](e[4],e[5]):"")))&&attr(t,"class",r)},i(e){if(!n){for(let e=0;e<a.length;e+=1)transition_in(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)transition_out(o[e]);n=!1},d(e){e&&detach(t),destroy_each(o,e)}}}function create_dynamic_element$1(e){let t,r,n,a,o,i;r=new Block$1({props:{block:e[7]}});let s=[{class:a="block "+e[7].id+"-block "+(e[4]&&e[7].styles?e[7].styles(e[4],e[5]):"")},{style:o="div"===blockEl(e[7].tag)&&e[7].id.includes("svg-rule")?"font-size:0px;":""}],c={};for(let e=0;e<s.length;e+=1)c=assign$1(c,s[e]);return{c(){t=element(blockEl(e[7].tag)),create_component(r.$$.fragment),n=space(),this.h()},l(a){t=claim_element(a,(blockEl(e[7].tag)||"null").toUpperCase(),{class:!0,style:!0});var o=children(t);claim_component(r.$$.fragment,o),n=claim_space(o),o.forEach(detach),this.h()},h(){set_dynamic_element_data(blockEl(e[7].tag))(t,c)},m(e,a){insert_hydration(e,t,a),mount_component(r,t,null),append_hydration(t,n),i=!0},p(e,n){const l={};4&n&&(l.block=e[7]),r.$set(l),set_dynamic_element_data(blockEl(e[7].tag))(t,c=get_spread_update(s,[(!i||52&n&&a!==(a="block "+e[7].id+"-block "+(e[4]&&e[7].styles?e[7].styles(e[4],e[5]):"")))&&{class:a},(!i||4&n&&o!==(o="div"===blockEl(e[7].tag)&&e[7].id.includes("svg-rule")?"font-size:0px;":""))&&{style:o}]))},i(e){i||(transition_in(r.$$.fragment,e),i=!0)},o(e){transition_out(r.$$.fragment,e),i=!1},d(e){e&&detach(t),destroy_component(r)}}}function create_each_block$a(e){let t,r=blockEl(e[7].tag),n=blockEl(e[7].tag)&&create_dynamic_element$1(e);return{c(){n&&n.c(),t=empty()},l(e){n&&n.l(e),t=empty()},m(e,r){n&&n.m(e,r),insert_hydration(e,t,r)},p(e,a){blockEl(e[7].tag)?r?safe_not_equal(r,blockEl(e[7].tag))?(n.d(1),n=create_dynamic_element$1(e),r=blockEl(e[7].tag),n.c(),n.m(t.parentNode,t)):n.p(e,a):(n=create_dynamic_element$1(e),r=blockEl(e[7].tag),n.c(),n.m(t.parentNode,t)):r&&(n.d(1),n=null,r=blockEl(e[7].tag))},i:noop,o(e){transition_out(n,e)},d(e){e&&detach(t),n&&n.d(e)}}}function create_fragment$X(e){let t,r,n=e[2].length&&create_if_block$u(e);return{c(){n&&n.c(),t=empty()},l(e){n&&n.l(e),t=empty()},m(e,a){n&&n.m(e,a),insert_hydration(e,t,a),r=!0},p(e,r){let[a]=r;e[2].length?n?(n.p(e,a),4&a&&transition_in(n,1)):(n=create_if_block$u(e),n.c(),transition_in(n,1),n.m(t.parentNode,t)):n&&(group_outros(),transition_out(n,1,1,(()=>{n=null})),check_outros())},i(e){r||(transition_in(n),r=!0)},o(e){transition_out(n),r=!1},d(e){e&&detach(t),n&&n.d(e)}}}function blockEl(e){return"h3"===e||"p"===e?e:"div"}function instance$X(e,t,r){let n;const{themeData:a}=getContext("stores");component_subscribe(e,a,(e=>r(5,n=e)));let{id:o}=t,{name:i}=t,{blocks:s=[]}=t,{styles:c=null}=t,{emotion:l}=t;if(!l)throw new Error("need to pass emotion for block region "+i);return e.$$set=e=>{"id"in e&&r(0,o=e.id),"name"in e&&r(1,i=e.name),"blocks"in e&&r(2,s=e.blocks),"styles"in e&&r(3,c=e.styles),"emotion"in e&&r(4,l=e.emotion)},[o,i,s,c,l,n,a]}class BlocksRegion extends SvelteComponent{constructor(e){super(),init(this,e,instance$X,create_fragment$X,safe_not_equal,{id:0,name:1,blocks:2,styles:3,emotion:4})}}function add_css$j(e){append_styles(e,"svelte-1mufarc",".layout-inline.svelte-1mufarc>.footer-block.svelte-1mufarc{display:inline}.layout-flex-row.svelte-1mufarc.svelte-1mufarc,.layout-flex-column.svelte-1mufarc.svelte-1mufarc{display:flex}.layout-flex-row.svelte-1mufarc.svelte-1mufarc{flex-direction:row}.layout-flex-column.svelte-1mufarc.svelte-1mufarc{flex-direction:column}.footer-center.layout-flex-column.svelte-1mufarc.svelte-1mufarc{align-items:center}.footer-right.layout-flex-column.svelte-1mufarc.svelte-1mufarc{align-items:flex-end}.footer-center.layout-inline.svelte-1mufarc.svelte-1mufarc{text-align:center}.footer-right.layout-inline.svelte-1mufarc.svelte-1mufarc{text-align:right}.separator.svelte-1mufarc.svelte-1mufarc{display:inline-block;font-style:initial}.separator.svelte-1mufarc.svelte-1mufarc:before{display:inline-block}.footer-right.svelte-1mufarc.svelte-1mufarc{text-align:right}.footer-block.svelte-1mufarc.svelte-1mufarc{display:inline}")}function get_each_context$9(e,t,r){const n=e.slice();return n[6]=t[r],n[8]=r,n}function create_if_block$t(e){let t,r;return{c(){t=element("span"),this.h()},l(e){t=claim_element(e,"SPAN",{class:!0}),children(t).forEach(detach),this.h()},h(){attr(t,"class",r="separator separator-before-"+e[6].id+" svelte-1mufarc")},m(e,r){insert_hydration(e,t,r)},p(e,n){2&n&&r!==(r="separator separator-before-"+e[6].id+" svelte-1mufarc")&&attr(t,"class",r)},d(e){e&&detach(t)}}}function create_each_block$9(e){let t,r,n,a,o,i,s=e[8]&&"inline"===e[2]&&create_if_block$t(e);return n=new Block$1({props:{block:e[6]}}),{c(){s&&s.c(),t=space(),r=element("span"),create_component(n.$$.fragment),a=space(),this.h()},l(e){s&&s.l(e),t=claim_space(e),r=claim_element(e,"SPAN",{class:!0});var o=children(r);claim_component(n.$$.fragment,o),a=claim_space(o),o.forEach(detach),this.h()},h(){attr(r,"class",o="footer-block "+e[6].id+"-block "+(e[3]&&e[6].styles?e[6].styles(e[3],e[4]):"")+" svelte-1mufarc")},m(e,o){s&&s.m(e,o),insert_hydration(e,t,o),insert_hydration(e,r,o),mount_component(n,r,null),append_hydration(r,a),i=!0},p(e,a){e[8]&&"inline"===e[2]?s?s.p(e,a):(s=create_if_block$t(e),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null);const c={};2&a&&(c.block=e[6]),n.$set(c),(!i||26&a&&o!==(o="footer-block "+e[6].id+"-block "+(e[3]&&e[6].styles?e[6].styles(e[3],e[4]):"")+" svelte-1mufarc"))&&attr(r,"class",o)},i(e){i||(transition_in(n.$$.fragment,e),i=!0)},o(e){transition_out(n.$$.fragment,e),i=!1},d(e){e&&(detach(t),detach(r)),s&&s.d(e),destroy_component(n)}}}function create_fragment$W(e){let t,r,n,a=ensure_array_like(e[1]),o=[];for(let t=0;t<a.length;t+=1)o[t]=create_each_block$9(get_each_context$9(e,a,t));const i=e=>transition_out(o[e],1,1,(()=>{o[e]=null}));return{c(){t=element("div");for(let e=0;e<o.length;e+=1)o[e].c();this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var r=children(t);for(let e=0;e<o.length;e+=1)o[e].l(r);r.forEach(detach),this.h()},h(){attr(t,"class",r="footer-"+e[0]+" layout-"+e[2]+" svelte-1mufarc")},m(e,r){insert_hydration(e,t,r);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);n=!0},p(e,s){let[c]=s;if(30&c){let r;for(a=ensure_array_like(e[1]),r=0;r<a.length;r+=1){const n=get_each_context$9(e,a,r);o[r]?(o[r].p(n,c),transition_in(o[r],1)):(o[r]=create_each_block$9(n),o[r].c(),transition_in(o[r],1),o[r].m(t,null))}for(group_outros(),r=a.length;r<o.length;r+=1)i(r);check_outros()}(!n||5&c&&r!==(r="footer-"+e[0]+" layout-"+e[2]+" svelte-1mufarc"))&&attr(t,"class",r)},i(e){if(!n){for(let e=0;e<a.length;e+=1)transition_in(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)transition_out(o[e]);n=!1},d(e){e&&detach(t),destroy_each(o,e)}}}function instance$W(e,t,r){let n;const{themeData:a}=getContext("stores");component_subscribe(e,a,(e=>r(4,n=e)));let{alignment:o}=t,{blocks:i}=t,{layout:s}=t,{emotion:c}=t;return e.$$set=e=>{"alignment"in e&&r(0,o=e.alignment),"blocks"in e&&r(1,i=e.blocks),"layout"in e&&r(2,s=e.layout),"emotion"in e&&r(3,c=e.emotion)},[o,i,s,c,n,a]}class FooterInlineBlocksRegion extends SvelteComponent{constructor(e){super(),init(this,e,instance$W,create_fragment$W,safe_not_equal,{alignment:0,blocks:1,layout:2,emotion:3},add_css$j)}}function purifySvg(e){return DOMPurify.sanitize(e,{USE_PROFILES:{svg:!0,svgFilters:!0},KEEP_CONTENT:!1})}function add_css$i(e){append_styles(e,"svelte-1lt126s",".menu.svelte-1lt126s.svelte-1lt126s{cursor:pointer;position:absolute;top:0px;right:0px;z-index:1}.ha-menu.svelte-1lt126s.svelte-1lt126s{margin:4px 10px 3px 3px;width:18px;padding:3px 0px;border-top:2px solid black;border-bottom:2px solid black}.ha-menu.svelte-1lt126s div.svelte-1lt126s{height:2px;width:100%;background:black}.ha-menu.svelte-1lt126s.svelte-1lt126s:hover{border-top-color:#ccc;border-bottom-color:#ccc}.ha-menu.svelte-1lt126s:hover div.svelte-1lt126s{background:#ccc}.menu-content.svelte-1lt126s.svelte-1lt126s{position:absolute;top:30px;right:4px;background:white;border:1px solid #ccc;z-index:100;box-shadow:0px 0px 4px 1px rgba(0, 0, 0, 0.1)}.menu-content > .dw-chart-menu a{padding:10px;display:block;color:initial;border-bottom:1px solid #ccc}.menu-content > .dw-chart-menu a:hover{background:rgba(0, 0, 0, 0.05)}.menu-content > .dw-chart-menu .block:last-child a{border-bottom:none}")}function create_if_block$s(e){let t,r,n,a,o,i,s;function c(e,t){return e[3].icon?create_if_block_1$e:create_else_block$a}let l=c(e),u=l(e);return a=new BlocksRegion({props:{id:e[0],emotion:e[4],name:e[1],blocks:e[2]}}),{c(){t=element("div"),u.c(),r=space(),n=element("div"),create_component(a.$$.fragment),this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var o=children(t);u.l(o),o.forEach(detach),r=claim_space(e),n=claim_element(e,"DIV",{class:!0});var i=children(n);claim_component(a.$$.fragment,i),i.forEach(detach),this.h()},h(){attr(t,"class","menu container svelte-1lt126s"),toggle_class(t,"ha-menu",!e[3].icon),attr(n,"class","menu-content container svelte-1lt126s"),toggle_class(n,"hidden",!e[5])},m(c,l){insert_hydration(c,t,l),u.m(t,null),insert_hydration(c,r,l),insert_hydration(c,n,l),mount_component(a,n,null),o=!0,i||(s=[listen(t,"click",stop_propagation(e[6])),listen(n,"click",stop_propagation(e[8]))],i=!0)},p(e,r){l===(l=c(e))&&u?u.p(e,r):(u.d(1),u=l(e),u&&(u.c(),u.m(t,null))),(!o||8&r)&&toggle_class(t,"ha-menu",!e[3].icon);const i={};1&r&&(i.id=e[0]),16&r&&(i.emotion=e[4]),2&r&&(i.name=e[1]),4&r&&(i.blocks=e[2]),a.$set(i),(!o||32&r)&&toggle_class(n,"hidden",!e[5])},i(e){o||(transition_in(a.$$.fragment,e),o=!0)},o(e){transition_out(a.$$.fragment,e),o=!1},d(e){e&&(detach(t),detach(r),detach(n)),u.d(),destroy_component(a),i=!1,run_all(s)}}}function create_else_block$a(e){let t;return{c(){t=element("div"),this.h()},l(e){t=claim_element(e,"DIV",{class:!0}),children(t).forEach(detach),this.h()},h(){attr(t,"class","svelte-1lt126s")},m(e,r){insert_hydration(e,t,r)},p:noop,d(e){e&&detach(t)}}}function create_if_block_1$e(e){let t,r,n=purifySvg(e[3].icon)+"";return{c(){t=new HtmlTagHydration(!1),r=empty(),this.h()},l(e){t=claim_html_tag(e,!1),r=empty(),this.h()},h(){t.a=r},m(e,a){t.m(n,e,a),insert_hydration(e,r,a)},p(e,r){8&r&&n!==(n=purifySvg(e[3].icon)+"")&&t.p(n)},d(e){e&&(detach(r),t.d())}}}function create_fragment$V(e){let t,r,n,a,o=e[2].length&&create_if_block$s(e);return{c(){o&&o.c(),t=empty()},l(e){o&&o.l(e),t=empty()},m(i,s){o&&o.m(i,s),insert_hydration(i,t,s),r=!0,n||(a=listen(window,"click",e[7]),n=!0)},p(e,r){let[n]=r;e[2].length?o?(o.p(e,n),4&n&&transition_in(o,1)):(o=create_if_block$s(e),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,(()=>{o=null})),check_outros())},i(e){r||(transition_in(o),r=!0)},o(e){transition_out(o),r=!1},d(e){e&&detach(t),o&&o.d(e),n=!1,a()}}}function instance$V(e,t,r){let{id:n}=t,{name:a}=t,{blocks:o}=t,{props:i}=t,{emotion:s}=t,c=!1;return e.$$set=e=>{"id"in e&&r(0,n=e.id),"name"in e&&r(1,a=e.name),"blocks"in e&&r(2,o=e.blocks),"props"in e&&r(3,i=e.props),"emotion"in e&&r(4,s=e.emotion)},[n,a,o,i,s,c,function(){r(5,c=!c)},function(){r(5,c=!1)},function(t){bubble.call(this,e,t)}]}let Menu$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$V,create_fragment$V,safe_not_equal,{id:0,name:1,blocks:2,props:3,emotion:4},add_css$i)}};function add_css$h(e){append_styles(e,"svelte-k5gpz5",".filter-ui.filter-select.svelte-k5gpz5{vertical-align:middle;max-width:100%}")}function get_each_context$8(e,t,r){const n=e.slice();return n[10]=t[r],n}function create_each_block$8(e){let t,r,n,a=e[1](String(e[10].value).trim())+"";return{c(){t=element("option"),r=new HtmlTagHydration(!1),this.h()},l(e){t=claim_element(e,"OPTION",{});var n=children(t);r=claim_html_tag(n,!1),n.forEach(detach),this.h()},h(){r.a=null,t.__value=n=e[10],set_input_value(t,t.__value)},m(e,n){insert_hydration(e,t,n),r.m(a,t)},p(e,o){6&o&&a!==(a=e[1](String(e[10].value).trim())+"")&&r.p(a),4&o&&n!==(n=e[10])&&(t.__value=n,set_input_value(t,t.__value))},d(e){e&&detach(t)}}}function create_fragment$U(e){let t,r,n,a=ensure_array_like(e[2]),o=[];for(let t=0;t<a.length;t+=1)o[t]=create_each_block$8(get_each_context$8(e,a,t));return{c(){t=element("select");for(let e=0;e<o.length;e+=1)o[e].c();this.h()},l(e){t=claim_element(e,"SELECT",{class:!0});var r=children(t);for(let e=0;e<o.length;e+=1)o[e].l(r);r.forEach(detach),this.h()},h(){attr(t,"class","filter-ui filter-select svelte-k5gpz5"),void 0===e[3]&&add_render_callback((()=>e[6].call(t)))},m(a,i){insert_hydration(a,t,i);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null);select_option(t,e[3],!0),r||(n=[listen(t,"change",e[6]),listen(t,"change",e[4])],r=!0)},p(e,r){let[n]=r;if(6&n){let r;for(a=ensure_array_like(e[2]),r=0;r<a.length;r+=1){const i=get_each_context$8(e,a,r);o[r]?o[r].p(i,n):(o[r]=create_each_block$8(i),o[r].c(),o[r].m(t,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=a.length}12&n&&select_option(t,e[3])},i:noop,o:noop,d(e){e&&detach(t),destroy_each(o,e),r=!1,run_all(n)}}}function instance$U(e,t,r){let n,a=noop,o=()=>(a(),a=subscribe(c,(e=>r(7,n=e))),c);e.$$.on_destroy.push((()=>a()));const i=createEventDispatcher();let{column:s}=t,{active:c}=t;o();let l,{purifyHtml:u}=t,d=[];function p(e){return d.length?d[e]:null}return onMount((()=>{r(2,d=s.values().map(((e,t)=>({index:t,value:s.raw()[t]})))),r(3,l=p(n))})),e.$$set=e=>{"column"in e&&r(5,s=e.column),"active"in e&&o(r(0,c=e.active)),"purifyHtml"in e&&r(1,u=e.purifyHtml)},[c,u,d,l,function(){set_store_value(c,n=d.indexOf(l),n),r(3,l=p(n)),i("change",l)},s,function(){l=select_value(this),r(3,l),r(2,d)}]}class FilterSelect extends SvelteComponent{constructor(e){super(),init(this,e,instance$U,create_fragment$U,safe_not_equal,{column:5,active:0,purifyHtml:1},add_css$h)}}function add_css$g(e){append_styles(e,"svelte-giak51",".filter-ui.filter-links.svelte-giak51.svelte-giak51{white-space:nowrap;overflow-x:hidden;overflow-y:hidden;line-height:28px}.filter-ui.filter-links.svelte-giak51 a.svelte-giak51{display:inline-block;height:28px;padding:0px 10px;text-decoration:none}.filter-ui.filter-links.svelte-giak51 a.active.svelte-giak51{box-shadow:none;cursor:default;text-decoration:none}.invisible.svelte-giak51.svelte-giak51{opacity:0;position:absolute;left:-9999px;pointer-events:none}")}function get_each_context$7(e,t,r){const n=e.slice();return n[19]=t[r],n[20]=t,n[21]=r,n}function create_each_block$7(e){let t,r,n,a,o,i=e[1](String(e[19].value).trim())+"",s=e[21];const c=()=>e[14](t,s),l=()=>e[14](null,s);function u(){return e[15](e[19])}return{c(){t=element("a"),r=new HtmlTagHydration(!1),this.h()},l(e){t=claim_element(e,"A",{tabindex:!0,href:!0,class:!0});var n=children(t);r=claim_html_tag(n,!1),n.forEach(detach),this.h()},h(){r.a=null,attr(t,"tabindex","0"),attr(t,"href",n="#"+e[19].index),attr(t,"class","link-style-ignore svelte-giak51"),toggle_class(t,"active",e[19].index===e[7])},m(e,n){insert_hydration(e,t,n),r.m(i,t),c(),a||(o=listen(t,"click",prevent_default(u)),a=!0)},p(a,o){e=a,34&o&&i!==(i=e[1](String(e[19].value).trim())+"")&&r.p(i),32&o&&n!==(n="#"+e[19].index)&&attr(t,"href",n),s!==e[21]&&(l(),s=e[21],c()),160&o&&toggle_class(t,"active",e[19].index===e[7])},d(e){e&&detach(t),l(),a=!1,o()}}}function create_if_block$r(e){let t,r;return t=new FilterSelect({props:{column:e[0],active:e[2],purifyHtml:e[1]}}),t.$on("change",e[17]),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};1&r&&(n.column=e[0]),4&r&&(n.active=e[2]),2&r&&(n.purifyHtml=e[1]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_fragment$T(e){let t,r,n,a,o=ensure_array_like(e[5]),i=[];for(let t=0;t<o.length;t+=1)i[t]=create_each_block$7(get_each_context$7(e,o,t));let s=!e[6]&&create_if_block$r(e);return{c(){t=element("nav");for(let e=0;e<i.length;e+=1)i[e].c();r=space(),s&&s.c(),n=empty(),this.h()},l(e){t=claim_element(e,"NAV",{class:!0});var a=children(t);for(let e=0;e<i.length;e+=1)i[e].l(a);a.forEach(detach),r=claim_space(e),s&&s.l(e),n=empty(),this.h()},h(){attr(t,"class","filter-ui filter-links svelte-giak51"),toggle_class(t,"invisible",!e[6])},m(o,c){insert_hydration(o,t,c);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null);e[16](t),insert_hydration(o,r,c),s&&s.m(o,c),insert_hydration(o,n,c),a=!0},p(e,r){let[c]=r;if(690&c){let r;for(o=ensure_array_like(e[5]),r=0;r<o.length;r+=1){const n=get_each_context$7(e,o,r);i[r]?i[r].p(n,c):(i[r]=create_each_block$7(n),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}(!a||64&c)&&toggle_class(t,"invisible",!e[6]),e[6]?s&&(group_outros(),transition_out(s,1,1,(()=>{s=null})),check_outros()):s?(s.p(e,c),64&c&&transition_in(s,1)):(s=create_if_block$r(e),s.c(),transition_in(s,1),s.m(n.parentNode,n))},i(e){a||(transition_in(s),a=!0)},o(e){transition_out(s),a=!1},d(a){a&&(detach(t),detach(r),detach(n)),destroy_each(i,a),e[16](null),s&&s.d(a)}}}function instance$T(e,t,r){let n,a,o,i,s,c,l=noop,u=()=>(l(),l=subscribe(g,(e=>r(7,s=e))),g);e.$$.on_destroy.push((()=>l()));const{outerWidth:d}=getContext("stores");component_subscribe(e,d,(e=>r(13,c=e)));let{column:p}=t,{textDirection:h}=t,{purifyHtml:f}=t;const m=createEventDispatcher();let _,{active:g}=t;u();const y=[];function b(e){set_store_value(g,s=e.index,s),m("change",e)}return e.$$set=e=>{"column"in e&&r(0,p=e.column),"textDirection"in e&&r(10,h=e.textDirection),"purifyHtml"in e&&r(1,f=e.purifyHtml),"active"in e&&u(r(2,g=e.active))},e.$$.update=()=>{24&e.$$.dirty&&r(12,a=y.filter((e=>e)).slice(-1).map((e=>{const t=_.getBoundingClientRect().left;return e.getBoundingClientRect().right-t}))[0]),12288&e.$$.dirty&&r(6,n=a<c),1&e.$$.dirty&&r(11,o=p.values().filter(((e,t)=>p.raw()[t])).map(((e,t)=>({value:p.raw()[t],index:t})))),3072&e.$$.dirty&&r(5,i="rtl"===h?o.reverse():o)},[p,f,g,_,y,i,n,s,d,b,h,o,a,c,function(e,t){binding_callbacks[e?"unshift":"push"]((()=>{y[t]=e,r(4,y)}))},e=>b(e),function(e){binding_callbacks[e?"unshift":"push"]((()=>{_=e,r(3,_)}))},e=>b(e.detail)]}class FilterButtons extends SvelteComponent{constructor(e){super(),init(this,e,instance$T,create_fragment$T,safe_not_equal,{column:0,textDirection:10,purifyHtml:1,active:2},add_css$g)}}function ascending(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function bisector(e){let t=e,r=e;function n(e,t,n,a){for(null==n&&(n=0),null==a&&(a=e.length);n<a;){const o=n+a>>>1;r(e[o],t)<0?n=o+1:a=o}return n}return 1===e.length&&(t=(t,r)=>e(t)-r,r=ascendingComparator(e)),{left:n,center:function(e,r,a,o){null==a&&(a=0),null==o&&(o=e.length);const i=n(e,r,a,o-1);return i>a&&t(e[i-1],r)>-t(e[i],r)?i-1:i},right:function(e,t,n,a){for(null==n&&(n=0),null==a&&(a=e.length);n<a;){const o=n+a>>>1;r(e[o],t)>0?a=o:n=o+1}return n}}}function ascendingComparator(e){return(t,r)=>ascending(e(t),r)}function number$2(e){return null===e?NaN:+e}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickStep(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),a=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),o=n/a;return o>=e10?a*=10:o>=e5?a*=5:o>=e2&&(a*=2),t<e?-a:a}function initRange(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function define(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function extend(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Color$1(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp("^rgb\\("+[reI,reI,reI]+"\\)$"),reRgbPercent=new RegExp("^rgb\\("+[reP,reP,reP]+"\\)$"),reRgbaInteger=new RegExp("^rgba\\("+[reI,reI,reI,reN]+"\\)$"),reRgbaPercent=new RegExp("^rgba\\("+[reP,reP,reP,reN]+"\\)$"),reHslPercent=new RegExp("^hsl\\("+[reN,reP,reP]+"\\)$"),reHslaPercent=new RegExp("^hsla\\("+[reN,reP,reP,reN]+"\\)$"),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=reHex.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?rgbn(t):3===r?new Rgb(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?rgba(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?rgba(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=reRgbInteger.exec(e))?new Rgb(t[1],t[2],t[3],1):(t=reRgbPercent.exec(e))?new Rgb(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=reRgbaInteger.exec(e))?rgba(t[1],t[2],t[3],t[4]):(t=reRgbaPercent.exec(e))?rgba(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=reHslPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,1):(t=reHslaPercent.exec(e))?hsla(t[1],t[2]/100,t[3]/100,t[4]):named.hasOwnProperty(e)?rgbn(named[e]):"transparent"===e?new Rgb(NaN,NaN,NaN,0):null}function rgbn(e){return new Rgb(e>>16&255,e>>8&255,255&e,1)}function rgba(e,t,r,n){return n<=0&&(e=t=r=NaN),new Rgb(e,t,r,n)}function rgbConvert(e){return e instanceof Color$1||(e=color(e)),e?new Rgb((e=e.rgb()).r,e.g,e.b,e.opacity):new Rgb}function rgb$2(e,t,r,n){return 1===arguments.length?rgbConvert(e):new Rgb(e,t,r,null==n?1:n)}function Rgb(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function rgb_formatHex(){return"#"+hex(this.r)+hex(this.g)+hex(this.b)}function rgb_formatRgb(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function hex(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function hsla(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hsl(e,t,r,n)}function hslConvert(e){if(e instanceof Hsl)return new Hsl(e.h,e.s,e.l,e.opacity);if(e instanceof Color$1||(e=color(e)),!e)return new Hsl;if(e instanceof Hsl)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),o=Math.max(t,r,n),i=NaN,s=o-a,c=(o+a)/2;return s?(i=t===o?(r-n)/s+6*(r<n):r===o?(n-t)/s+2:(t-r)/s+4,s/=c<.5?o+a:2-o-a,i*=60):s=c>0&&c<1?0:i,new Hsl(i,s,c,e.opacity)}function hsl$1(e,t,r,n){return 1===arguments.length?hslConvert(e):new Hsl(e,t,r,null==n?1:n)}function Hsl(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function hsl2rgb$1(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function constant(e){return function(){return e}}function linear(e,t){return function(r){return e+r*t}}function exponential(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function gamma(e){return 1==(e=+e)?nogamma:function(t,r){return r-t?exponential(t,r,e):constant(isNaN(t)?r:t)}}function nogamma(e,t){var r=t-e;return r?linear(e,r):constant(isNaN(e)?t:e)}define(Color$1,color,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb}),define(Rgb,rgb$2,extend(Color$1,{brighter:function(e){return e=null==e?brighter:Math.pow(brighter,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?darker:Math.pow(darker,e),new Rgb(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),define(Hsl,hsl$1,extend(Color$1,{brighter:function(e){return e=null==e?brighter:Math.pow(brighter,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?darker:Math.pow(darker,e),new Hsl(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Rgb(hsl2rgb$1(e>=240?e-240:e+120,a,n),hsl2rgb$1(e,a,n),hsl2rgb$1(e<120?e+240:e-120,a,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var rgb$1=function e(t){var r=gamma(t);function n(e,t){var n=r((e=rgb$2(e)).r,(t=rgb$2(t)).r),a=r(e.g,t.g),o=r(e.b,t.b),i=nogamma(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=a(t),e.b=o(t),e.opacity=i(t),e+""}}return n.gamma=e,n}(1);function numberArray(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,a=t.slice();return function(o){for(r=0;r<n;++r)a[r]=e[r]*(1-o)+t[r]*o;return a}}function isNumberArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function genericArray(e,t){var r,n=t?t.length:0,a=e?Math.min(n,e.length):0,o=new Array(a),i=new Array(n);for(r=0;r<a;++r)o[r]=interpolate(e[r],t[r]);for(;r<n;++r)i[r]=t[r];return function(e){for(r=0;r<a;++r)i[r]=o[r](e);return i}}function date$1(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function interpolateNumber(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function object(e,t){var r,n={},a={};for(r in null!==e&&"object"==typeof e||(e={}),null!==t&&"object"==typeof t||(t={}),t)r in e?n[r]=interpolate(e[r],t[r]):a[r]=t[r];return function(e){for(r in n)a[r]=n[r](e);return a}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(e){return function(){return e}}function one(e){return function(t){return e(t)+""}}function string(e,t){var r,n,a,o=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],c=[];for(e+="",t+="";(r=reA.exec(e))&&(n=reB.exec(t));)(a=n.index)>o&&(a=t.slice(o,a),s[i]?s[i]+=a:s[++i]=a),(r=r[0])===(n=n[0])?s[i]?s[i]+=n:s[++i]=n:(s[++i]=null,c.push({i:i,x:interpolateNumber(r,n)})),o=reB.lastIndex;return o<t.length&&(a=t.slice(o),s[i]?s[i]+=a:s[++i]=a),s.length<2?c[0]?one(c[0].x):zero(t):(t=c.length,function(e){for(var r,n=0;n<t;++n)s[(r=c[n]).i]=r.x(e);return s.join("")})}function interpolate(e,t){var r,n=typeof t;return null==t||"boolean"===n?constant(t):("number"===n?interpolateNumber:"string"===n?(r=color(t))?(t=r,rgb$1):string:t instanceof color?rgb$1:t instanceof Date?date$1:isNumberArray(t)?numberArray:Array.isArray(t)?genericArray:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?object:interpolateNumber)(e,t)}function interpolateRound(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function constants(e){return function(){return e}}function number$1(e){return+e}var unit=[0,1];function identity(e){return e}function normalize(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:constants(isNaN(t)?NaN:.5)}function clamper(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}function bimap(e,t,r){var n=e[0],a=e[1],o=t[0],i=t[1];return a<n?(n=normalize(a,n),o=r(i,o)):(n=normalize(n,a),o=r(o,i)),function(e){return o(n(e))}}function polymap(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),o=new Array(n),i=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++i<n;)a[i]=normalize(e[i],e[i+1]),o[i]=r(t[i],t[i+1]);return function(t){var r=bisectRight(e,t,1,n)-1;return o[r](a[r](t))}}function copy$1(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function transformer(){var e,t,r,n,a,o,i=unit,s=unit,c=interpolate,l=identity;function u(){var e=Math.min(i.length,s.length);return l!==identity&&(l=clamper(i[0],i[e-1])),n=e>2?polymap:bimap,a=o=null,d}function d(t){return null==t||isNaN(t=+t)?r:(a||(a=n(i.map(e),s,c)))(e(l(t)))}return d.invert=function(r){return l(t((o||(o=n(s,i.map(e),interpolateNumber)))(r)))},d.domain=function(e){return arguments.length?(i=Array.from(e,number$1),u()):i.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),c=interpolateRound,u()},d.clamp=function(e){return arguments.length?(l=!!e||identity,u()):l!==identity},d.interpolate=function(e){return arguments.length?(c=e,u()):c},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function continuous(){return transformer()(identity,identity)}function nice(e,t){var r,n=0,a=(e=e.slice()).length-1,o=e[n],i=e[a];return i<o&&(r=n,n=a,a=r,r=o,o=i,i=r),e[n]=t.floor(o),e[a]=t.ceil(i),e}const t0=new Date,t1=new Date;function timeInterval(e,t,r,n){function a(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return a.floor=t=>(e(t=new Date(+t)),t),a.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),a.round=e=>{const t=a(e),r=a.ceil(e);return e-t<r-e?t:r},a.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),a.range=(r,n,o)=>{const i=[];if(r=a.ceil(r),o=null==o?1:Math.floor(o),!(r<n&&o>0))return i;let s;do{i.push(s=new Date(+r)),t(r,o),e(r)}while(s<r&&r<n);return i},a.filter=r=>timeInterval((t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)}),((e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););})),r&&(a.count=(t,n)=>(t0.setTime(+t),t1.setTime(+n),e(t0),e(t1),Math.floor(r(t0,t1))),a.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?a.filter(n?t=>n(t)%e==0:t=>a.count(0,t)%e==0):a:null)),a}const millisecond=timeInterval((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));millisecond.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?timeInterval((t=>{t.setTime(Math.floor(t/e)*e)}),((t,r)=>{t.setTime(+t+r*e)}),((t,r)=>(r-t)/e)):millisecond:null),millisecond.range;const durationSecond=1e3,durationMinute=60*durationSecond,durationHour=60*durationMinute,durationDay=24*durationHour,durationWeek=7*durationDay,durationMonth=30*durationDay,durationYear=365*durationDay,second=timeInterval((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*durationSecond)}),((e,t)=>(t-e)/durationSecond),(e=>e.getUTCSeconds()));second.range;const timeMinute=timeInterval((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond)}),((e,t)=>{e.setTime(+e+t*durationMinute)}),((e,t)=>(t-e)/durationMinute),(e=>e.getMinutes()));timeMinute.range;const utcMinute=timeInterval((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*durationMinute)}),((e,t)=>(t-e)/durationMinute),(e=>e.getUTCMinutes()));utcMinute.range;const timeHour=timeInterval((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*durationSecond-e.getMinutes()*durationMinute)}),((e,t)=>{e.setTime(+e+t*durationHour)}),((e,t)=>(t-e)/durationHour),(e=>e.getHours()));timeHour.range;const utcHour=timeInterval((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*durationHour)}),((e,t)=>(t-e)/durationHour),(e=>e.getUTCHours()));utcHour.range;const timeDay=timeInterval((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationDay),(e=>e.getDate()-1));timeDay.range;const utcDay=timeInterval((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/durationDay),(e=>e.getUTCDate()-1));utcDay.range;const unixDay=timeInterval((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/durationDay),(e=>Math.floor(e/durationDay)));function timeWeekday(e){return timeInterval((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*durationMinute)/durationWeek))}unixDay.range;const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);function utcWeekday(e){return timeInterval((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/durationWeek))}timeSunday.range,timeMonday.range,timeTuesday.range,timeWednesday.range,timeThursday.range,timeFriday.range,timeSaturday.range;const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range,utcMonday.range,utcTuesday.range,utcWednesday.range,utcThursday.range,utcFriday.range,utcSaturday.range;const timeMonth=timeInterval((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()));timeMonth.range;const utcMonth=timeInterval((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()));utcMonth.range;const timeYear=timeInterval((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));timeYear.every=e=>isFinite(e=Math.floor(e))&&e>0?timeInterval((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,r)=>{t.setFullYear(t.getFullYear()+r*e)})):null,timeYear.range;const utcYear=timeInterval((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));function ticker(e,t,r,n,a,o){const i=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[o,1,durationMinute],[o,5,5*durationMinute],[o,15,15*durationMinute],[o,30,30*durationMinute],[a,1,durationHour],[a,3,3*durationHour],[a,6,6*durationHour],[a,12,12*durationHour],[n,1,durationDay],[n,2,2*durationDay],[r,1,durationWeek],[t,1,durationMonth],[t,3,3*durationMonth],[e,1,durationYear]];function s(t,r,n){const a=Math.abs(r-t)/n,o=bisector((([,,e])=>e)).right(i,a);if(o===i.length)return e.every(tickStep(t/durationYear,r/durationYear,n));if(0===o)return millisecond.every(Math.max(tickStep(t,r,n),1));const[s,c]=i[a/i[o-1][2]<i[o][2]/a?o-1:o];return s.every(c)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const a=r&&"function"==typeof r.range?r:s(e,t,r),o=a?a.range(e,+t+1):[];return n?o.reverse():o},s]}utcYear.every=e=>isFinite(e=Math.floor(e))&&e>0?timeInterval((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)})):null,utcYear.range;const[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function utcDate(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function newDate(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function formatLocale(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,o=e.days,i=e.shortDays,s=e.months,c=e.shortMonths,l=formatRe(a),u=formatLookup(a),d=formatRe(o),p=formatLookup(o),h=formatRe(i),f=formatLookup(i),m=formatRe(s),_=formatLookup(s),g=formatRe(c),y=formatLookup(c),b={a:function(e){return i[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function(e){return a[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},$={a:function(e){return i[e.getUTCDay()]},A:function(e){return o[e.getUTCDay()]},b:function(e){return c[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function(e){return a[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},v={a:function(e,t,r){var n=h.exec(t.slice(r));return n?(e.w=f.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=g.exec(t.slice(r));return n?(e.m=y.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=_.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return w(e,t,r,n)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function(e,t,r){var n=l.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function(e,t,n){return w(e,r,t,n)},X:function(e,t,r){return w(e,n,t,r)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function k(e,t){return function(r){var n,a,o,i=[],s=-1,c=0,l=e.length;for(r instanceof Date||(r=new Date(+r));++s<l;)37===e.charCodeAt(s)&&(i.push(e.slice(c,s)),null!=(a=pads[n=e.charAt(++s)])?n=e.charAt(++s):a="e"===n?" ":"0",(o=t[n])&&(n=o(r,a)),i.push(n),c=s+1);return i.push(e.slice(c,s)),i.join("")}}function x(e,t){return function(r){var n,a,o=newDate(1900,void 0,1);if(w(o,e,r+="",0)!=r.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(t&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(a=(n=utcDate(newDate(o.y,0,1))).getUTCDay(),n=a>4||0===a?utcMonday.ceil(n):utcMonday(n),n=utcDay.offset(n,7*(o.V-1)),o.y=n.getUTCFullYear(),o.m=n.getUTCMonth(),o.d=n.getUTCDate()+(o.w+6)%7):(a=(n=localDate(newDate(o.y,0,1))).getDay(),n=a>4||0===a?timeMonday.ceil(n):timeMonday(n),n=timeDay.offset(n,7*(o.V-1)),o.y=n.getFullYear(),o.m=n.getMonth(),o.d=n.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),a="Z"in o?utcDate(newDate(o.y,0,1)).getUTCDay():localDate(newDate(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(a+5)%7:o.w+7*o.U-(a+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,utcDate(o)):localDate(o)}}function w(e,t,r,n){for(var a,o,i=0,s=t.length,c=r.length;i<s;){if(n>=c)return-1;if(37===(a=t.charCodeAt(i++))){if(a=t.charAt(i++),!(o=v[a in pads?t.charAt(i++):a])||(n=o(e,r,n))<0)return-1}else if(a!=r.charCodeAt(n++))return-1}return n}return b.x=k(r,b),b.X=k(n,b),b.c=k(t,b),$.x=k(r,$),$.X=k(n,$),$.c=k(t,$),{format:function(e){var t=k(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=x(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=k(e+="",$);return t.toString=function(){return e},t},utcParse:function(e){var t=x(e+="",!0);return t.toString=function(){return e},t}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g,locale,timeFormat;function pad(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",o=a.length;return n+(o<r?new Array(r-o+1).join(t)+a:a)}function requote(e){return e.replace(requoteRe,"\\$&")}function formatRe(e){return new RegExp("^(?:"+e.map(requote).join("|")+")","i")}function formatLookup(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function parseWeekdayNumberSunday(e,t,r){var n=numberRe.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function parseWeekdayNumberMonday(e,t,r){var n=numberRe.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function parseWeekNumberSunday(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function parseWeekNumberISO(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function parseWeekNumberMonday(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function parseFullYear(e,t,r){var n=numberRe.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function parseYear(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function parseZone(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function parseQuarter(e,t,r){var n=numberRe.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function parseMonthNumber(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function parseDayOfMonth(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function parseDayOfYear(e,t,r){var n=numberRe.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function parseHour24(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function parseMinutes(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function parseSeconds(e,t,r){var n=numberRe.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function parseMilliseconds(e,t,r){var n=numberRe.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function parseMicroseconds(e,t,r){var n=numberRe.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function parseLiteralPercent(e,t,r){var n=percentRe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function parseUnixTimestamp(e,t,r){var n=numberRe.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function parseUnixTimestampSeconds(e,t,r){var n=numberRe.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function formatDayOfMonth(e,t){return pad(e.getDate(),t,2)}function formatHour24(e,t){return pad(e.getHours(),t,2)}function formatHour12(e,t){return pad(e.getHours()%12||12,t,2)}function formatDayOfYear(e,t){return pad(1+timeDay.count(timeYear(e),e),t,3)}function formatMilliseconds(e,t){return pad(e.getMilliseconds(),t,3)}function formatMicroseconds(e,t){return formatMilliseconds(e,t)+"000"}function formatMonthNumber(e,t){return pad(e.getMonth()+1,t,2)}function formatMinutes(e,t){return pad(e.getMinutes(),t,2)}function formatSeconds(e,t){return pad(e.getSeconds(),t,2)}function formatWeekdayNumberMonday(e){var t=e.getDay();return 0===t?7:t}function formatWeekNumberSunday(e,t){return pad(timeSunday.count(timeYear(e)-1,e),t,2)}function dISO(e){var t=e.getDay();return t>=4||0===t?timeThursday(e):timeThursday.ceil(e)}function formatWeekNumberISO(e,t){return e=dISO(e),pad(timeThursday.count(timeYear(e),e)+(4===timeYear(e).getDay()),t,2)}function formatWeekdayNumberSunday(e){return e.getDay()}function formatWeekNumberMonday(e,t){return pad(timeMonday.count(timeYear(e)-1,e),t,2)}function formatYear(e,t){return pad(e.getFullYear()%100,t,2)}function formatYearISO(e,t){return pad((e=dISO(e)).getFullYear()%100,t,2)}function formatFullYear(e,t){return pad(e.getFullYear()%1e4,t,4)}function formatFullYearISO(e,t){var r=e.getDay();return pad((e=r>=4||0===r?timeThursday(e):timeThursday.ceil(e)).getFullYear()%1e4,t,4)}function formatZone(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pad(t/60|0,"0",2)+pad(t%60,"0",2)}function formatUTCDayOfMonth(e,t){return pad(e.getUTCDate(),t,2)}function formatUTCHour24(e,t){return pad(e.getUTCHours(),t,2)}function formatUTCHour12(e,t){return pad(e.getUTCHours()%12||12,t,2)}function formatUTCDayOfYear(e,t){return pad(1+utcDay.count(utcYear(e),e),t,3)}function formatUTCMilliseconds(e,t){return pad(e.getUTCMilliseconds(),t,3)}function formatUTCMicroseconds(e,t){return formatUTCMilliseconds(e,t)+"000"}function formatUTCMonthNumber(e,t){return pad(e.getUTCMonth()+1,t,2)}function formatUTCMinutes(e,t){return pad(e.getUTCMinutes(),t,2)}function formatUTCSeconds(e,t){return pad(e.getUTCSeconds(),t,2)}function formatUTCWeekdayNumberMonday(e){var t=e.getUTCDay();return 0===t?7:t}function formatUTCWeekNumberSunday(e,t){return pad(utcSunday.count(utcYear(e)-1,e),t,2)}function UTCdISO(e){var t=e.getUTCDay();return t>=4||0===t?utcThursday(e):utcThursday.ceil(e)}function formatUTCWeekNumberISO(e,t){return e=UTCdISO(e),pad(utcThursday.count(utcYear(e),e)+(4===utcYear(e).getUTCDay()),t,2)}function formatUTCWeekdayNumberSunday(e){return e.getUTCDay()}function formatUTCWeekNumberMonday(e,t){return pad(utcMonday.count(utcYear(e)-1,e),t,2)}function formatUTCYear(e,t){return pad(e.getUTCFullYear()%100,t,2)}function formatUTCYearISO(e,t){return pad((e=UTCdISO(e)).getUTCFullYear()%100,t,2)}function formatUTCFullYear(e,t){return pad(e.getUTCFullYear()%1e4,t,4)}function formatUTCFullYearISO(e,t){var r=e.getUTCDay();return pad((e=r>=4||0===r?utcThursday(e):utcThursday.ceil(e)).getUTCFullYear()%1e4,t,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(e){return+e}function formatUnixTimestampSeconds(e){return Math.floor(+e/1e3)}function defaultLocale(e){return locale=formatLocale(e),timeFormat=locale.format,locale.parse,locale.utcFormat,locale.utcParse,locale}function date(e){return new Date(e)}function number(e){return e instanceof Date?+e:+new Date(+e)}function calendar(e,t,r,n,a,o,i,s,c,l){var u=continuous(),d=u.invert,p=u.domain,h=l(".%L"),f=l(":%S"),m=l("%I:%M"),_=l("%I %p"),g=l("%a %d"),y=l("%b %d"),b=l("%B"),$=l("%Y");function v(e){return(c(e)<e?h:s(e)<e?f:i(e)<e?m:o(e)<e?_:n(e)<e?a(e)<e?g:y:r(e)<e?b:$)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?p(Array.from(e,number)):p().map(date)},u.ticks=function(t){var r=p();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?v:l(t)},u.nice=function(e){var r=p();return e&&"function"==typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?p(nice(r,e)):u},u.copy=function(){return copy$1(u,calendar(e,t,r,n,a,o,i,s,c,l))},u}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function add_css$f(e){append_styles(e,"svelte-1fsf15n",".filter-ui.svelte-1fsf15n.svelte-1fsf15n{height:45px;margin-left:3px;position:relative}.filter-ui.svelte-1fsf15n .tick.svelte-1fsf15n{position:absolute;color:inherit;text-decoration:none}.filter-ui.svelte-1fsf15n .tick .point.svelte-1fsf15n{display:inline-block;cursor:pointer;position:absolute;z-index:100;height:20px;width:20px;border-radius:10px;top:20px}.filter-ui.svelte-1fsf15n .line.svelte-1fsf15n{height:1px;position:absolute;left:0px;top:30px;z-index:1}")}function get_each_context$6(e,t,r){const n=e.slice();return n[13]=t[r],n}function create_each_block$6(e){let t,r,n,a,o,i,s,c,l=e[13].value+"";function u(){return e[10](e[13])}return{c(){t=element("a"),r=element("div"),n=space(),a=element("div"),o=text(l),this.h()},l(e){t=claim_element(e,"A",{href:!0,class:!0,tabindex:!0});var i=children(t);r=claim_element(i,"DIV",{class:!0}),children(r).forEach(detach),n=claim_space(i),a=claim_element(i,"DIV",{class:!0});var s=children(a);o=claim_text(s,l),s.forEach(detach),i.forEach(detach),this.h()},h(){attr(r,"class","point svelte-1fsf15n"),toggle_class(r,"active",e[5]===e[13].index),attr(a,"class","point-label"),attr(t,"href",i="#/"+e[13].index),attr(t,"class","tick link-style-ignore svelte-1fsf15n"),attr(t,"tabindex","0"),toggle_class(t,"active",e[0]===e[13].index),set_style(t,"left","".concat(e[3](e[13].date),"px"))},m(e,i){insert_hydration(e,t,i),append_hydration(t,r),append_hydration(t,n),append_hydration(t,a),append_hydration(a,o),s||(c=listen(t,"click",prevent_default(u)),s=!0)},p(n,a){e=n,34&a&&toggle_class(r,"active",e[5]===e[13].index),2&a&&l!==(l=e[13].value+"")&&set_data(o,l),2&a&&i!==(i="#/"+e[13].index)&&attr(t,"href",i),3&a&&toggle_class(t,"active",e[0]===e[13].index),10&a&&set_style(t,"left","".concat(e[3](e[13].date),"px"))},d(e){e&&detach(t),s=!1,c()}}}function create_fragment$S(e){let t,r,n,a,o=ensure_array_like(e[1]),i=[];for(let t=0;t<o.length;t+=1)i[t]=create_each_block$6(get_each_context$6(e,o,t));return{c(){t=element("nav");for(let e=0;e<i.length;e+=1)i[e].c();r=space(),n=element("div"),this.h()},l(e){t=claim_element(e,"NAV",{class:!0});var a=children(t);for(let e=0;e<i.length;e+=1)i[e].l(a);r=claim_space(a),n=claim_element(a,"DIV",{class:!0,style:!0}),children(n).forEach(detach),a.forEach(detach),this.h()},h(){attr(n,"class","line svelte-1fsf15n"),set_style(n,"width",e[4]+"px"),attr(t,"class","filter-ui filter-timescale svelte-1fsf15n"),add_render_callback((()=>e[11].call(t)))},m(o,s){insert_hydration(o,t,s);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null);append_hydration(t,r),append_hydration(t,n),a=add_iframe_resize_listener(t,e[11].bind(t))},p(e,a){let[s]=a;if(107&s){let n;for(o=ensure_array_like(e[1]),n=0;n<o.length;n+=1){const a=get_each_context$6(e,o,n);i[n]?i[n].p(a,s):(i[n]=create_each_block$6(a),i[n].c(),i[n].m(t,r))}for(;n<i.length;n+=1)i[n].d(1);i.length=o.length}16&s&&set_style(n,"width",e[4]+"px")},i:noop,o:noop,d(e){e&&detach(t),destroy_each(i,e),a()}}}function instance$S(e,t,r){let n,a,o,i,s=noop,c=()=>(s(),s=subscribe(p,(e=>r(5,i=e))),p);e.$$.on_destroy.push((()=>s()));const l=createEventDispatcher();let{column:u}=t,{textDirection:d}=t,{active:p}=t;c();let h,f=[];function m(e){set_store_value(p,i=e.index,i),l("change",e)}onMount((()=>{r(1,f=u.values().map(((e,t)=>({index:t,date:e,value:u.raw()[t]}))).sort(((e,t)=>{e.date.getTime(),t.date.getTime()})))}));return e.$$set=e=>{"column"in e&&r(7,u=e.column),"textDirection"in e&&r(8,d=e.textDirection),"active"in e&&c(r(0,p=e.active))},e.$$.update=()=>{4&e.$$.dirty&&r(9,n=h-35),770&e.$$.dirty&&r(3,a=time(f.length>0?[f[0].date,f[f.length-1].date]:[],"rtl"===d?[n,0]:[0,n])),10&e.$$.dirty&&r(4,o=f.length>0?a(f[f.length-1].date):0)},[p,f,h,a,o,i,m,u,d,n,e=>m(e),function(){h=this.clientWidth,r(2,h)}]}defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});class FilterTimescale extends SvelteComponent{constructor(e){super(),init(this,e,instance$S,create_fragment$S,safe_not_equal,{column:7,textDirection:8,active:0},add_css$f)}}function add_css$e(e){append_styles(e,"svelte-1h3arn0",".filter-ui{margin-bottom:10px}div.svelte-1h3arn0{overflow:hidden}")}function create_else_block$9(e){let t,r;return t=new FilterSelect({props:{active:e[3],column:e[0],textDirection:e[1],purifyHtml:clean$1}}),t.$on("change",e[4]),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};1&r&&(n.column=e[0]),2&r&&(n.textDirection=e[1]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block_1$d(e){let t,r;return t=new FilterTimescale({props:{active:e[3],column:e[0],textDirection:e[1]}}),t.$on("change",e[4]),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};1&r&&(n.column=e[0]),2&r&&(n.textDirection=e[1]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block$q(e){let t,r;return t=new FilterButtons({props:{active:e[3],column:e[0],textDirection:e[1],purifyHtml:clean$1}}),t.$on("change",e[4]),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};1&r&&(n.column=e[0]),2&r&&(n.textDirection=e[1]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_fragment$R(e){let t,r,n,a;const o=[create_if_block$q,create_if_block_1$d,create_else_block$9],i=[];function s(e,t){return e[2]===TYPE_BUTTONS$1?0:e[2]===TYPE_TIMESCALE$1?1:2}return r=s(e),n=i[r]=o[r](e),{c(){t=element("div"),n.c(),this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var r=children(t);n.l(r),r.forEach(detach),this.h()},h(){attr(t,"class","svelte-1h3arn0")},m(e,n){insert_hydration(e,t,n),i[r].m(t,null),a=!0},p(e,a){let[c]=a,l=r;r=s(e),r===l?i[r].p(e,c):(group_outros(),transition_out(i[l],1,1,(()=>{i[l]=null})),check_outros(),n=i[r],n?n.p(e,c):(n=i[r]=o[r](e),n.c()),transition_in(n,1),n.m(t,null))},i(e){a||(transition_in(n),a=!0)},o(e){transition_out(n),a=!1},d(e){e&&detach(t),i[r].d()}}}const TYPE_AUTO$1="auto",TYPE_SELECT$1="select",TYPE_BUTTONS$1="buttons",TYPE_TIMESCALE$1="timescale";function instance$R(e,t,r){let n,a;const o=writable(0);component_subscribe(e,o,(e=>r(7,a=e)));let{vis:i}=t,{type:s}=t,{column:c}=t,{textDirection:l}=t;const u=i.chart().createPostEvent();return e.$$set=e=>{"vis"in e&&r(5,i=e.vis),"type"in e&&r(6,s=e.type),"column"in e&&r(0,c=e.column),"textDirection"in e&&r(1,l=e.textDirection)},e.$$.update=()=>{65&e.$$.dirty&&r(2,n=s===TYPE_AUTO$1?"date"===c.type()?TYPE_TIMESCALE$1:c.length<6?TYPE_BUTTONS$1:TYPE_SELECT$1:s)},[c,l,n,o,function(e){r(5,i.__lastRow=a,i),i.update(),u("column:change",e.detail),i.fire("column:change",e.detail)},i,s]}let FilterUI$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$R,create_fragment$R,safe_not_equal,{vis:5,type:6,column:0,textDirection:1},add_css$e)}};function sheetForTag(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function createStyleElement(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var StyleSheet=function(){function e(e){var t=this;this._insertTag=function(e){var r;r=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,r),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(createStyleElement(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var r=sheetForTag(t);try{r.insertRule(e,r.cssRules.length)}catch(e){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs$2=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$1(e,t){return 45^charat(e,0)?(((t<<2^charat(e,0))<<2^charat(e,1))<<2^charat(e,2))<<2^charat(e,3):0}function trim(e){return e.trim()}function match(e,t){return(e=t.exec(e))?e[0]:e}function replace(e,t,r){return e.replace(t,r)}function indexof(e,t){return e.indexOf(t)}function charat(e,t){return 0|e.charCodeAt(t)}function substr(e,t,r){return e.slice(t,r)}function strlen(e){return e.length}function sizeof(e){return e.length}function append(e,t){return t.push(e),e}function combine(e,t){return e.map(t).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(e,t,r,n,a,o,i){return{value:e,root:t,parent:r,type:n,props:a,children:o,line:line,column:column,length:i,return:""}}function copy(e,t){return assign(node("",null,null,"",null,null,0),e,{length:-e.length},t)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,10===character&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,10===character&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(e,t){return substr(characters,e,t)}function token(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(e){return line=column=1,length=strlen(characters=e),position=0,[]}function dealloc(e){return characters="",e}function delimit(e){return trim(slice(position-1,delimiter(91===e?e+2:40===e?e+1:e)))}function whitespace(e){for(;(character=peek())&&character<33;)next();return token(e)>2||token(character)>3?"":" "}function escaping(e,t){for(;--t&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(e,caret()+(t<6&&32==peek()&&32==next()))}function delimiter(e){for(;next();)switch(character){case e:return position;case 34:case 39:34!==e&&39!==e&&delimiter(character);break;case 40:41===e&&delimiter(e);break;case 92:next()}return position}function commenter(e,t){for(;next()&&e+character!==57&&(e+character!==84||47!==peek()););return"/*"+slice(t,position-1)+"*"+from(47===e?e:next())}function identifier(e){for(;!token(peek());)next();return slice(e,position)}function compile(e){return dealloc(parse("",null,null,null,[""],e=alloc(e),0,[0],e))}function parse(e,t,r,n,a,o,i,s,c){for(var l=0,u=0,d=i,p=0,h=0,f=0,m=1,_=1,g=1,y=0,b="",$=a,v=o,k=n,x=b;_;)switch(f=y,y=next()){case 40:if(108!=f&&58==charat(x,d-1)){-1!=indexof(x+=replace(delimit(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:x+=delimit(y);break;case 9:case 10:case 13:case 32:x+=whitespace(f);break;case 92:x+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),t,r),c);break;default:x+="/"}break;case 123*m:s[l++]=strlen(x)*g;case 125*m:case 59:case 0:switch(y){case 0:case 125:_=0;case 59+u:-1==g&&(x=replace(x,/\f/g,"")),h>0&&strlen(x)-d&&append(h>32?declaration(x+";",n,r,d-1):declaration(replace(x," ","")+";",n,r,d-2),c);break;case 59:x+=";";default:if(append(k=ruleset(x,t,r,l,u,a,s,b,$=[],v=[],d),o),123===y)if(0===u)parse(x,t,k,k,$,o,d,s,v);else switch(99===p&&110===charat(x,3)?100:p){case 100:case 108:case 109:case 115:parse(e,k,k,n&&append(ruleset(e,k,k,0,0,a,s,b,a,$=[],d),v),a,v,d,s,n?$:v);break;default:parse(x,k,k,k,[""],v,0,s,v)}}l=u=h=0,m=g=1,b=x="",d=i;break;case 58:d=1+strlen(x),h=f;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==prev())continue;switch(x+=from(y),y*m){case 38:g=u>0?1:(x+="\f",-1);break;case 44:s[l++]=(strlen(x)-1)*g,g=1;break;case 64:45===peek()&&(x+=delimit(next())),p=peek(),u=d=strlen(b=x+=identifier(caret())),y++;break;case 45:45===f&&2==strlen(x)&&(m=0)}}return o}function ruleset(e,t,r,n,a,o,i,s,c,l,u){for(var d=a-1,p=0===a?o:[""],h=sizeof(p),f=0,m=0,_=0;f<n;++f)for(var g=0,y=substr(e,d+1,d=abs$2(m=i[f])),b=e;g<h;++g)(b=trim(m>0?p[g]+" "+y:replace(y,/&\f/g,p[g])))&&(c[_++]=b);return node(e,t,r,0===a?RULESET:s,c,l,u)}function comment(e,t,r){return node(e,t,r,COMMENT,from(char()),substr(e,2,-2),0)}function declaration(e,t,r,n){return node(e,t,r,DECLARATION,substr(e,0,n),substr(e,n+1,-1),n)}function serialize(e,t){for(var r="",n=sizeof(e),a=0;a<n;a++)r+=t(e[a],a,e,t)||"";return r}function stringify(e,t,r,n){switch(e.type){case LAYER:if(e.children.length)break;case IMPORT:case DECLARATION:return e.return=e.return||e.value;case COMMENT:return"";case KEYFRAMES:return e.return=e.value+"{"+serialize(e.children,n)+"}";case RULESET:e.value=e.props.join(",")}return strlen(r=serialize(e.children,n))?e.return=e.value+"{"+r+"}":""}function middleware(e){var t=sizeof(e);return function(r,n,a,o){for(var i="",s=0;s<t;s++)i+=e[s](r,n,a,o)||"";return i}}function rulesheet(e){return function(t){t.root||(t=t.return)&&e(t)}}function memoize(e){var t=Object.create(null);return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}var identifierWithPointTracking=function(e,t,r){for(var n=0,a=0;n=a,a=peek(),38===n&&12===a&&(t[r]=1),!token(a);)next();return slice(e,position)},toRules=function(e,t){var r=-1,n=44;do{switch(token(n)){case 0:38===n&&12===peek()&&(t[r]=1),e[r]+=identifierWithPointTracking(position-1,t,r);break;case 2:e[r]+=delimit(n);break;case 4:if(44===n){e[++r]=58===peek()?"&\f":"",t[r]=e[r].length;break}default:e[r]+=from(n)}}while(n=next());return e},getRules=function(e,t){return dealloc(toRules(alloc(e),t))},fixedElements=new WeakMap,compat=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;"rule"!==r.type;)if(!(r=r.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||fixedElements.get(r))&&!n){fixedElements.set(e,!0);for(var a=[],o=getRules(t,a),i=r.props,s=0,c=0;s<o.length;s++)for(var l=0;l<i.length;l++,c++)e.props[c]=a[s]?o[s].replace(/&\f/g,i[l]):i[l]+" "+o[s]}}},removeLabel=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function prefix(e,t){switch(hash$1(e,t)){case 5103:return WEBKIT+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+e+MOZ+e+MS+e+e;case 6828:case 4268:return WEBKIT+e+MS+e+e;case 6165:return WEBKIT+e+MS+"flex-"+e+e;case 5187:return WEBKIT+e+replace(e,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+e;case 5443:return WEBKIT+e+MS+"flex-item-"+replace(e,/flex-|-self/,"")+e;case 4675:return WEBKIT+e+MS+"flex-line-pack"+replace(e,/align-content|flex-|-self/,"")+e;case 5548:return WEBKIT+e+MS+replace(e,"shrink","negative")+e;case 5292:return WEBKIT+e+MS+replace(e,"basis","preferred-size")+e;case 6060:return WEBKIT+"box-"+replace(e,"-grow","")+WEBKIT+e+MS+replace(e,"grow","positive")+e;case 4554:return WEBKIT+replace(e,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+e;case 6187:return replace(replace(replace(e,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),e,"")+e;case 5495:case 3959:return replace(e,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(e,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+e+e;case 4095:case 3583:case 4068:case 2532:return replace(e,/(.+)-inline(.+)/,WEBKIT+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(e)-1-t>6)switch(charat(e,t+1)){case 109:if(45!==charat(e,t+4))break;case 102:return replace(e,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(108==charat(e,t+3)?"$3":"$2-$3"))+e;case 115:return~indexof(e,"stretch")?prefix(replace(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==charat(e,t+1))break;case 6444:switch(charat(e,strlen(e)-3-(~indexof(e,"!important")&&10))){case 107:return replace(e,":",":"+WEBKIT)+e;case 101:return replace(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(45===charat(e,14)?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+e}break;case 5936:switch(charat(e,t+11)){case 114:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return WEBKIT+e+MS+replace(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return WEBKIT+e+MS+e+e}return e}var prefixer=function(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case DECLARATION:e.return=prefix(e.value,e.length);break;case KEYFRAMES:return serialize([copy(e,{value:replace(e.value,"@","@"+WEBKIT)})],n);case RULESET:if(e.length)return combine(e.props,(function(t){switch(match(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(e,{props:[replace(t,/:(read-\w+)/,":"+MOZ+"$1")]})],n);case"::placeholder":return serialize([copy(e,{props:[replace(t,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(e,{props:[replace(t,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(e,{props:[replace(t,/:(plac\w+)/,MS+"input-$1")]})],n)}return""}))}},defaultStylisPlugins=[prefixer],createCache=function(e){var t=e.key;if("css"===t){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var n,a,o=e.stylisPlugins||defaultStylisPlugins,i={},s=[];n=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),r=1;r<t.length;r++)i[t[r]]=!0;s.push(e)}));var c,l=[compat,removeLabel],u=[stringify,rulesheet((function(e){c.insert(e)}))],d=middleware(l.concat(o,u));a=function(e,t,r,n){c=r,serialize(compile(e?e+"{"+t.styles+"}":t.styles),d),n&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new StyleSheet({key:t,container:n,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:a};return p.sheet.hydrate(s),p};function murmur2(e){for(var t,r=0,n=0,a=e.length;a>=4;++n,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+(59797*(t>>>16)<<16),r=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&r)+(59797*(r>>>16)<<16);switch(a){case 3:r^=(255&e.charCodeAt(n+2))<<16;case 2:r^=(255&e.charCodeAt(n+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(n)))+(59797*(r>>>16)<<16)}return(((r=1540483477*(65535&(r^=r>>>13))+(59797*(r>>>16)<<16))^r>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(e){return 45===e.charCodeAt(1)},isProcessableValue=function(e){return null!=e&&"boolean"!=typeof e},processStyleName=memoize((function(e){return isCustomProperty(e)?e:e.replace(hyphenateRegex,"-$&").toLowerCase()})),processStyleValue=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(animationRegex,(function(e,t,r){return cursor={name:t,styles:r,next:cursor},t}))}return 1===unitlessKeys[e]||isCustomProperty(e)||"number"!=typeof t||0===t?t:t+"px"};function handleInterpolation(e,t,r){if(null==r)return"";var n=r;if(void 0!==n.__emotion_styles)return n;switch(typeof r){case"boolean":return"";case"object":var a=r;if(1===a.anim)return cursor={name:a.name,styles:a.styles,next:cursor},a.name;var o=r;if(void 0!==o.styles){var i=o.next;if(void 0!==i)for(;void 0!==i;)cursor={name:i.name,styles:i.styles,next:cursor},i=i.next;return o.styles+";"}return createStringFromObject(e,t,r)}var s=r;if(null==t)return s;var c=t[s];return void 0!==c?c:s}function createStringFromObject(e,t,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=handleInterpolation(e,t,r[a])+";";else for(var o in r){var i=r[o];if("object"!=typeof i){var s=i;null!=t&&void 0!==t[s]?n+=o+"{"+t[s]+"}":isProcessableValue(s)&&(n+=processStyleName(o)+":"+processStyleValue(o,s)+";")}else if(!Array.isArray(i)||"string"!=typeof i[0]||null!=t&&void 0!==t[i[0]]){var c=handleInterpolation(e,t,i);switch(o){case"animation":case"animationName":n+=processStyleName(o)+":"+c+";";break;default:n+=o+"{"+c+"}"}}else for(var l=0;l<i.length;l++)isProcessableValue(i[l])&&(n+=processStyleName(o)+":"+processStyleValue(o,i[l])+";")}return n}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(e,t,r){if(1===e.length&&"object"==typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var n=!0,a="";cursor=void 0;var o=e[0];null==o||void 0===o.raw?(n=!1,a+=handleInterpolation(r,t,o)):a+=o[0];for(var i=1;i<e.length;i++){if(a+=handleInterpolation(r,t,e[i]),n)a+=o[i]}labelPattern.lastIndex=0;for(var s,c="";null!==(s=labelPattern.exec(a));)c+="-"+s[1];return{name:murmur2(a)+c,styles:a,next:cursor}}function getRegisteredStyles(e,t,r){var n="";return r.split(" ").forEach((function(r){void 0!==e[r]?t.push(e[r]+";"):r&&(n+=r+" ")})),n}var registerStyles=function(e,t,r){var n=e.key+"-"+t.name;void 0===e.registered[n]&&(e.registered[n]=t.styles)},insertStyles=function(e,t,r){registerStyles(e,t);var n=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+n:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}};function insertWithoutScoping(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function merge(e,t,r){var n=[],a=getRegisteredStyles(e,n,r);return n.length<2?r:a+t(n)}var createEmotion=function(e){var t=createCache(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var r=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=serializeStyles(r,t.registered,void 0);return insertStyles(t,a),t.key+"-"+a.name};return{css:r,cx:function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return merge(t.registered,r,classnames(n))},injectGlobal:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=serializeStyles(r,t.registered);insertWithoutScoping(t,a)},keyframes:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=serializeStyles(r,t.registered),o="animation-"+a.name;return insertWithoutScoping(t,{name:a.name,styles:"@keyframes "+o+"{"+a.styles+"}"}),o},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:getRegisteredStyles.bind(null,t.registered),merge:merge.bind(null,t.registered,r)}},classnames=function e(t){for(var r="",n=0;n<t.length;n++){var a=t[n];if(null!=a){var o=void 0;switch(typeof a){case"boolean":break;case"object":if(Array.isArray(a))o=e(a);else for(var i in o="",a)a[i]&&i&&(o&&(o+=" "),o+=i);break;default:o=a}o&&(r&&(r+=" "),r+=o)}}return r},_createEmotion=createEmotion({key:"css"});_createEmotion.flush,_createEmotion.hydrate,_createEmotion.cx,_createEmotion.merge,_createEmotion.getRegisteredStyles,_createEmotion.injectGlobal,_createEmotion.keyframes,_createEmotion.css,_createEmotion.sheet;var cache=_createEmotion.cache,_arrayEach,hasRequired_arrayEach,_copyObject,hasRequired_copyObject,_baseAssign,hasRequired_baseAssign,_nativeKeysIn,hasRequired_nativeKeysIn,_baseKeysIn,hasRequired_baseKeysIn,keysIn_1,hasRequiredKeysIn,_baseAssignIn,hasRequired_baseAssignIn;function require_arrayEach(){if(hasRequired_arrayEach)return _arrayEach;return hasRequired_arrayEach=1,_arrayEach=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},_arrayEach}function require_copyObject(){if(hasRequired_copyObject)return _copyObject;hasRequired_copyObject=1;var e=require_assignValue(),t=require_baseAssignValue();return _copyObject=function(r,n,a,o){var i=!a;a||(a={});for(var s=-1,c=n.length;++s<c;){var l=n[s],u=o?o(a[l],r[l],l,a,r):void 0;void 0===u&&(u=r[l]),i?t(a,l,u):e(a,l,u)}return a},_copyObject}function require_baseAssign(){if(hasRequired_baseAssign)return _baseAssign;hasRequired_baseAssign=1;var e=require_copyObject(),t=requireKeys();return _baseAssign=function(r,n){return r&&e(n,t(n),r)},_baseAssign}function require_nativeKeysIn(){if(hasRequired_nativeKeysIn)return _nativeKeysIn;return hasRequired_nativeKeysIn=1,_nativeKeysIn=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},_nativeKeysIn}function require_baseKeysIn(){if(hasRequired_baseKeysIn)return _baseKeysIn;hasRequired_baseKeysIn=1;var e=requireIsObject(),t=require_isPrototype(),r=require_nativeKeysIn(),n=Object.prototype.hasOwnProperty;return _baseKeysIn=function(a){if(!e(a))return r(a);var o=t(a),i=[];for(var s in a)("constructor"!=s||!o&&n.call(a,s))&&i.push(s);return i},_baseKeysIn}function requireKeysIn(){if(hasRequiredKeysIn)return keysIn_1;hasRequiredKeysIn=1;var e=require_arrayLikeKeys(),t=require_baseKeysIn(),r=requireIsArrayLike();return keysIn_1=function(n){return r(n)?e(n,!0):t(n)},keysIn_1}function require_baseAssignIn(){if(hasRequired_baseAssignIn)return _baseAssignIn;hasRequired_baseAssignIn=1;var e=require_copyObject(),t=requireKeysIn();return _baseAssignIn=function(r,n){return r&&e(n,t(n),r)},_baseAssignIn}var _cloneBuffer={exports:{}},hasRequired_cloneBuffer,_copyArray,hasRequired_copyArray,_copySymbols,hasRequired_copySymbols,_getPrototype,hasRequired_getPrototype,_getSymbolsIn,hasRequired_getSymbolsIn,_copySymbolsIn,hasRequired_copySymbolsIn,_getAllKeysIn,hasRequired_getAllKeysIn,_initCloneArray,hasRequired_initCloneArray,_cloneArrayBuffer,hasRequired_cloneArrayBuffer,_cloneDataView,hasRequired_cloneDataView,_cloneRegExp,hasRequired_cloneRegExp,_cloneSymbol,hasRequired_cloneSymbol,_cloneTypedArray,hasRequired_cloneTypedArray,_initCloneByTag,hasRequired_initCloneByTag,_baseCreate,hasRequired_baseCreate,_initCloneObject,hasRequired_initCloneObject,_baseIsMap,hasRequired_baseIsMap,isMap_1,hasRequiredIsMap,_baseIsSet,hasRequired_baseIsSet,isSet_1,hasRequiredIsSet,_baseClone,hasRequired_baseClone,last_1,hasRequiredLast,_baseSlice,hasRequired_baseSlice,_parent,hasRequired_parent,_baseUnset,hasRequired_baseUnset,isPlainObject_1,hasRequiredIsPlainObject,_customOmitClone,hasRequired_customOmitClone,_isFlattenable,hasRequired_isFlattenable,_baseFlatten,hasRequired_baseFlatten,flatten_1,hasRequiredFlatten,_apply,hasRequired_apply,_overRest,hasRequired_overRest,constant_1,hasRequiredConstant,_baseSetToString,hasRequired_baseSetToString,_shortOut,hasRequired_shortOut,_setToString,hasRequired_setToString,_flatRest,hasRequired_flatRest,omit_1,hasRequiredOmit;function require_cloneBuffer(){return hasRequired_cloneBuffer||(hasRequired_cloneBuffer=1,e=_cloneBuffer,t=_cloneBuffer.exports,r=require_root(),n=t&&!t.nodeType&&t,a=n&&e&&!e.nodeType&&e,o=a&&a.exports===n?r.Buffer:void 0,i=o?o.allocUnsafe:void 0,e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=i?i(r):new e.constructor(r);return e.copy(n),n}),_cloneBuffer.exports;var e,t,r,n,a,o,i}function require_copyArray(){if(hasRequired_copyArray)return _copyArray;return hasRequired_copyArray=1,_copyArray=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},_copyArray}function require_copySymbols(){if(hasRequired_copySymbols)return _copySymbols;hasRequired_copySymbols=1;var e=require_copyObject(),t=require_getSymbols();return _copySymbols=function(r,n){return e(r,t(r),n)},_copySymbols}function require_getPrototype(){if(hasRequired_getPrototype)return _getPrototype;hasRequired_getPrototype=1;var e=require_overArg()(Object.getPrototypeOf,Object);return _getPrototype=e}function require_getSymbolsIn(){if(hasRequired_getSymbolsIn)return _getSymbolsIn;hasRequired_getSymbolsIn=1;var e=require_arrayPush(),t=require_getPrototype(),r=require_getSymbols(),n=requireStubArray(),a=Object.getOwnPropertySymbols?function(n){for(var a=[];n;)e(a,r(n)),n=t(n);return a}:n;return _getSymbolsIn=a}function require_copySymbolsIn(){if(hasRequired_copySymbolsIn)return _copySymbolsIn;hasRequired_copySymbolsIn=1;var e=require_copyObject(),t=require_getSymbolsIn();return _copySymbolsIn=function(r,n){return e(r,t(r),n)},_copySymbolsIn}function require_getAllKeysIn(){if(hasRequired_getAllKeysIn)return _getAllKeysIn;hasRequired_getAllKeysIn=1;var e=require_baseGetAllKeys(),t=require_getSymbolsIn(),r=requireKeysIn();return _getAllKeysIn=function(n){return e(n,r,t)},_getAllKeysIn}function require_initCloneArray(){if(hasRequired_initCloneArray)return _initCloneArray;hasRequired_initCloneArray=1;var e=Object.prototype.hasOwnProperty;return _initCloneArray=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&e.call(t,"index")&&(n.index=t.index,n.input=t.input),n},_initCloneArray}function require_cloneArrayBuffer(){if(hasRequired_cloneArrayBuffer)return _cloneArrayBuffer;hasRequired_cloneArrayBuffer=1;var e=require_Uint8Array();return _cloneArrayBuffer=function(t){var r=new t.constructor(t.byteLength);return new e(r).set(new e(t)),r}}function require_cloneDataView(){if(hasRequired_cloneDataView)return _cloneDataView;hasRequired_cloneDataView=1;var e=require_cloneArrayBuffer();return _cloneDataView=function(t,r){var n=r?e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}}function require_cloneRegExp(){if(hasRequired_cloneRegExp)return _cloneRegExp;hasRequired_cloneRegExp=1;var e=/\w*$/;return _cloneRegExp=function(t){var r=new t.constructor(t.source,e.exec(t));return r.lastIndex=t.lastIndex,r}}function require_cloneSymbol(){if(hasRequired_cloneSymbol)return _cloneSymbol;hasRequired_cloneSymbol=1;var e=require_Symbol(),t=e?e.prototype:void 0,r=t?t.valueOf:void 0;return _cloneSymbol=function(e){return r?Object(r.call(e)):{}}}function require_cloneTypedArray(){if(hasRequired_cloneTypedArray)return _cloneTypedArray;hasRequired_cloneTypedArray=1;var e=require_cloneArrayBuffer();return _cloneTypedArray=function(t,r){var n=r?e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}}function require_initCloneByTag(){if(hasRequired_initCloneByTag)return _initCloneByTag;hasRequired_initCloneByTag=1;var e=require_cloneArrayBuffer(),t=require_cloneDataView(),r=require_cloneRegExp(),n=require_cloneSymbol(),a=require_cloneTypedArray();return _initCloneByTag=function(o,i,s){var c=o.constructor;switch(i){case"[object ArrayBuffer]":return e(o);case"[object Boolean]":case"[object Date]":return new c(+o);case"[object DataView]":return t(o,s);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(o,s);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(o);case"[object RegExp]":return r(o);case"[object Symbol]":return n(o)}},_initCloneByTag}function require_baseCreate(){if(hasRequired_baseCreate)return _baseCreate;hasRequired_baseCreate=1;var e=requireIsObject(),t=Object.create,r=function(){function r(){}return function(n){if(!e(n))return{};if(t)return t(n);r.prototype=n;var a=new r;return r.prototype=void 0,a}}();return _baseCreate=r}function require_initCloneObject(){if(hasRequired_initCloneObject)return _initCloneObject;hasRequired_initCloneObject=1;var e=require_baseCreate(),t=require_getPrototype(),r=require_isPrototype();return _initCloneObject=function(n){return"function"!=typeof n.constructor||r(n)?{}:e(t(n))},_initCloneObject}function require_baseIsMap(){if(hasRequired_baseIsMap)return _baseIsMap;hasRequired_baseIsMap=1;var e=require_getTag(),t=requireIsObjectLike();return _baseIsMap=function(r){return t(r)&&"[object Map]"==e(r)}}function requireIsMap(){if(hasRequiredIsMap)return isMap_1;hasRequiredIsMap=1;var e=require_baseIsMap(),t=require_baseUnary(),r=require_nodeUtil(),n=r&&r.isMap,a=n?t(n):e;return isMap_1=a}function require_baseIsSet(){if(hasRequired_baseIsSet)return _baseIsSet;hasRequired_baseIsSet=1;var e=require_getTag(),t=requireIsObjectLike();return _baseIsSet=function(r){return t(r)&&"[object Set]"==e(r)}}function requireIsSet(){if(hasRequiredIsSet)return isSet_1;hasRequiredIsSet=1;var e=require_baseIsSet(),t=require_baseUnary(),r=require_nodeUtil(),n=r&&r.isSet,a=n?t(n):e;return isSet_1=a}function require_baseClone(){if(hasRequired_baseClone)return _baseClone;hasRequired_baseClone=1;var e=require_Stack(),t=require_arrayEach(),r=require_assignValue(),n=require_baseAssign(),a=require_baseAssignIn(),o=require_cloneBuffer(),i=require_copyArray(),s=require_copySymbols(),c=require_copySymbolsIn(),l=require_getAllKeys(),u=require_getAllKeysIn(),d=require_getTag(),p=require_initCloneArray(),h=require_initCloneByTag(),f=require_initCloneObject(),m=requireIsArray(),_=requireIsBuffer(),g=requireIsMap(),y=requireIsObject(),b=requireIsSet(),$=requireKeys(),v=requireKeysIn(),k="[object Arguments]",x="[object Function]",w="[object Object]",q={};return q[k]=q["[object Array]"]=q["[object ArrayBuffer]"]=q["[object DataView]"]=q["[object Boolean]"]=q["[object Date]"]=q["[object Float32Array]"]=q["[object Float64Array]"]=q["[object Int8Array]"]=q["[object Int16Array]"]=q["[object Int32Array]"]=q["[object Map]"]=q["[object Number]"]=q[w]=q["[object RegExp]"]=q["[object Set]"]=q["[object String]"]=q["[object Symbol]"]=q["[object Uint8Array]"]=q["[object Uint8ClampedArray]"]=q["[object Uint16Array]"]=q["[object Uint32Array]"]=!0,q["[object Error]"]=q[x]=q["[object WeakMap]"]=!1,_baseClone=function S(E,R,T,C,A,I){var M,D=1&R,O=2&R,P=4&R;if(T&&(M=A?T(E,C,A,I):T(E)),void 0!==M)return M;if(!y(E))return E;var N=m(E);if(N){if(M=p(E),!D)return i(E,M)}else{var L=d(E),j=L==x||"[object GeneratorFunction]"==L;if(_(E))return o(E,D);if(L==w||L==k||j&&!A){if(M=O||j?{}:f(E),!D)return O?c(E,a(M,E)):s(E,n(M,E))}else{if(!q[L])return A?E:{};M=h(E,L,D)}}I||(I=new e);var F=I.get(E);if(F)return F;I.set(E,M),b(E)?E.forEach((function(e){M.add(S(e,R,T,e,E,I))})):g(E)&&E.forEach((function(e,t){M.set(t,S(e,R,T,t,E,I))}));var H=N?void 0:(P?O?u:l:O?v:$)(E);return t(H||E,(function(e,t){H&&(e=E[t=e]),r(M,t,S(e,R,T,t,E,I))})),M},_baseClone}function requireLast(){if(hasRequiredLast)return last_1;return hasRequiredLast=1,last_1=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},last_1}function require_baseSlice(){if(hasRequired_baseSlice)return _baseSlice;return hasRequired_baseSlice=1,_baseSlice=function(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(a);++n<a;)o[n]=e[n+t];return o},_baseSlice}function require_parent(){if(hasRequired_parent)return _parent;hasRequired_parent=1;var e=require_baseGet(),t=require_baseSlice();return _parent=function(r,n){return n.length<2?r:e(r,t(n,0,-1))},_parent}function require_baseUnset(){if(hasRequired_baseUnset)return _baseUnset;hasRequired_baseUnset=1;var e=require_castPath(),t=requireLast(),r=require_parent(),n=require_toKey();return _baseUnset=function(a,o){return o=e(o,a),null==(a=r(a,o))||delete a[n(t(o))]},_baseUnset}function requireIsPlainObject(){if(hasRequiredIsPlainObject)return isPlainObject_1;hasRequiredIsPlainObject=1;var e=require_baseGetTag(),t=require_getPrototype(),r=requireIsObjectLike(),n=Function.prototype,a=Object.prototype,o=n.toString,i=a.hasOwnProperty,s=o.call(Object);return isPlainObject_1=function(n){if(!r(n)||"[object Object]"!=e(n))return!1;var a=t(n);if(null===a)return!0;var c=i.call(a,"constructor")&&a.constructor;return"function"==typeof c&&c instanceof c&&o.call(c)==s}}function require_customOmitClone(){if(hasRequired_customOmitClone)return _customOmitClone;hasRequired_customOmitClone=1;var e=requireIsPlainObject();return _customOmitClone=function(t){return e(t)?void 0:t}}function require_isFlattenable(){if(hasRequired_isFlattenable)return _isFlattenable;hasRequired_isFlattenable=1;var e=require_Symbol(),t=requireIsArguments(),r=requireIsArray(),n=e?e.isConcatSpreadable:void 0;return _isFlattenable=function(e){return r(e)||t(e)||!!(n&&e&&e[n])}}function require_baseFlatten(){if(hasRequired_baseFlatten)return _baseFlatten;hasRequired_baseFlatten=1;var e=require_arrayPush(),t=require_isFlattenable();return _baseFlatten=function r(n,a,o,i,s){var c=-1,l=n.length;for(o||(o=t),s||(s=[]);++c<l;){var u=n[c];a>0&&o(u)?a>1?r(u,a-1,o,i,s):e(s,u):i||(s[s.length]=u)}return s},_baseFlatten}function requireFlatten(){if(hasRequiredFlatten)return flatten_1;hasRequiredFlatten=1;var e=require_baseFlatten();return flatten_1=function(t){return(null==t?0:t.length)?e(t,1):[]}}function require_apply(){if(hasRequired_apply)return _apply;return hasRequired_apply=1,_apply=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}}function require_overRest(){if(hasRequired_overRest)return _overRest;hasRequired_overRest=1;var e=require_apply(),t=Math.max;return _overRest=function(r,n,a){return n=t(void 0===n?r.length-1:n,0),function(){for(var o=arguments,i=-1,s=t(o.length-n,0),c=Array(s);++i<s;)c[i]=o[n+i];i=-1;for(var l=Array(n+1);++i<n;)l[i]=o[i];return l[n]=a(c),e(r,this,l)}},_overRest}function requireConstant(){if(hasRequiredConstant)return constant_1;return hasRequiredConstant=1,constant_1=function(e){return function(){return e}}}function require_baseSetToString(){if(hasRequired_baseSetToString)return _baseSetToString;hasRequired_baseSetToString=1;var e=requireConstant(),t=require_defineProperty(),r=requireIdentity(),n=t?function(r,n){return t(r,"toString",{configurable:!0,enumerable:!1,value:e(n),writable:!0})}:r;return _baseSetToString=n}function require_shortOut(){if(hasRequired_shortOut)return _shortOut;hasRequired_shortOut=1;var e=Date.now;return _shortOut=function(t){var r=0,n=0;return function(){var a=e(),o=16-(a-n);if(n=a,o>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}},_shortOut}function require_setToString(){if(hasRequired_setToString)return _setToString;hasRequired_setToString=1;var e=require_baseSetToString(),t=require_shortOut()(e);return _setToString=t}function require_flatRest(){if(hasRequired_flatRest)return _flatRest;hasRequired_flatRest=1;var e=requireFlatten(),t=require_overRest(),r=require_setToString();return _flatRest=function(n){return r(t(n,void 0,e),n+"")}}function requireOmit(){if(hasRequiredOmit)return omit_1;hasRequiredOmit=1;var e=require_arrayMap(),t=require_baseClone(),r=require_baseUnset(),n=require_castPath(),a=require_copyObject(),o=require_customOmitClone(),i=require_flatRest(),s=require_getAllKeysIn(),c=i((function(i,c){var l={};if(null==i)return l;var u=!1;c=e(c,(function(e){return e=n(e,i),u||(u=e.length>1),e})),a(i,s(i),l),u&&(l=t(l,7,o));for(var d=c.length;d--;)r(l,c[d]);return l}));return omit_1=c}_cloneBuffer.exports;var omitExports=requireOmit(),omit=getDefaultExportFromCjs(omitExports),_templateObject$g,_templateObject2$3,_templateObject3$1,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8;function globalStyles(e,t,r){const{getProp:n,cssTemplate:a}=getThemeStyleHelpers$1(e,t);return a(_templateObject$g||(_templateObject$g=_taggedTemplateLiteral(["",""])),r?"body:not(.transparent) {\n        background: ".concat(n("style.body.background"),";\n    }"):"")}function chartStyles(e,t,r,n){const{css:a,getProp:o,typography:i}=getThemeStyleHelpers$1(e,t),s=o("colors.background");return a(_templateObject2$3||(_templateObject2$3=_taggedTemplateLiteral(["\n        ","\n        border-bottom: ",";\n        border-left: ",";\n        border-right: ",";\n        border-top: ",";\n        margin: ",";\n        padding: ",";\n        ","\n\n        svg {\n            font-size: inherit;\n        }\n\n        ","\n\n        .labels text,\n        .label {\n            font-size: ",";\n        }\n\n        .label tspan {\n            fill: currentColor;\n        }\n\n        .label.value,\n        .label.value span {\n            ","\n            ","\n        }\n        .label.inverted span {\n            text-shadow: 0 0px 2px #000000;\n            color: ",";\n        }\n\n        .label.inside:not(.inverted) span {\n            text-shadow: 0 0px 2px #ffffff;\n            color: ",";\n        }\n\n        .label.outline span {\n            text-shadow:\n                0 1px 0 ",",\n                1px 0 0 ",",\n                0 -1px 0 ",",\n                -1px 0 0 ",",\n                1px 1px 0 ",",\n                1px -1px 0 ",",\n                -1px -1px 0 ",",\n                -1px 1px 0 ",",\n                0 2px 1px ",",\n                2px 0 1px ",",\n                0 -2px 1px ",",\n                -2px 0 1px ",",\n                -1px 2px 0px ",",\n                2px -1px 0px ",",\n                -1px -2px 0px ",",\n                -2px -1px 0px ",",\n                1px 2px 0px ",",\n                2px 1px 0px ",",\n                1px -2px 0px ",",\n                -2px 1px 0px ",";\n        }\n\n        .label sup {\n            text-shadow: none;\n        }\n\n        .label.highlighted {\n            font-weight: bold;\n        }\n\n        .label.highlighted,\n        .label.axis {\n            font-size: ",";\n            z-index: 100;\n        }\n\n        .label.hover {\n            font-weight: bold;\n        }\n\n        .label.smaller span {\n            font-size: 80%;\n        }\n\n        .label.legend-text span,\n        .label.legend-text {\n            ","\n            ","\n        }\n\n        /* filter UI tabs */\n        .filter-ui.filter-links {\n            border-bottom: ",";\n            font-size: ",";\n        }\n        .filter-ui.filter-links a {\n            color: ",";\n        }\n        .filter-ui.filter-links a:hover {\n            color: ",";\n            font-weight: ",";\n        }\n        .filter-ui.filter-links a.active {\n            color: ",";\n            font-weight: ",";\n            border-bottom: ",";\n        }\n        /* filter UI select */\n        .filter-ui.filter-select {\n            background-color: ",";\n            border-radius: ",";\n            border: ",";\n            color: ",";\n            font-size: ",";\n            padding: ",";\n        }\n        /* filter UI timeline */\n        .filter-ui.filter-timescale .point {\n            border: ",";\n            background: ",";\n        }\n        .filter-ui.filter-timescale .point:hover {\n            background: ",";\n        }\n\n        .filter-ui.filter-timescale .point.active {\n            background: ",";\n            border: ",";\n        }\n\n        .filter-ui.filter-timescale .line {\n            background: ",";\n        }\n        .dw-tooltip {\n            /* d3-maps & d3-scatter-plot tooltips */\n            color: ",";\n        }\n\n        text.watermark {\n            opacity: ",";\n            ","\n        }\n    "])),i(omit(get$1(t,"typography.chart",{}),"fontWeight")),o("style.body.border.bottom"),o("style.body.border.left"),o("style.body.border.right"),o("style.body.border.top"),o("style.body.margin",0),o("style.body.padding"),n?"":"background: ".concat(o("style.body.background"),";"),r?"":"\n                a:not(.link-style-ignore) {\n                    ".concat(i(get$1(t,"typography.links"),{underlined:!1}),"\n                    border-bottom: ").concat(o("style.body.links.border.bottom"),";\n                    padding: ").concat(o("style.body.links.padding"),";\n                }\n\n                a:not(.link-style-ignore):hover {\n                    color: ").concat(o("typography.links.hoverColor"),";\n                }\n        "),toPixel$1(o("typography.chart.fontSize")),i(get$1(t,"vis.base.labels.values")),get$1(t,"vis.base.labels.values.tabularNums")?"\n                font-feature-settings: 'tnum';\n                -webkit-font-feature-settings: 'tnum';\n                -moz-font-feature-settings: 'tnum';":"",o("vis.base.labels.inside.inverted","#ffffff"),o("vis.base.labels.inside.normal","#333333"),s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,s,toPixel$1(o("typography.chart.fontSize")),i(get$1(t,"vis.base.labels.legend")),get$1(t,"vis.base.labels.legend.tabularNums")?"\n                font-feature-settings: 'tnum';\n                -webkit-font-feature-settings: 'tnum';\n                -moz-font-feature-settings: 'tnum';":"",o("style.filter.tabs.border.bottom","1px solid #ccc"),toPixel$1(o("style.filter.tabs.fontSize")),o("style.filter.tabs.color","#666"),o("style.filter.tabs.hover.color","#222"),o("style.filter.tabs.hover.fontWeight"),o("style.filter.tabs.active.color","#000"),o("style.filter.tabs.active.fontWeight","bold"),o("style.filter.tabs.active.border.bottom","2px solid #555"),o("colors.background","#ffffff"),o("style.filter.select.borderRadius","4px"),o("style.filter.select.border","1px solid #cccccc"),o("style.filter.select.textColor",o("typography.chart.color")),toPixel$1(o("typography.chart.fontSize")),o("style.filter.select.padding","4px 6px"),o("style.filter.point.buttons.border","1px solid #ccc"),o("style.filter.point.buttons.background",o("colors.background","#fff")),o("style.filter.point.buttons.hover.background","#ebebeb"),o("style.filter.point.buttons.active.background","#ccc"),o("style.filter.point.buttons.active.border","1px solid #888"),o("style.filter.point.line.color","#ccc"),o("vis.base.tooltip.text.color","#333333"),o("options.watermark.opacity"),i(omit(get$1(t,"options.watermark.typography",{}),"fontSize")))}function chartHeaderStyles(e,t){const{css:r,getProp:n}=getThemeStyleHelpers$1(e,t);return r(_templateObject3$1||(_templateObject3$1=_taggedTemplateLiteral(["\n        background: ",";\n        border-bottom: ",";\n        border-left: ",";\n        border-right: ",";\n        border-top: ",";\n        margin: ",";\n        padding: ",";\n        text-align: ",";\n\n        &.has-header-right {\n            gap: ",";\n        }\n    "])),n("style.header.background"),n("style.header.border.bottom"),n("style.header.border.left"),n("style.header.border.right"),n("style.header.border.top"),n("style.header.margin"),n("style.header.padding"),n("style.header.textAlign"),toPixel$1(n("options.header.gap",25)))}function belowHeaderStyles(e,t){const{css:r,getProp:n}=getThemeStyleHelpers$1(e,t);return r(_templateObject4||(_templateObject4=_taggedTemplateLiteral(["\n        background: ",";\n        text-align: ",";\n        margin: ",";\n        padding: ",";\n        margin-top: 0;\n        padding-top: 0;\n        margin-bottom: 0;\n        padding-bottom: 0;\n    "])),n("style.header.background"),n("style.header.textAlign"),n("style.header.margin"),n("style.header.padding"))}function chartBodyStyles(e,t){const{css:r,getProp:n}=getThemeStyleHelpers$1(e,t);return r(_templateObject5||(_templateObject5=_taggedTemplateLiteral(["\n        background: ",";\n        border-bottom: ",";\n        border-left: ",";\n        border-right: ",";\n        border-top: ",";\n        font-weight: ",";\n        margin: ",";\n        padding: ",";\n\n        &.dark-bg .label span {\n            color: ",";\n            fill: ",";\n        }\n\n        ","\n    "])),n("style.chart.background"),n("style.chart.border.bottom"),n("style.chart.border.left"),n("style.chart.border.right"),n("style.chart.border.top"),n("typography.chart.fontWeight"),n("style.chart.margin"),n("style.chart.padding"),n("typography.chart.color","#f1f1f1"),n("typography.chart.color","#f1f1f1"),get$1(t,"style.chart.margin")?"":"\n        &.content-below-chart {\n            margin: 0px 0px 20px 0px;\n        }")}function aboveFooterStyles(e,t){const{css:r,typography:n,getProp:a}=getThemeStyleHelpers$1(e,t);return r(_templateObject6||(_templateObject6=_taggedTemplateLiteral(["\n        ","\n        background: ",";\n        border-bottom: ",";\n        border-left: ",";\n        border-right: ",";\n        border-top: ",";\n        text-align: ",";\n        margin: ",";\n        padding: ",";\n    "])),n(get$1(t,"typography.aboveFooter")),a("style.aboveFooter.background"),a("style.aboveFooter.border.bottom"),a("style.aboveFooter.border.left"),a("style.aboveFooter.border.right"),a("style.aboveFooter.border.top"),a("style.aboveFooter.textAlign"),a("style.aboveFooter.margin","0px 0px 5px 0px"),a("style.aboveFooter.padding"))}function chartFooterStyles(e,t,r){const{css:n,getProp:a,typography:o}=getThemeStyleHelpers$1(e,t);return n(_templateObject7||(_templateObject7=_taggedTemplateLiteral(["\n        ","\n        background: ",";\n        border-bottom: ",";\n        border-left: ",";\n        border-right: ",";\n        border-top: ",";\n        margin: ",";\n        padding: ",";\n        align-items: ",";\n        gap: ",";\n\n        & > div > .footer-block a[href=''] {\n            /* empty links should look like text */\n            color: ",";\n        }\n\n        /** flex footer gaps **/\n        & .footer-left.layout-flex-row,\n        .footer-left.layout-flex-column {\n            gap: ",";\n        }\n        .footer-center.layout-flex-row,\n        .footer-center.layout-flex-column {\n            gap: ",";\n        }\n        .footer-right.layout-flex-row,\n        .footer-right.layout-flex-column {\n            gap: ",";\n        }\n        /** flex-row alignments **/\n        .footer-left.layout-flex-row {\n            align-items: ",";\n        }\n        .footer-center.layout-flex-row {\n            align-items: ",";\n        }\n        .footer-right.layout-flex-row {\n            align-items: ",";\n        }\n\n        .separator:before {\n            content: ",";\n        }\n        .separator {\n            margin: ",";\n        }\n        ","\n    "])),o(get$1(t,"typography.footer")),a("style.footer.background"),a("style.footer.border.bottom"),a("style.footer.border.left"),a("style.footer.border.right"),a("style.footer.border.top"),a("style.footer.margin"),a("style.footer.padding"),a("options.footer.alignItems","center"),toPixel$1(a("options.footer.gap")),a("typography.footer.color"),toPixel$1(a("options.footer.left.gap",5)),toPixel$1(a("options.footer.center.gap",5)),toPixel$1(a("options.footer.right.gap",5)),a("options.footer.left.alignItems"),a("options.footer.center.alignItems"),a("options.footer.right.alignItems"),a("options.footer.separator.text",'""'),a("options.footer.separator.margin"),r?"":"\n            a:not(.link-style-ignore) {\n                padding: ".concat(a("style.footer.links.padding"),";\n                border-bottom: ").concat(a("style.footer.links.border.bottom"),";\n                font-style: ").concat(get$1(t,"typography.footer.cursive")||get$1(t,"typography.links.cursive")?"italic":"normal",";\n            }\n            "))}function belowFooterStyles(e,t){const{css:r,getProp:n,typography:a}=getThemeStyleHelpers$1(e,t);return r(_templateObject8||(_templateObject8=_taggedTemplateLiteral(["\n        ","\n        background: ",";\n        border-bottom: ",";\n        border-left: ",";\n        border-right: ",";\n        border-top: ",";\n        margin: ",";\n        padding: ",";\n        text-align: ",";\n    "])),a(get$1(t,"typography.belowFooter")),n("style.belowFooter.background"),n("style.belowFooter.border.bottom"),n("style.belowFooter.border.left"),n("style.belowFooter.border.right"),n("style.belowFooter.border.top"),n("style.belowFooter.margin"),n("style.belowFooter.padding"),n("style.belowFooter.textAlign"))}const globalStylesCache=createCache({key:"global"});function updateGlobalStyles(e){globalStylesCache.sheet.flush(),globalStylesCache.inserted={},globalStylesCache.registered={};const t=serializeStyles([e],cache.registered);globalStylesCache.inserted[t.name]||globalStylesCache.insert("",t,globalStylesCache.sheet,!0)}function add_css$d(e){append_styles(e,"svelte-13lpkhe",".dw-chart-header{min-height:1px;position:relative;overflow:auto}.dw-chart-header .header-right.svelte-13lpkhe.svelte-13lpkhe{position:absolute;right:10px;z-index:20}.dw-chart-header.has-header-right.svelte-13lpkhe.svelte-13lpkhe{display:flex;justify-content:space-between}.dw-chart-header.has-header-right.has-menu.svelte-13lpkhe>.svelte-13lpkhe:last-child{margin-right:25px}.chart.dir-rtl .dw-chart-header,.chart.dir-rtl .dw-below-header,.chart.dir-rtl .dw-above-footer,.chart.dir-rtl .dw-below-footer,.chart.dir-rtl .dw-chart-footer.svelte-13lpkhe.svelte-13lpkhe{direction:rtl;unicode-bidi:embed}.dw-chart-footer.svelte-13lpkhe.svelte-13lpkhe{display:flex;justify-content:space-between}.dw-above-footer,.dw-below-footer{position:relative}.static.svelte-13lpkhe a{pointer-events:none;color:currentColor;text-decoration:none;font-weight:unset;font-style:unset}.chart.vis-height-fit .dw-chart-styles.svelte-13lpkhe.svelte-13lpkhe{overflow:hidden}.dw-after-body.svelte-13lpkhe.svelte-13lpkhe{position:absolute;left:0;top:0;right:0;height:0 !important}")}function get_each_context$5(e,t,r){const n=e.slice();return n[22]=t[r],n}function get_each_context_1(e,t,r){const n=e.slice();return n[25]=t[r],n}const get_visBody_slot_changes$1=e=>({visBodyStyles:4096&e,contentBelowChart:2&e}),get_visBody_slot_context$1=e=>({visBodyStyles:e[12],contentBelowChart:e[1]});function create_if_block_4(e){let t,r,n,a,o,i,s;const c=[create_if_block_6,create_else_block$8],l=[];function u(e,t){return e[9].headerRight.length?1:0}t=u(e),r=l[t]=c[t](e),a=new BlocksRegion({props:{name:"dw-below-header",blocks:e[9].belowHeader,emotion:e[2],styles:belowHeaderStyles}});let d=!e[15]&&create_if_block_5(e);return{c(){r.c(),n=space(),create_component(a.$$.fragment),o=space(),d&&d.c(),i=empty()},l(e){r.l(e),n=claim_space(e),claim_component(a.$$.fragment,e),o=claim_space(e),d&&d.l(e),i=empty()},m(e,r){l[t].m(e,r),insert_hydration(e,n,r),mount_component(a,e,r),insert_hydration(e,o,r),d&&d.m(e,r),insert_hydration(e,i,r),s=!0},p(e,o){let s=t;t=u(e),t===s?l[t].p(e,o):(group_outros(),transition_out(l[s],1,1,(()=>{l[s]=null})),check_outros(),r=l[t],r?r.p(e,o):(r=l[t]=c[t](e),r.c()),transition_in(r,1),r.m(n.parentNode,n));const p={};512&o&&(p.blocks=e[9].belowHeader),4&o&&(p.emotion=e[2]),a.$set(p),e[15]?d&&(group_outros(),transition_out(d,1,1,(()=>{d=null})),check_outros()):d?(d.p(e,o),32768&o&&transition_in(d,1)):(d=create_if_block_5(e),d.c(),transition_in(d,1),d.m(i.parentNode,i))},i(e){s||(transition_in(r),transition_in(a.$$.fragment,e),transition_in(d),s=!0)},o(e){transition_out(r),transition_out(a.$$.fragment,e),transition_out(d),s=!1},d(e){e&&(detach(n),detach(o),detach(i)),l[t].d(e),destroy_component(a,e),d&&d.d(e)}}}function create_else_block$8(e){let t,r,n,a,o,i;return r=new BlocksRegion({props:{name:"dw-chart-header-left",emotion:e[2],blocks:e[9].header,id:"header"}}),a=new BlocksRegion({props:{name:"dw-chart-header-right",emotion:e[2],blocks:e[9].headerRight}}),{c(){t=element("div"),create_component(r.$$.fragment),n=space(),create_component(a.$$.fragment),this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var o=children(t);claim_component(r.$$.fragment,o),n=claim_space(o),claim_component(a.$$.fragment,o),o.forEach(detach),this.h()},h(){attr(t,"class",o="dw-chart-header has-header-right "+(e[2]?chartHeaderStyles(e[2],e[11]):"")+" svelte-13lpkhe"),toggle_class(t,"has-menu",!e[15]&&e[9].menu.length)},m(e,o){insert_hydration(e,t,o),mount_component(r,t,null),append_hydration(t,n),mount_component(a,t,null),i=!0},p(e,n){const s={};4&n&&(s.emotion=e[2]),512&n&&(s.blocks=e[9].header),r.$set(s);const c={};4&n&&(c.emotion=e[2]),512&n&&(c.blocks=e[9].headerRight),a.$set(c),(!i||2052&n&&o!==(o="dw-chart-header has-header-right "+(e[2]?chartHeaderStyles(e[2],e[11]):"")+" svelte-13lpkhe"))&&attr(t,"class",o),(!i||35332&n)&&toggle_class(t,"has-menu",!e[15]&&e[9].menu.length)},i(e){i||(transition_in(r.$$.fragment,e),transition_in(a.$$.fragment,e),i=!0)},o(e){transition_out(r.$$.fragment,e),transition_out(a.$$.fragment,e),i=!1},d(e){e&&detach(t),destroy_component(r),destroy_component(a)}}}function create_if_block_6(e){let t,r;return t=new BlocksRegion({props:{name:"dw-chart-header",blocks:e[9].header,id:"header",emotion:e[2],styles:chartHeaderStyles}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};512&r&&(n.blocks=e[9].header),4&r&&(n.emotion=e[2]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block_5(e){let t,r;return t=new Menu$1({props:{name:"dw-chart-menu",props:e[14],blocks:e[9].menu,emotion:e[2]}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};16384&r&&(n.props=e[14]),512&r&&(n.blocks=e[9].menu),4&r&&(n.emotion=e[2]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block_3$3(e){let t,r,n,a;const o=[e[3],{vis:e[8]},{textDirection:e[5]}];var i=FilterUI$1;function s(e,t){let r={};for(let e=0;e<o.length;e+=1)r=assign$1(r,o[e]);return void 0!==t&&296&t&&(r=assign$1(r,get_spread_update(o,[8&t&&get_spread_object(e[3]),256&t&&{vis:e[8]},32&t&&{textDirection:e[5]}]))),{props:r}}return i&&(r=construct_svelte_component(i,s(e))),{c(){t=element("div"),r&&create_component(r.$$.fragment),this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var n=children(t);r&&claim_component(r.$$.fragment,n),n.forEach(detach),this.h()},h(){attr(t,"class",n=null_to_empty(e[2]?belowHeaderStyles(e[2],e[11]):"")+" svelte-13lpkhe")},m(e,n){insert_hydration(e,t,n),r&&mount_component(r,t,null),a=!0},p(e,c){if(i!==(i=FilterUI$1)){if(r){group_outros();const e=r;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}i?(r=construct_svelte_component(i,s(e,c)),create_component(r.$$.fragment),transition_in(r.$$.fragment,1),mount_component(r,t,null)):r=null}else if(i){const t=296&c?get_spread_update(o,[8&c&&get_spread_object(e[3]),256&c&&{vis:e[8]},32&c&&{textDirection:e[5]}]):{};r.$set(t)}(!a||2052&c&&n!==(n=null_to_empty(e[2]?belowHeaderStyles(e[2],e[11]):"")+" svelte-13lpkhe"))&&attr(t,"class",n)},i(e){a||(r&&transition_in(r.$$.fragment,e),a=!0)},o(e){r&&transition_out(r.$$.fragment,e),a=!1},d(e){e&&detach(t),r&&destroy_component(r)}}}function create_if_block_2$8(e){let t,r,n=e[6].data.template.afterChart+"";return{c(){t=new HtmlTagHydration(!1),r=empty(),this.h()},l(e){t=claim_html_tag(e,!1),r=empty(),this.h()},h(){t.a=r},m(e,a){t.m(n,e,a),insert_hydration(e,r,a)},p(e,r){64&r&&n!==(n=e[6].data.template.afterChart+"")&&t.p(n)},d(e){e&&(detach(r),t.d())}}}function create_if_block_1$c(e){let t,r,n,a;return r=new FooterInlineBlocksRegion({props:{alignment:"left",blocks:e[9].plainFooter,layout:e[13].Left,emotion:e[2]}}),{c(){t=element("div"),create_component(r.$$.fragment),this.h()},l(e){t=claim_element(e,"DIV",{id:!0,class:!0});var n=children(t);claim_component(r.$$.fragment,n),n.forEach(detach),this.h()},h(){attr(t,"id","footer"),attr(t,"class",n="dw-chart-footer "+(e[2]?chartFooterStyles(e[2],e[11],e[15]):"")+" svelte-13lpkhe")},m(e,n){insert_hydration(e,t,n),mount_component(r,t,null),a=!0},p(e,o){const i={};512&o&&(i.blocks=e[9].plainFooter),8192&o&&(i.layout=e[13].Left),4&o&&(i.emotion=e[2]),r.$set(i),(!a||34820&o&&n!==(n="dw-chart-footer "+(e[2]?chartFooterStyles(e[2],e[11],e[15]):"")+" svelte-13lpkhe"))&&attr(t,"class",n)},i(e){a||(transition_in(r.$$.fragment,e),a=!0)},o(e){transition_out(r.$$.fragment,e),a=!1},d(e){e&&detach(t),destroy_component(r)}}}function create_if_block$p(e){let t,r,n,a,o,i,s;t=new BlocksRegion({props:{name:"dw-above-footer",blocks:e[9].aboveFooter,emotion:e[2],styles:aboveFooterStyles}});let c=ensure_array_like(["Left","Center","Right"]),l=[];for(let t=0;t<3;t+=1)l[t]=create_each_block_1(get_each_context_1(e,c,t));const u=e=>transition_out(l[e],1,1,(()=>{l[e]=null}));return i=new BlocksRegion({props:{name:"dw-below-footer",blocks:e[9].belowFooter,emotion:e[2],styles:belowFooterStyles}}),{c(){create_component(t.$$.fragment),r=space(),n=element("div");for(let e=0;e<3;e+=1)l[e].c();o=space(),create_component(i.$$.fragment),this.h()},l(e){claim_component(t.$$.fragment,e),r=claim_space(e),n=claim_element(e,"DIV",{id:!0,class:!0});var a=children(n);for(let e=0;e<3;e+=1)l[e].l(a);a.forEach(detach),o=claim_space(e),claim_component(i.$$.fragment,e),this.h()},h(){attr(n,"id","footer"),attr(n,"class",a="dw-chart-footer "+(e[2]?chartFooterStyles(e[2],e[11],e[15]):"")+" svelte-13lpkhe")},m(e,a){mount_component(t,e,a),insert_hydration(e,r,a),insert_hydration(e,n,a);for(let e=0;e<3;e+=1)l[e]&&l[e].m(n,null);insert_hydration(e,o,a),mount_component(i,e,a),s=!0},p(e,r){const o={};if(512&r&&(o.blocks=e[9].aboveFooter),4&r&&(o.emotion=e[2]),t.$set(o),8708&r){let t;for(c=ensure_array_like(["Left","Center","Right"]),t=0;t<3;t+=1){const a=get_each_context_1(e,c,t);l[t]?(l[t].p(a,r),transition_in(l[t],1)):(l[t]=create_each_block_1(a),l[t].c(),transition_in(l[t],1),l[t].m(n,null))}for(group_outros(),t=3;t<3;t+=1)u(t);check_outros()}(!s||34820&r&&a!==(a="dw-chart-footer "+(e[2]?chartFooterStyles(e[2],e[11],e[15]):"")+" svelte-13lpkhe"))&&attr(n,"class",a);const d={};512&r&&(d.blocks=e[9].belowFooter),4&r&&(d.emotion=e[2]),i.$set(d)},i(e){if(!s){transition_in(t.$$.fragment,e);for(let e=0;e<3;e+=1)transition_in(l[e]);transition_in(i.$$.fragment,e),s=!0}},o(e){transition_out(t.$$.fragment,e),l=l.filter(Boolean);for(let e=0;e<3;e+=1)transition_out(l[e]);transition_out(i.$$.fragment,e),s=!1},d(e){e&&(detach(r),detach(n),detach(o)),destroy_component(t,e),destroy_each(l,e),destroy_component(i,e)}}}function create_each_block_1(e){let t,r;return t=new FooterInlineBlocksRegion({props:{alignment:e[25].toLowerCase(),blocks:e[9]["footer"+e[25]],layout:e[13][e[25]],emotion:e[2]}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};512&r&&(n.blocks=e[9]["footer"+e[25]]),8192&r&&(n.layout=e[13][e[25]]),4&r&&(n.emotion=e[2]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_each_block$5(e){let t,r,n;var a=e[22].component;function o(e,t){return{props:{props:e[22].props}}}return a&&(t=construct_svelte_component(a,o(e))),{c(){t&&create_component(t.$$.fragment),r=empty()},l(e){t&&claim_component(t.$$.fragment,e),r=empty()},m(e,a){t&&mount_component(t,e,a),insert_hydration(e,r,a),n=!0},p(e,n){if(512&n&&a!==(a=e[22].component)){if(t){group_outros();const e=t;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}a?(t=construct_svelte_component(a,o(e)),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}else if(a){const r={};512&n&&(r.props=e[22].props),t.$set(r)}},i(e){n||(t&&transition_in(t.$$.fragment,e),n=!0)},o(e){t&&transition_out(t.$$.fragment,e),n=!1},d(e){e&&detach(r),t&&destroy_component(t,e)}}}function create_fragment$Q(e){let t,r,n,a,o,i,s,c,l,u,d,p=e[4]&&get$1(e[6],"data.template.afterChart"),h=!e[10]&&create_if_block_4(e),f=e[3]&&!e[15]&&create_if_block_3$3(e);const m=e[19].visBody,_=create_slot(m,e,e[18],get_visBody_slot_context$1);let g=p&&create_if_block_2$8(e);const y=[create_if_block$p,create_if_block_1$c],b=[];function $(e,t){return e[10]?e[9].plainFooter.length?1:-1:0}~(i=$(e))&&(s=b[i]=y[i](e));let v=ensure_array_like(e[9].afterBody),k=[];for(let t=0;t<v.length;t+=1)k[t]=create_each_block$5(get_each_context$5(e,v,t));const x=e=>transition_out(k[e],1,1,(()=>{k[e]=null}));return{c(){t=element("div"),h&&h.c(),r=space(),f&&f.c(),n=space(),_&&_.c(),a=space(),g&&g.c(),o=space(),s&&s.c(),c=space(),l=element("div");for(let e=0;e<k.length;e+=1)k[e].c();this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var i=children(t);h&&h.l(i),r=claim_space(i),f&&f.l(i),n=claim_space(i),_&&_.l(i),a=claim_space(i),g&&g.l(i),o=claim_space(i),s&&s.l(i),c=claim_space(i),l=claim_element(i,"DIV",{class:!0});var u=children(l);for(let e=0;e<k.length;e+=1)k[e].l(u);u.forEach(detach),i.forEach(detach),this.h()},h(){attr(l,"class","dw-after-body svelte-13lpkhe"),attr(t,"class",u="outer-container dw-chart-styles "+(e[2]?chartStyles(e[2],e[11],e[15],e[4]):"")+" svelte-13lpkhe"),toggle_class(t,"static",e[15])},m(s,u){insert_hydration(s,t,u),h&&h.m(t,null),append_hydration(t,r),f&&f.m(t,null),append_hydration(t,n),_&&_.m(t,null),append_hydration(t,a),g&&g.m(t,null),append_hydration(t,o),~i&&b[i].m(t,null),append_hydration(t,c),append_hydration(t,l);for(let e=0;e<k.length;e+=1)k[e]&&k[e].m(l,null);e[20](t),d=!0},p(e,a){let[w]=a;e[10]?h&&(group_outros(),transition_out(h,1,1,(()=>{h=null})),check_outros()):h?(h.p(e,w),1024&w&&transition_in(h,1)):(h=create_if_block_4(e),h.c(),transition_in(h,1),h.m(t,r)),e[3]&&!e[15]?f?(f.p(e,w),32776&w&&transition_in(f,1)):(f=create_if_block_3$3(e),f.c(),transition_in(f,1),f.m(t,n)):f&&(group_outros(),transition_out(f,1,1,(()=>{f=null})),check_outros()),_&&_.p&&(!d||266242&w)&&update_slot_base(_,m,e,e[18],d?get_slot_changes(m,e[18],w,get_visBody_slot_changes$1):get_all_dirty_from_scope(e[18]),get_visBody_slot_context$1),80&w&&(p=e[4]&&get$1(e[6],"data.template.afterChart")),p?g?g.p(e,w):(g=create_if_block_2$8(e),g.c(),g.m(t,o)):g&&(g.d(1),g=null);let q=i;if(i=$(e),i===q?~i&&b[i].p(e,w):(s&&(group_outros(),transition_out(b[q],1,1,(()=>{b[q]=null})),check_outros()),~i?(s=b[i],s?s.p(e,w):(s=b[i]=y[i](e),s.c()),transition_in(s,1),s.m(t,c)):s=null),512&w){let t;for(v=ensure_array_like(e[9].afterBody),t=0;t<v.length;t+=1){const r=get_each_context$5(e,v,t);k[t]?(k[t].p(r,w),transition_in(k[t],1)):(k[t]=create_each_block$5(r),k[t].c(),transition_in(k[t],1),k[t].m(l,null))}for(group_outros(),t=v.length;t<k.length;t+=1)x(t);check_outros()}(!d||34836&w&&u!==(u="outer-container dw-chart-styles "+(e[2]?chartStyles(e[2],e[11],e[15],e[4]):"")+" svelte-13lpkhe"))&&attr(t,"class",u),(!d||34836&w)&&toggle_class(t,"static",e[15])},i(e){if(!d){transition_in(h),transition_in(f),transition_in(_,e),transition_in(s);for(let e=0;e<v.length;e+=1)transition_in(k[e]);d=!0}},o(e){transition_out(h),transition_out(f),transition_out(_,e),transition_out(s),k=k.filter(Boolean);for(let e=0;e<k.length;e+=1)transition_out(k[e]);d=!1},d(r){r&&detach(t),h&&h.d(),f&&f.d(),_&&_.d(r),g&&g.d(),~i&&b[i].d(),destroy_each(k,r),e[20](null)}}}function byPriority(e,t){return(void 0!==e.priority?e.priority:999)-(void 0!==t.priority?t.priority:999)}function getBlocks(e,t){return e.filter((e=>e.region===t)).filter((e=>!e.test||e.test(e.props))).filter((e=>void 0===e.visible||e.visible)).sort(byPriority)}function instance$Q(e,t,r){let n,a,o,i,s,c,l,u=noop,d=()=>(u(),u=subscribe(k,(e=>r(11,l=e))),k);e.$$.on_destroy.push((()=>u()));let{$$slots:p={},$$scope:h}=t,{container:f}=t,{allBlocks:m}=t,{emotion:_}=t,{filterUI:g}=t,{isIframe:y}=t,{renderFlags:b}=t,{textDirection:$}=t,{theme:v}=t,{themeData:k}=t;d();let{vis:x}=t;const w=["header","headerRight","belowHeader","aboveFooter","plainFooter","footerLeft","footerCenter","footerRight","belowFooter","afterBody","menu"];let{contentBelowChart:q}=t;return e.$$set=e=>{"container"in e&&r(0,f=e.container),"allBlocks"in e&&r(16,m=e.allBlocks),"emotion"in e&&r(2,_=e.emotion),"filterUI"in e&&r(3,g=e.filterUI),"isIframe"in e&&r(4,y=e.isIframe),"renderFlags"in e&&r(17,b=e.renderFlags),"textDirection"in e&&r(5,$=e.textDirection),"theme"in e&&r(6,v=e.theme),"themeData"in e&&d(r(7,k=e.themeData)),"vis"in e&&r(8,x=e.vis),"contentBelowChart"in e&&r(1,q=e.contentBelowChart),"$$scope"in e&&r(18,h=e.$$scope)},e.$$.update=()=>{131072&e.$$.dirty&&r(10,n=b.plain),131072&e.$$.dirty&&r(15,a=b.static),65536&e.$$.dirty&&r(9,o=Object.fromEntries(w.map((e=>[e,getBlocks(m,e)])))),2048&e.$$.dirty&&r(14,i=get$1(l,"options.menu",{})),1536&e.$$.dirty&&r(1,q=n?o.plainFooter.length:o.aboveFooter.length||o.footerLeft.length||o.footerCenter.length||o.footerRight.length||o.belowFooter.length||o.afterBody.length),2048&e.$$.dirty&&r(13,s={Left:get$1(l,"options.footer.left.layout","inline"),Center:get$1(l,"options.footer.center.layout","inline"),Right:get$1(l,"options.footer.right.layout","inline")}),2052&e.$$.dirty&&r(12,c=chartBodyStyles(_,l))},[f,q,_,g,y,$,v,k,x,o,n,l,c,s,i,a,m,b,h,p,function(e){binding_callbacks[e?"unshift":"push"]((()=>{f=e,r(0,f)}))}]}let VisContainer$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$Q,create_fragment$Q,safe_not_equal,{container:0,allBlocks:16,emotion:2,filterUI:3,isIframe:4,renderFlags:17,textDirection:5,theme:6,themeData:7,vis:8,contentBelowChart:1},add_css$d)}};var download$1={exports:{}},download=download$1.exports,hasRequiredDownload;function requireDownload(){return hasRequiredDownload||(hasRequiredDownload=1,download$1.exports=function e(t,r,n){var a,o,i=window,s="application/octet-stream",c=n||s,l=t,u=!r&&!n&&l,d=document.createElement("a"),p=function(e){return String(e)},h=i.Blob||i.MozBlob||i.WebKitBlob||p,f=r||"download";if(h=h.call?h.bind(i):Blob,"true"===String(this)&&(c=(l=[l,c])[0],l=l[1]),u&&u.length<2048&&(f=u.split("/").pop().split("?")[0],d.href=u,-1!==d.href.indexOf(u))){var m=new XMLHttpRequest;return m.open("GET",u,!0),m.responseType="blob",m.onload=function(t){e(t.target.response,f,s)},setTimeout((function(){m.send()}),0),m}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(l)){if(!(l.length>2096103.424&&h!==p))return navigator.msSaveBlob?navigator.msSaveBlob(b(l),f):$(l);c=(l=b(l)).type||s}else if(/([\x80-\xff])/.test(l)){for(var _=0,g=new Uint8Array(l.length),y=g.length;_<y;++_)g[_]=l.charCodeAt(_);l=new h([g],{type:c})}function b(e){for(var t=e.split(/[:;,]/),r=t[1],n=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),a=n.length,o=0,i=new Uint8Array(a);o<a;++o)i[o]=n.charCodeAt(o);return new h([i],{type:r})}function $(e,t){if("download"in d)return d.href=e,d.setAttribute("download",f),d.className="download-js-link",d.innerHTML="downloading...",d.style.display="none",document.body.appendChild(d),setTimeout((function(){d.click(),document.body.removeChild(d),!0===t&&setTimeout((function(){i.URL.revokeObjectURL(d.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var r=document.createElement("iframe");document.body.appendChild(r),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,s)),r.src=e,setTimeout((function(){document.body.removeChild(r)}),333)}if(a=l instanceof h?l:new h([l],{type:c}),navigator.msSaveBlob)return navigator.msSaveBlob(a,f);if(i.URL)$(i.URL.createObjectURL(a),!0);else{if("string"==typeof a||a.constructor===p)try{return $("data:"+c+";base64,"+i.btoa(a))}catch(e){return $("data:"+c+","+encodeURIComponent(a))}(o=new FileReader).onload=function(e){$(this.result)},o.readAsDataURL(a)}return!0}),download$1.exports}var downloadExports=requireDownload(),downloadjs=getDefaultExportFromCjs(downloadExports);const UNDEFINED_STYLE="%UNDEFINED%";function getThemeStyleHelpers(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{getProp:(e,a)=>getObjProp(get$1(t,["blocks",r,"styles",...n?Array.isArray(n)?n:[n]:[]],{}),e,a),css:function(){return e.css(cssTemplate(...arguments))}}}function cssTemplate(e){let t="";for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];for(const r of e)t+=r+(n.length?n.shift():"");return t.split("\n").filter((e=>e)).filter((e=>!e.includes(UNDEFINED_STYLE))).join("\n")}function getObjProp(e,t,r){return get$1(e,t,void 0===r?UNDEFINED_STYLE:r)}function fourSides(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"==typeof t||"number"==typeof t)return"".concat(e.replace("-%",""),": ").concat(r?toPixel(t):t,";");if(t){const n=[];for(const a of["top","bottom","left","right"])void 0!==t[a]&&n.push("".concat(e.replace("%",a),": ").concat(r?toPixel(t[a]):t[a],";"));return n.join("\n")}}function fourCorners(e,t){if("string"==typeof t||"number"==typeof t)return"".concat(e.replace("-%",""),": ").concat(toPixel(t),";");if(t){const r=[],n={topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right"};for(const[a,o]of Object.entries(n))void 0!==t[a]&&r.push("".concat(e.replace("-%","-".concat(o)),": ").concat(toPixel(t[a]),";"));return r.join("\n")}}function margins(e){return fourSides("margin-%",e("margin","0"),!0)}function paddings(e){return fourSides("padding-%",e("padding","0"),!0)}function sharedContainerStyles(e){var t,r,n;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"\n    background: ".concat(e("background",a.background),";\n\n    ").concat(fourSides("margin-%",e("margin",null!==(t=a.margin)&&void 0!==t?t:"0"),!0),"\n    ").concat(fourSides("padding-%",e("padding",null!==(r=a.padding)&&void 0!==r?r:"0"),!0),"\n    ").concat(fourSides("border-%",e("border",null!==(n=a.border)&&void 0!==n?n:"none"),!0),"\n    ").concat(fourCorners("border-%-radius",e("borderRadius",a.borderRadius)),"\n\n    text-align: ").concat(e("textAlign",a.textAlign),";\n    width: ").concat(e("width",a.width),";\n    max-width: ").concat(e("maxWidth",a.maxWidth),";\n    min-width: ").concat(e("minWidth",a.minWidth),";\n    white-space: ").concat(e("whiteSpace",a.whiteSpace),";\n    flex-grow: ").concat(e("flexGrow",a.flexGrow),";\n    align-self: ").concat(e("alignSelf",a.alignSelf),";\n    ")}function containerStyles(e){var t,r;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=e("layout",n.layout);return"\n    ".concat(sharedContainerStyles(e,n),"\n    display: ").concat("inline"===a?"inline":"flex",";\n    flex-wrap: ").concat(e("flexWrap",n.flexWrap),";\n    flex-direction: ").concat("flex-column"===a?"column":"row",";\n    justify-content: ").concat(e("justify","flex-row"===a?"space-between":"flex-start"),";\n    align-items: ").concat(e("alignItems",n.alignItems),";\n    gap: ").concat(toPixel(e("gap",n.gap)),";\n    row-gap: ").concat(toPixel(e("gap.row",null===(t=n.gap)||void 0===t?void 0:t.row)),";\n    column-gap: ").concat(toPixel(e("gap.column",null===(r=n.gap)||void 0===r?void 0:r.column)),";\n    ")}const TYPOGRAPHY_PROPS={color:{prop:"color"},fontWeight:{prop:"font-weight"},fontStretch:{prop:"font-stretch"},typeface:{prop:"font-family"},textTransform:{prop:"text-transform"},letterSpacing:{transform:e=>toPixel(e),prop:"letter-spacing"},fontSize:{prop:"font-size",transform:e=>toPixel(e)},lineHeight:{prop:"line-height",transform:e=>lineHeight(e)},underlined:{prop:"text-decoration",transform:e=>e?"underline":"none"},tabularNums:{prop:"font-variant-numeric",transform:e=>e?"tabular-nums":"proportional-nums"},cursive:{prop:"font-style",transform:e=>e?"italic":"normal"}};function typography(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return typographyStyles(get$1(e,["blocks",t,"styles",...n?Array.isArray(n)?n:[n]:[],"typography"],{}),r)}function typographyStyles(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(TYPOGRAPHY_PROPS).filter((r=>{let[n]=r;return has(e,n)||has(t,n)})).map((r=>{let[n,{prop:a,transform:o=identity$1}]=r;const i=get$1(e,n,t[n]);return"".concat(a,": ").concat(o(i),";")})).join("\n")}function linkStyles(e,t,r){var n,a,o;let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s="a"===(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"div")?"&&&":"a:not(.link-style-ignore)";return"\n    ".concat(s," {\n        ").concat(typography(t,r,i,"links"),"\n        background: ").concat(e("links.background",i.background),";\n        ").concat(fourSides("padding-%",e("links.padding",i.padding),!0),"\n        ").concat(fourSides("border-%",e("links.border",i.border),!1),"\n        ").concat(fourCorners("border-%-radius",e("links.borderRadius",i.borderRadius)),"\n    }\n     ").concat(s,":hover, ").concat(s,":focus {\n        color: ").concat(e("links.hover.color",null===(n=i.hover)||void 0===n?void 0:n.color),";\n        background: ").concat(e("links.hover.background",null===(a=i.hover)||void 0===a?void 0:a.background),";\n        ").concat(fourSides("border-%-color",e("links.hover.borderColor",null===(o=i.hover)||void 0===o?void 0:o.borderColor)),"\n    }\n    ")}function toPixel(e){return e===UNDEFINED_STYLE?e:Number.isFinite(e)?"".concat(e,"px"):"string"==typeof e?e:UNDEFINED_STYLE}function lineHeight(e){return e===UNDEFINED_STYLE?e:e>3?"".concat(e,"px"):String(e)}const DEFAULT_ALLOWED=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt"];function clean(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return purifyHtml(e,t.length?[...DEFAULT_ALLOWED,...t]:DEFAULT_ALLOWED)}function visStyles(e){const t=(t,r)=>getObjProp(get$1(e,"vis.base.labels",{}),t,r),r=getObjProp(e,"colors.background");return"\n        svg {\n            font-size: inherit;\n        }\n\n        .label.value, .label.value span {\n            ".concat(typographyStyles(get$1(e,"vis.base.labels.values",{})),"\n        }\n        .label.series, .label.series span {\n            ").concat(typographyStyles(get$1(e,"vis.base.labels.series",{})),"\n        }\n        .label.legend-text, .label.legend-text span {\n            ").concat(typographyStyles(get$1(e,"vis.base.labels.legend",{})),"\n        }\n        .label.inverted span {\n            text-shadow: 0 0px 2px #000000;\n            color: ").concat(t("inside.inverted","#ffffff"),";\n        }\n\n        .label.inside:not(.inverted) span {\n            text-shadow: 0 0px 2px #ffffff;\n            color: ").concat(t("inside.normal","#333333"),";\n        }\n\n        .label.outline span {\n            text-shadow: 0 1px 0 ").concat(r,", 1px 0 0 ").concat(r,", 0 -1px 0 ").concat(r,", -1px 0 0 ").concat(r,",\n                1px 1px 0 ").concat(r,", 1px -1px 0 ").concat(r,", -1px -1px 0 ").concat(r,", -1px 1px 0 ").concat(r,",\n                0 2px 1px ").concat(r,", 2px 0 1px ").concat(r,", 0 -2px 1px ").concat(r,", -2px 0 1px ").concat(r,",\n                -1px 2px 0px ").concat(r,", 2px -1px 0px ").concat(r,", -1px -2px 0px ").concat(r,",\n                -2px -1px 0px ").concat(r,", 1px 2px 0px ").concat(r,", 2px 1px 0px ").concat(r,",\n                1px -2px 0px ").concat(r,", -2px 1px 0px ").concat(r,";\n        }\n\n        .label sup {\n            text-shadow: none;\n        }\n\n        .label.highlighted {\n            font-weight: bold;\n        }\n\n        .label.highlighted,\n        .label.axis {\n            z-index: 100;\n        }\n\n        .label.hover {\n            font-weight: bold;\n        }\n\n        .label.smaller span {\n            font-size: 80%;\n        }\n        .dw-tooltip {\n            /* d3-maps & d3-scatter-plot tooltips */\n            color: ").concat(getObjProp(e,"vis.base.tooltip.text.color","#333333"),";\n        }\n    ")}const BASE_BUTTON_STYLES="cursor: pointer;\nborder: unset;\npadding: unset;\nmargin: unset;\nbox-shadow: unset;\nbackground: unset;\nfont-family: unset;\nfont-weight: unset;\nletter-spacing: unset;\ncolor: unset;";var _templateObject$f;function create_if_block_3$2(e){let t,r,n=clean(e[10])+"";return{c(){t=element("span"),r=new HtmlTagHydration(!1),this.h()},l(e){t=claim_element(e,"SPAN",{class:!0});var n=children(t);r=claim_html_tag(n,!1),n.forEach(detach),this.h()},h(){r.a=null,attr(t,"class","prepend")},m(e,a){insert_hydration(e,t,a),r.m(n,t)},p(e,t){1024&t[0]&&n!==(n=clean(e[10])+"")&&r.p(n)},d(e){e&&detach(t)}}}function create_if_block_1$b(e){let t,r,n,a=e[18].default&&create_if_block_2$7();return{c(){t=element("span"),r=text(e[11]),a&&a.c(),n=empty(),this.h()},l(o){t=claim_element(o,"SPAN",{class:!0});var i=children(t);r=claim_text(i,e[11]),i.forEach(detach),a&&a.l(o),n=empty(),this.h()},h(){attr(t,"class","caption")},m(e,o){insert_hydration(e,t,o),append_hydration(t,r),a&&a.m(e,o),insert_hydration(e,n,o)},p(e,t){2048&t[0]&&set_data(r,e[11]),e[18].default?a||(a=create_if_block_2$7(),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(e){e&&(detach(t),detach(n)),a&&a.d(e)}}}function create_if_block_2$7(e){let t;return{c(){t=text(" ")},l(e){t=claim_text(e," ")},m(e,r){insert_hydration(e,t,r)},d(e){e&&detach(t)}}}function create_if_block$o(e){let t,r,n=clean(e[9])+"";return{c(){t=element("span"),r=new HtmlTagHydration(!1),this.h()},l(e){t=claim_element(e,"SPAN",{class:!0});var n=children(t);r=claim_html_tag(n,!1),n.forEach(detach),this.h()},h(){r.a=null,attr(t,"class","append")},m(e,a){insert_hydration(e,t,a),r.m(n,t)},p(e,t){512&t[0]&&n!==(n=clean(e[9])+"")&&r.p(n)},d(e){e&&detach(t)}}}function create_dynamic_element(e){let t,r,n,a,o,i,s,c,l,u=e[10]&&create_if_block_3$2(e),d=e[6]&&e[11]&&create_if_block_1$b(e);const p=e[33].default,h=create_slot(p,e,e[32],null);let f=e[9]&&create_if_block$o(e),m=[{href:e[3]},{class:a=(e[5]?"":"block-".concat(e[1]))+" "+e[12]+" "+e[7]},e[4],{"data-block-id":o=e[8].dev?e[0]||e[1]:null},{"data-block-type":i=e[8].dev?e[2]:null}],_={};for(let e=0;e<m.length;e+=1)_=assign$1(_,m[e]);return{c(){t=element(e[14]),u&&u.c(),r=empty(),d&&d.c(),n=empty(),h&&h.c(),f&&f.c(),this.h()},l(a){t=claim_element(a,(e[14]||"null").toUpperCase(),{href:!0,class:!0,"data-block-id":!0,"data-block-type":!0});var o=children(t);u&&u.l(o),r=empty(),d&&d.l(o),n=empty(),h&&h.l(o),f&&f.l(o),o.forEach(detach),this.h()},h(){set_dynamic_element_data(e[14])(t,_),toggle_class(t,"export-text",e[8].svgonly&&!e[13])},m(a,o){insert_hydration(a,t,o),u&&u.m(t,null),append_hydration(t,r),d&&d.m(t,null),append_hydration(t,n),h&&h.m(t,null),f&&f.m(t,null),s=!0,c||(l=[listen(t,"click",e[34]),listen(t,"keypress",e[35])],c=!0)},p(e,c){e[10]?u?u.p(e,c):(u=create_if_block_3$2(e),u.c(),u.m(t,r)):u&&(u.d(1),u=null),e[6]&&e[11]?d?d.p(e,c):(d=create_if_block_1$b(e),d.c(),d.m(t,n)):d&&(d.d(1),d=null),h&&h.p&&(!s||2&c[1])&&update_slot_base(h,p,e,e[32],s?get_slot_changes(p,e[32],c,null):get_all_dirty_from_scope(e[32]),null),e[9]?f?f.p(e,c):(f=create_if_block$o(e),f.c(),f.m(t,null)):f&&(f.d(1),f=null),set_dynamic_element_data(e[14])(t,_=get_spread_update(m,[(!s||8&c[0])&&{href:e[3]},(!s||4258&c[0]&&a!==(a=(e[5]?"":"block-".concat(e[1]))+" "+e[12]+" "+e[7]))&&{class:a},16&c[0]&&e[4],(!s||259&c[0]&&o!==(o=e[8].dev?e[0]||e[1]:null))&&{"data-block-id":o},(!s||260&c[0]&&i!==(i=e[8].dev?e[2]:null))&&{"data-block-type":i}])),toggle_class(t,"export-text",e[8].svgonly&&!e[13])},i(e){s||(transition_in(h,e),s=!0)},o(e){transition_out(h,e),s=!1},d(e){e&&detach(t),u&&u.d(),d&&d.d(),h&&h.d(e),f&&f.d(),c=!1,run_all(l)}}}function create_fragment$P(e){let t,r,n=e[14],a=e[14]&&create_dynamic_element(e);return{c(){a&&a.c(),t=empty()},l(e){a&&a.l(e),t=empty()},m(e,n){a&&a.m(e,n),insert_hydration(e,t,n),r=!0},p(e,r){e[14]?n?safe_not_equal(n,e[14])?(a.d(1),a=create_dynamic_element(e),n=e[14],a.c(),a.m(t.parentNode,t)):a.p(e,r):(a=create_dynamic_element(e),n=e[14],a.c(),a.m(t.parentNode,t)):n&&(a.d(1),a=null,n=e[14])},i(e){r||(transition_in(a,e),r=!0)},o(e){transition_out(a,e),r=!1},d(e){e&&detach(t),a&&a.d(e)}}}function instance$P(e,t,r){let n,a,o,i,s,c,l,u,d,p,h,f,m,_,g,y,{$$slots:b={},$$scope:$}=t;const v=compute_slots(b),{themeData:k,chart:x,emotion:w,__:q,flags:S}=getContext("visContainer");component_subscribe(e,k,(e=>r(30,_=e))),component_subscribe(e,x,(e=>r(31,g=e))),component_subscribe(e,S,(e=>r(8,y=e)));let{id:E}=t,{key:R}=t,{type:T}=t,{tag:C}=t,{href:A=null}=t,{parent:I={}}=t,{extraAttributes:M={}}=t,{defaultStyles:D={}}=t,{skipBlockClass:O=!1}=t,{supportsCaption:P=!1}=t,{defaultCaption:N=""}=t,{class:L=""}=t;return e.$$set=e=>{"id"in e&&r(0,E=e.id),"key"in e&&r(1,R=e.key),"type"in e&&r(2,T=e.type),"tag"in e&&r(19,C=e.tag),"href"in e&&r(3,A=e.href),"parent"in e&&r(20,I=e.parent),"extraAttributes"in e&&r(4,M=e.extraAttributes),"defaultStyles"in e&&r(21,D=e.defaultStyles),"skipBlockClass"in e&&r(5,O=e.skipBlockClass),"supportsCaption"in e&&r(6,P=e.supportsCaption),"defaultCaption"in e&&r(22,N=e.defaultCaption),"class"in e&&r(7,L=e.class),"$$scope"in e&&r(32,$=e.$$scope)},e.$$.update=()=>{1073741826&e.$$.dirty[0]&&r(26,({getProp:n,css:a}=getThemeStyleHelpers(w,_,R)),n,(r(28,a),r(30,_),r(1,R))),1074790400&e.$$.dirty[0]&&r(29,({getProp:o}=getThemeStyleHelpers(w,_,I.key)),o),1074266114&e.$$.dirty[0]&&r(14,i=get$1(_,["blocks",R,"options","tag"],C)),1048576&e.$$.dirty[0]&&r(27,s="menu"===I.type),537919488&e.$$.dirty[0]&&r(13,c="container"===I.type&&"inline"===o("layout","flex-column")),1546125570&e.$$.dirty[0]&&r(12,l="function"==typeof a?a(_templateObject$f||(_templateObject$f=_taggedTemplateLiteral(["\n                  ","\n                  ","\n                  ","\n                  white-space: ",";\n                  ","\n                  > .prepend {\n                      ","\n                  }\n                  > .append {\n                      ","\n                  }\n                  > .caption {\n                      ","\n                      min-width: ",";\n                      ","\n                  }\n              "])),typography(_,R,D.typography||{}),y.static?"":linkStyles(n,_,R,C),sharedContainerStyles(n,D),n("white-space"),s?"display: block;":"",typography(_,R,{},"prepend"),typography(_,R,{},"append"),typography(_,R,{},"caption"),toPixel(n("caption.minWidth")),n("caption.minWidth",!1)?"display: inline-block;":""):""),1073741826&e.$$.dirty[0]&&r(25,u=get$1(_,"blocks.".concat(R,".options.captionKey"),null)),33554432&e.$$.dirty[0]|1&e.$$.dirty[1]&&r(24,d=u?get$1(g,"metadata.custom.".concat(u)):null),1073741826&e.$$.dirty[0]&&r(23,p=get$1(_,"blocks.".concat(R,".options.caption"),null)),29360128&e.$$.dirty[0]&&r(11,h=null!==d?d:null!==p&&"string"==typeof p?q(p):N),1073741826&e.$$.dirty[0]&&r(10,f=get$1(_,"blocks.".concat(R,".options.prepend"),null)),1073741826&e.$$.dirty[0]&&r(9,m=get$1(_,"blocks.".concat(R,".options.append"),null))},[E,R,T,A,M,O,P,L,y,m,f,h,l,c,i,k,x,S,v,C,I,D,N,p,d,u,n,s,a,o,_,g,$,b,function(t){bubble.call(this,e,t)},function(t){bubble.call(this,e,t)}]}class TextBlock extends SvelteComponent{constructor(e){super(),init(this,e,instance$P,create_fragment$P,safe_not_equal,{id:0,key:1,type:2,tag:19,href:3,parent:20,extraAttributes:4,defaultStyles:21,skipBlockClass:5,supportsCaption:6,defaultCaption:22,class:7},null,[-1,-1])}}function _await$4(e,t,r){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}function _async$4(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function create_fragment$O(e){let t,r;return t=new TextBlock({props:{tag:"a",href:e[7],extraAttributes:{"data-dst":e[6]},supportsCaption:!0,defaultCaption:e[10]("blocks / download-".concat("png"===e[5]?"image":e[5])),id:e[0],key:e[1],type:e[2],parent:e[3],defaultStyles:e[4]}}),t.$on("click",e[14]),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){let[n]=r;const a={};128&n&&(a.href=e[7]),64&n&&(a.extraAttributes={"data-dst":e[6]}),32&n&&(a.defaultCaption=e[10]("blocks / download-".concat("png"===e[5]?"image":e[5]))),1&n&&(a.id=e[0]),2&n&&(a.key=e[1]),4&n&&(a.type=e[2]),8&n&&(a.parent=e[3]),16&n&&(a.defaultStyles=e[4]),t.$set(a)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function isDatawrapperEditor$1(){let e=!1;try{e=window.parent&&window.parent!==window.self&&window.parent.dw&&window.parent.dw.backend}catch(e){}return e}function instance$O(e,t,r){const n=_async$4((function(e){if(e.preventDefault(),l&&l("download",{type:o}),!isDatawrapperEditor$1())return _await$4(fetch(s),(function(e){return _await$4(e.blob(),(function(e){downloadjs(e,c,"image/".concat(o))}))}))}));let a,o,i,s,c,l,u,d,p,h;const{chart:f,entitlements:m,__:_,postEvent:g,teamPublicSettings:y,visualization:b}=getContext("visContainer");component_subscribe(e,f,(e=>r(18,d=e))),component_subscribe(e,m,(e=>r(19,p=e))),component_subscribe(e,g,(e=>r(21,l=e))),component_subscribe(e,y,(e=>r(17,u=e))),component_subscribe(e,b,(e=>r(20,h=e)));let{id:$}=t,{key:v}=t,{type:k}=t,{parent:x}=t,{defaultStyles:w={}}=t;return e.$$set=e=>{"id"in e&&r(0,$=e.id),"key"in e&&r(1,v=e.key),"type"in e&&r(2,k=e.type),"parent"in e&&r(3,x=e.parent),"defaultStyles"in e&&r(4,w=e.defaultStyles)},e.$$.update=()=>{1048576&e.$$.dirty&&r(15,a=h?h.libraries().dayjs:null),4&e.$$.dirty&&r(5,o="downloadImage"===k?"png":k.replace("download","").toLowerCase()),655360&e.$$.dirty&&r(16,i=getSourceImageFilenames(u)),327712&e.$$.dirty&&r(7,s=d.publicUrl?"".concat(d.publicUrl.split("/".concat(d.publicId,"/"))[0],"/").concat(d.publicId,"/").concat(i[o],".").concat(o):"".concat(i[o],".").concat(o)),426016&e.$$.dirty&&r(6,c="".concat(getDestinationFilename({chart:d,teamPublicSettings:u,dayjs:a}),".").concat(o))},[$,v,k,x,w,o,c,s,f,m,_,g,y,b,n,a,i,u,d,p,h]}let DownloadImage$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$O,create_fragment$O,safe_not_equal,{id:0,key:1,type:2,parent:3,defaultStyles:4})}};function create_default_slot$a(e){let t,r,n;return{c(){t=element("a"),r=text("Datawrapper"),this.h()},l(e){t=claim_element(e,"A",{href:!0,target:!0,rel:!0});var n=children(t);r=claim_text(n,"Datawrapper"),n.forEach(detach),this.h()},h(){attr(t,"href",n="https://www.datawrapper.de/_/"+e[5].id),attr(t,"target","_blank"),attr(t,"rel","noopener")},m(e,n){insert_hydration(e,t,n),append_hydration(t,r)},p(e,r){32&r&&n!==(n="https://www.datawrapper.de/_/"+e[5].id)&&attr(t,"href",n)},d(e){e&&detach(t)}}}function create_fragment$N(e){let t,r;return t=new TextBlock({props:{id:e[0],key:e[1],type:e[2],parent:e[3],defaultStyles:e[4],tag:"span",supportsCaption:!0,defaultCaption:e[7]("blocks / attribution"),$$slots:{default:[create_default_slot$a]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){let[n]=r;const a={};1&n&&(a.id=e[0]),2&n&&(a.key=e[1]),4&n&&(a.type=e[2]),8&n&&(a.parent=e[3]),16&n&&(a.defaultStyles=e[4]),288&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function instance$N(e,t,r){let n,{id:a}=t,{key:o}=t,{type:i}=t,{parent:s}=t,{defaultStyles:c={}}=t;const{chart:l,__:u}=getContext("visContainer");return component_subscribe(e,l,(e=>r(5,n=e))),e.$$set=e=>{"id"in e&&r(0,a=e.id),"key"in e&&r(1,o=e.key),"type"in e&&r(2,i=e.type),"parent"in e&&r(3,s=e.parent),"defaultStyles"in e&&r(4,c=e.defaultStyles)},[a,o,i,s,c,n,l,u]}class Attribution extends SvelteComponent{constructor(e){super(),init(this,e,instance$N,create_fragment$N,safe_not_equal,{id:0,key:1,type:2,parent:3,defaultStyles:4})}}function _await$3(e,t,r){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}function _async$3(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function create_else_block$7(e){let t,r,n=clean(e[3],e[1])+"";return{c(){t=element("span"),r=new HtmlTagHydration(!1),this.h()},l(e){t=claim_element(e,"SPAN",{class:!0});var n=children(t);r=claim_html_tag(n,!1),n.forEach(detach),this.h()},h(){r.a=null,attr(t,"class",e[0])},m(e,a){insert_hydration(e,t,a),r.m(n,t)},p(e,a){10&a&&n!==(n=clean(e[3],e[1])+"")&&r.p(n),1&a&&attr(t,"class",e[0])},d(e){e&&detach(t)}}}function create_if_block$n(e){let t,r,n;return{c(){t=element("span"),this.h()},l(e){t=claim_element(e,"SPAN",{class:!0,contenteditable:!0}),children(t).forEach(detach),this.h()},h(){attr(t,"class",e[0]),attr(t,"contenteditable",""),void 0===e[3]&&add_render_callback((()=>e[15].call(t)))},m(a,o){insert_hydration(a,t,o),e[14](t),void 0!==e[3]&&(t.innerHTML=e[3]),r||(n=[listen(t,"input",e[15]),listen(t,"keydown",e[8]),listen(t,"focus",e[9]),listen(t,"blur",e[10])],r=!0)},p(e,r){1&r&&attr(t,"class",e[0]),8&r&&e[3]!==t.innerHTML&&(t.innerHTML=e[3])},d(a){a&&detach(t),e[14](null),r=!1,run_all(n)}}}function create_fragment$M(e){let t;function r(e,t){return e[4].allowEditing?create_if_block$n:create_else_block$7}let n=r(e),a=n(e);return{c(){a.c(),t=empty()},l(e){a.l(e),t=empty()},m(e,r){a.m(e,r),insert_hydration(e,t,r)},p(e,o){let[i]=o;n===(n=r(e))&&a?a.p(e,i):(a.d(1),a=n(e),a&&(a.c(),a.m(t.parentNode,t)))},i:noop,o:noop,d(e){e&&detach(t),a.d(e)}}}function instance$M(e,t,r){const n=_async$3((function(){const e=clean(g.trim().replace(/<br ?\/?>$/i,"").replace(/contenteditable="(?:true)?"/g,""),m);return e!==p&&function(e,t){set$1(i,e,t),c.set(i),o&&o("editor:patch:chart",{key:e,value:t})}(h,e),r(12,_=!1),_await$3()})),a=_async$3((function(){return p=clean(get$1(i,h)),r(12,_=!0),_await$3()}));let o,i,s;const{chart:c,flags:l,postEvent:u}=getContext("visContainer");component_subscribe(e,c,(e=>r(13,i=e))),component_subscribe(e,l,(e=>r(4,s=e))),component_subscribe(e,u,(e=>r(17,o=e)));let d,p,{key:h}=t,{class:f=null}=t,{additionalAllowedTags:m=[]}=t,_=!1;let g=clean(get$1(i,h),m);return e.$$set=e=>{"key"in e&&r(11,h=e.key),"class"in e&&r(0,f=e.class),"additionalAllowedTags"in e&&r(1,m=e.additionalAllowedTags)},e.$$.update=()=>{14338&e.$$.dirty&&(_||r(3,g=clean(get$1(i,h),m)))},[f,m,d,g,s,c,l,u,function(e){"Enter"===e.key&&(e.preventDefault(),d.blur()),"Escape"===e.key&&(r(3,g=p),e.preventDefault(),d.blur())},a,n,h,_,i,function(e){binding_callbacks[e?"unshift":"push"]((()=>{d=e,r(2,d)}))},function(){g=this.innerHTML,r(3,g),r(12,_),r(13,i),r(11,h),r(1,m)}]}class InlineEditable extends SvelteComponent{constructor(e){super(),init(this,e,instance$M,create_fragment$M,safe_not_equal,{key:11,class:0,additionalAllowedTags:1})}}function create_if_block$m(e){let t,r,n=clean(e[6])+"";return{c(){t=new HtmlTagHydration(!1),r=empty(),this.h()},l(e){t=claim_html_tag(e,!1),r=empty(),this.h()},h(){t.a=r},m(e,a){t.m(n,e,a),insert_hydration(e,r,a)},p(e,r){64&r&&n!==(n=clean(e[6])+"")&&t.p(n)},d(e){e&&(detach(r),t.d())}}}function create_default_slot$9(e){let t,r,n;t=new InlineEditable({props:{key:"metadata.describe.byline"}});let a=e[5].basedOnByline&&create_if_block$m(e);return{c(){create_component(t.$$.fragment),a&&a.c(),r=empty()},l(e){claim_component(t.$$.fragment,e),a&&a.l(e),r=empty()},m(e,o){mount_component(t,e,o),a&&a.m(e,o),insert_hydration(e,r,o),n=!0},p(e,t){e[5].basedOnByline?a?a.p(e,t):(a=create_if_block$m(e),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){e&&detach(r),destroy_component(t,e),a&&a.d(e)}}}function create_fragment$L(e){let t,r;return t=new TextBlock({props:{tag:"span",id:e[0],key:e[1],type:e[2],parent:e[3],defaultStyles:e[4],defaultCaption:e[7],supportsCaption:!0,$$slots:{default:[create_default_slot$9]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){let[n]=r;const a={};1&n&&(a.id=e[0]),2&n&&(a.key=e[1]),4&n&&(a.type=e[2]),8&n&&(a.parent=e[3]),16&n&&(a.defaultStyles=e[4]),128&n&&(a.defaultCaption=e[7]),262240&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function instance$L(e,t,r){let n,a,o,i,s,c,l,u,d;const{chart:p,themeData:h,__:f,visualization:m}=getContext("visContainer");component_subscribe(e,p,(e=>r(5,l=e))),component_subscribe(e,h,(e=>r(15,u=e))),component_subscribe(e,m,(e=>r(16,d=e)));let{id:_}=t,{key:g}=t,{type:y}=t,{parent:b}=t,{defaultStyles:$={}}=t;return e.$$set=e=>{"id"in e&&r(0,_=e.id),"key"in e&&r(1,g=e.key),"type"in e&&r(2,y=e.type),"parent"in e&&r(3,b=e.parent),"defaultStyles"in e&&r(4,$=e.defaultStyles)},e.$$.update=()=>{65536&e.$$.dirty&&r(14,n=d?getVisCaption(d.meta.id):"chart"),49154&e.$$.dirty&&r(7,a=f(get$1(u,["blocks",g,"options","caption",n],"blocks / byline / ".concat(n)))),32&e.$$.dirty&&r(13,o=get$1(l,"metadata.describe.byline",!1)),2&e.$$.dirty&&r(12,i=f(get$1(h,["blocks",g,"options","caption","fork"],"blocks / byline / fork"))),8224&e.$$.dirty&&r(11,s=l.basedOnByline&&o),6176&e.$$.dirty&&r(6,c=(s?" (":"")+i+" "+clean(l.basedOnByline)+(s?")":""))},[_,g,y,b,$,l,c,a,p,h,m,s,i,o,n,u,d]}let Byline$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$L,create_fragment$L,safe_not_equal,{id:0,key:1,type:2,parent:3,defaultStyles:4})}};function create_else_block$6(e){let t,r;return{c(){t=text("unknown block type "),r=text(e[1])},l(n){t=claim_text(n,"unknown block type "),r=claim_text(n,e[1])},m(e,n){insert_hydration(e,t,n),insert_hydration(e,r,n)},p(e,t){2&t&&set_data(r,e[1])},i:noop,o:noop,d(e){e&&(detach(t),detach(r))}}}function create_if_block$l(e){let t,r,n;const a=[{id:e[0]},{key:e[4]},{parent:e[2]},e[3]];var o=blocks[e[1]].component;function i(e,t){let r={};for(let e=0;e<a.length;e+=1)r=assign$1(r,a[e]);return void 0!==t&&29&t&&(r=assign$1(r,get_spread_update(a,[1&t&&{id:e[0]},16&t&&{key:e[4]},4&t&&{parent:e[2]},8&t&&get_spread_object(e[3])]))),{props:r}}return o&&(t=construct_svelte_component(o,i(e))),{c(){t&&create_component(t.$$.fragment),r=empty()},l(e){t&&claim_component(t.$$.fragment,e),r=empty()},m(e,a){t&&mount_component(t,e,a),insert_hydration(e,r,a),n=!0},p(e,n){if(2&n&&o!==(o=blocks[e[1]].component)){if(t){group_outros();const e=t;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}o?(t=construct_svelte_component(o,i(e,n)),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,r.parentNode,r)):t=null}else if(o){const r=29&n?get_spread_update(a,[1&n&&{id:e[0]},16&n&&{key:e[4]},4&n&&{parent:e[2]},8&n&&get_spread_object(e[3])]):{};t.$set(r)}},i(e){n||(t&&transition_in(t.$$.fragment,e),n=!0)},o(e){t&&transition_out(t.$$.fragment,e),n=!1},d(e){e&&detach(r),t&&destroy_component(t,e)}}}function create_fragment$K(e){let t,r,n,a;const o=[create_if_block$l,create_else_block$6],i=[];function s(e,t){return blocks[e[1]]?0:1}return t=s(e),r=i[t]=o[t](e),{c(){r.c(),n=empty()},l(e){r.l(e),n=empty()},m(e,r){i[t].m(e,r),insert_hydration(e,n,r),a=!0},p(e,a){let[c]=a,l=t;t=s(e),t===l?i[t].p(e,c):(group_outros(),transition_out(i[l],1,1,(()=>{i[l]=null})),check_outros(),r=i[t],r?r.p(e,c):(r=i[t]=o[t](e),r.c()),transition_in(r,1),r.m(n.parentNode,n))},i(e){a||(transition_in(r),a=!0)},o(e){transition_out(r),a=!1},d(e){e&&detach(n),i[t].d(e)}}}function instance$K(e,t,r){let n,a,o,{id:i=null}=t,{type:s}=t,{children:c=[]}=t,{parent:l={}}=t,{defaultStyles:u={}}=t;return e.$$set=e=>{"id"in e&&r(0,i=e.id),"type"in e&&r(1,s=e.type),"children"in e&&r(5,c=e.children),"parent"in e&&r(2,l=e.parent),"defaultStyles"in e&&r(6,u=e.defaultStyles)},e.$$.update=()=>{4&e.$$.dirty&&r(7,n="menu"===l.type),3&e.$$.dirty&&r(4,a=i||s),226&e.$$.dirty&&r(3,o="menu"===s?{children:c}:_objectSpread2({inMenu:n,defaultStyles:u},"container"===s?{children:c}:{type:s}))},[i,s,l,o,a,c,u,n]}class Block extends SvelteComponent{constructor(e){super(),init(this,e,instance$K,create_fragment$K,safe_not_equal,{id:0,type:1,children:5,parent:2,defaultStyles:6})}}var _templateObject$e;function get_each_context$4(e,t,r){const n=e.slice();return n[21]=t[r],n[23]=r,n}function create_if_block$k(e){let t,r,n,a,o,i,s=ensure_array_like(e[2]),c=[];for(let t=0;t<s.length;t+=1)c[t]=create_each_block$4(get_each_context$4(e,s,t));const l=e=>transition_out(c[e],1,1,(()=>{c[e]=null})),u=e[19].default,d=create_slot(u,e,e[18],null);return{c(){t=element("div");for(let e=0;e<c.length;e+=1)c[e].c();r=space(),d&&d.c(),this.h()},l(e){t=claim_element(e,"DIV",{"data-block-id":!0,"data-block-type":!0,class:!0});var n=children(t);for(let e=0;e<c.length;e+=1)c[e].l(n);r=claim_space(n),d&&d.l(n),n.forEach(detach),this.h()},h(){attr(t,"data-block-id",n=e[4].dev?e[0]||e[1]:null),attr(t,"data-block-type",a=e[4].dev?"container":null),attr(t,"class",o="container "+("container"!==e[1]?"container-".concat(e[1]):"")+" "+e[5]),toggle_class(t,"export-text",e[4].svgonly&&"inline"===e[3]&&!e[6])},m(e,n){insert_hydration(e,t,n);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(t,null);append_hydration(t,r),d&&d.m(t,null),i=!0},p(e,p){if(142&p){let n;for(s=ensure_array_like(e[2]),n=0;n<s.length;n+=1){const a=get_each_context$4(e,s,n);c[n]?(c[n].p(a,p),transition_in(c[n],1)):(c[n]=create_each_block$4(a),c[n].c(),transition_in(c[n],1),c[n].m(t,r))}for(group_outros(),n=s.length;n<c.length;n+=1)l(n);check_outros()}d&&d.p&&(!i||262144&p)&&update_slot_base(d,u,e,e[18],i?get_slot_changes(u,e[18],p,null):get_all_dirty_from_scope(e[18]),null),(!i||19&p&&n!==(n=e[4].dev?e[0]||e[1]:null))&&attr(t,"data-block-id",n),(!i||16&p&&a!==(a=e[4].dev?"container":null))&&attr(t,"data-block-type",a),(!i||34&p&&o!==(o="container "+("container"!==e[1]?"container-".concat(e[1]):"")+" "+e[5]))&&attr(t,"class",o),(!i||122&p)&&toggle_class(t,"export-text",e[4].svgonly&&"inline"===e[3]&&!e[6])},i(e){if(!i){for(let e=0;e<s.length;e+=1)transition_in(c[e]);transition_in(d,e),i=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)transition_out(c[e]);transition_out(d,e),i=!1},d(e){e&&detach(t),destroy_each(c,e),d&&d.d(e)}}}function create_if_block_1$a(e){let t,r;return{c(){t=element("span"),r=element("wbr"),this.h()},l(e){t=claim_element(e,"SPAN",{class:!0}),children(t).forEach(detach),r=claim_element(e,"WBR",{}),this.h()},h(){attr(t,"class","separator")},m(e,n){insert_hydration(e,t,n),insert_hydration(e,r,n)},d(e){e&&(detach(t),detach(r))}}}function create_each_block$4(e){let t,r,n,a="inline"===e[3]&&!e[7]&&e[23]&&create_if_block_1$a();const o=[e[21],{parent:{key:e[1],type:"container"}}];let i={};for(let e=0;e<o.length;e+=1)i=assign$1(i,o[e]);return r=new Block({props:i}),{c(){a&&a.c(),t=empty(),create_component(r.$$.fragment)},l(e){a&&a.l(e),t=empty(),claim_component(r.$$.fragment,e)},m(e,o){a&&a.m(e,o),insert_hydration(e,t,o),mount_component(r,e,o),n=!0},p(e,n){"inline"===e[3]&&!e[7]&&e[23]?a||(a=create_if_block_1$a(),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null);const i=6&n?get_spread_update(o,[4&n&&get_spread_object(e[21]),2&n&&{parent:{key:e[1],type:"container"}}]):{};r.$set(i)},i(e){n||(transition_in(r.$$.fragment,e),n=!0)},o(e){transition_out(r.$$.fragment,e),n=!1},d(e){e&&detach(t),a&&a.d(e),destroy_component(r,e)}}}function create_fragment$J(e){let t,r,n=(e[2].length>0||e[10].default)&&create_if_block$k(e);return{c(){n&&n.c(),t=empty()},l(e){n&&n.l(e),t=empty()},m(e,a){n&&n.m(e,a),insert_hydration(e,t,a),r=!0},p(e,r){let[a]=r;e[2].length>0||e[10].default?n?(n.p(e,a),1028&a&&transition_in(n,1)):(n=create_if_block$k(e),n.c(),transition_in(n,1),n.m(t.parentNode,t)):n&&(group_outros(),transition_out(n,1,1,(()=>{n=null})),check_outros())},i(e){r||(transition_in(n),r=!0)},o(e){transition_out(n),r=!1},d(e){e&&detach(t),n&&n.d(e)}}}function instance$J(e,t,r){let n,a,o,i,s,c,l,u,d,p,{$$slots:h={},$$scope:f}=t;const m=compute_slots(h);let{id:_}=t,{key:g}=t,{parent:y={}}=t,{children:b=[]}=t,{defaultStyles:$={}}=t;const{themeData:v,emotion:k,flags:x}=getContext("visContainer");return component_subscribe(e,v,(e=>r(17,d=e))),component_subscribe(e,x,(e=>r(4,p=e))),e.$$set=e=>{"id"in e&&r(0,_=e.id),"key"in e&&r(1,g=e.key),"parent"in e&&r(11,y=e.parent),"children"in e&&r(2,b=e.children),"defaultStyles"in e&&r(12,$=e.defaultStyles),"$$scope"in e&&r(18,f=e.$$scope)},e.$$.update=()=>{131074&e.$$.dirty&&r(13,({getProp:n,css:a}=getThemeStyleHelpers(k,d,g)),n,(r(15,a),r(17,d),r(1,g))),133120&e.$$.dirty&&r(16,({getProp:o}=getThemeStyleHelpers(k,d,y.key)),o),8192&e.$$.dirty&&r(3,i=n("layout","flex-column")),8192&e.$$.dirty&&r(7,s=n("separator.hide",!1)),2048&e.$$.dirty&&r(14,c="menu"===y.type),67584&e.$$.dirty&&r(6,l="container"===y.type&&"inline"===o("layout","flex-column")),192538&e.$$.dirty&&r(5,u="function"==typeof a?a(_templateObject$e||(_templateObject$e=_taggedTemplateLiteral(["\n                  ","\n                  ","\n                  ","\n                  > .separator {\n                      margin: ",";\n                      color: ",";\n                      font-size: ",";\n                      position: relative;\n                      top: ",";\n                  }\n                  > .separator:before {\n                      content: ",";\n                  }\n                  ","\n              "])),typography(d,g),containerStyles(n,_objectSpread2({layout:"flex-column"},$)),c&&"inline"===i?"display: block;":"",n("separator.margin","0 0.2rem"),n("separator.color"),toPixel(n("separator.fontSize")),toPixel(n("separator.positionTop")),n("separator.text",'""'),p.static?"":linkStyles(n,d,g)):"")},[_,g,b,i,p,u,l,s,v,x,m,y,$,n,c,a,o,d,f,h]}class Container extends SvelteComponent{constructor(e){super(),init(this,e,instance$J,create_fragment$J,safe_not_equal,{id:0,key:1,parent:11,children:2,defaultStyles:12})}}function create_default_slot$8(e){let t,r;return t=new InlineEditable({props:{key:"metadata.describe.intro",additionalAllowedTags:e[5]}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p:noop,i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_fragment$I(e){let t,r;return t=new TextBlock({props:{tag:"p",editableKey:"metadata.describe.intro",id:e[0],key:e[1],type:e[2],parent:e[3],defaultStyles:e[4],$$slots:{default:[create_default_slot$8]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){let[n]=r;const a={};1&n&&(a.id=e[0]),2&n&&(a.key=e[1]),4&n&&(a.type=e[2]),8&n&&(a.parent=e[3]),16&n&&(a.defaultStyles=e[4]),64&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function instance$I(e,t,r){let{id:n}=t,{key:a}=t,{type:o}=t,{parent:i}=t,{defaultStyles:s={}}=t;return e.$$set=e=>{"id"in e&&r(0,n=e.id),"key"in e&&r(1,a=e.key),"type"in e&&r(2,o=e.type),"parent"in e&&r(3,i=e.parent),"defaultStyles"in e&&r(4,s=e.defaultStyles)},[n,a,o,i,s,["caption","details","summary"]]}let Description$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$I,create_fragment$I,safe_not_equal,{id:0,key:1,type:2,parent:3,defaultStyles:4})}};function create_if_block$j(e){let t,r;return t=new TextBlock({props:{id:e[0],key:e[1],type:e[2],parent:e[3],defaultStyles:e[4],tag:"a",href:"#/edit-in-datawrapper",supportsCaption:!0,defaultCaption:e[8]("blocks / edit-in-datawrapper")}}),t.$on("click",e[11]),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};1&r&&(n.id=e[0]),2&r&&(n.key=e[1]),4&r&&(n.type=e[2]),8&r&&(n.parent=e[3]),16&r&&(n.defaultStyles=e[4]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_fragment$H(e){let t,r,n=e[6]&&e[5]&&create_if_block$j(e);return{c(){n&&n.c(),t=empty()},l(e){n&&n.l(e),t=empty()},m(e,a){n&&n.m(e,a),insert_hydration(e,t,a),r=!0},p(e,r){let[a]=r;e[6]&&e[5]?n?(n.p(e,a),96&a&&transition_in(n,1)):(n=create_if_block$j(e),n.c(),transition_in(n,1),n.m(t.parentNode,t)):n&&(group_outros(),transition_out(n,1,1,(()=>{n=null})),check_outros())},i(e){r||(transition_in(n),r=!0)},o(e){transition_out(n),r=!1},d(e){e&&detach(t),n&&n.d(e)}}}function instance$H(e,t,r){let n,a,o,i,s,{id:c}=t,{key:l}=t,{type:u}=t,{parent:d}=t,{defaultStyles:p={}}=t;const{chart:h,__:f,config:m,postEvent:_}=getContext("visContainer");return component_subscribe(e,h,(e=>r(12,o=e))),component_subscribe(e,m,(e=>r(13,i=e))),component_subscribe(e,_,(e=>r(14,s=e))),e.$$set=e=>{"id"in e&&r(0,c=e.id),"key"in e&&r(1,l=e.key),"type"in e&&r(2,u=e.type),"parent"in e&&r(3,d=e.parent),"defaultStyles"in e&&r(4,p=e.defaultStyles)},e.$$.update=()=>{4096&e.$$.dirty&&r(6,n=get$1(o,"forkable",!1)),4096&e.$$.dirty&&r(5,a=get$1(o,"metadata.publish.blocks.edit-in-datawrapper",!1))},[c,l,u,d,p,a,n,h,f,m,_,function(e){s&&s("edit"),e.preventDefault();const t=document.createElement("form");t.setAttribute("method","post"),t.setAttribute("target","_blank"),t.setAttribute("action","//".concat(i.frontendDomain,"/create/"));const r=document.createElement("input");r.setAttribute("type","hidden"),r.setAttribute("name","template"),r.setAttribute("value",o.id),t.appendChild(r),document.body.appendChild(t),t.submit(),document.body.removeChild(t)},o]}let EditInDatawrapper$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$H,create_fragment$H,safe_not_equal,{id:0,key:1,type:2,parent:3,defaultStyles:4})}};var _templateObject$d,_templateObject2$2;function add_css$c(e){append_styles(e,"svelte-vtt796",".embed-code.inline-style.svelte-vtt796.svelte-vtt796{position:relative}.embed-code.svelte-vtt796.svelte-vtt796:not(.inline-style){position:absolute;bottom:35px;left:8px;box-shadow:0px 4px 10px rgba(0, 0, 0, 0.15);z-index:100}.embed-code.svelte-vtt796 .close.svelte-vtt796{border:0;padding:0;background:none;width:15px;height:15px;right:10px;top:10px;position:absolute;fill:#4f4f4f;cursor:pointer;border-radius:0}.embed-code.svelte-vtt796 .close.svelte-vtt796:hover,.embed-code.svelte-vtt796 .close.svelte-vtt796:focus{fill:#111}.embed-code.svelte-vtt796 .button.svelte-vtt796{cursor:pointer;border:1px solid #ccc;border-bottom-color:#b3b3b3;box-shadow:none;border-radius:4px;width:40px;height:30px;box-shadow:0px 1px 2px rgba(0, 0, 0, 0.05),\n            inset 0px 1px 0px rgba(255, 255, 255, 0.05)}.embed-code.svelte-vtt796 .button.svelte-vtt796:hover,.embed-code.svelte-vtt796 .button.svelte-vtt796:active{background-color:#e6e6e6}.embed-code.svelte-vtt796 .button svg.svelte-vtt796{width:20px;height:20px}.embed-code.svelte-vtt796 .button path.svelte-vtt796{fill:#4f4f4f}.embed-code.svelte-vtt796 p.svelte-vtt796{width:calc(100% - 30px)}.embed-code.svelte-vtt796 div.actions.svelte-vtt796{display:flex;justify-content:space-between}input.svelte-vtt796.svelte-vtt796{width:100%;background:#f5f5f5;border:1px solid #dddddd;box-sizing:border-box;border-radius:4px;padding:4px;font-size:inherit;line-height:1;color:#4f4f4f;margin-right:10px}")}function create_if_block_2$6(e){let t,r;return t=new TextBlock({props:{id:e[0],key:e[1],type:e[2],parent:e[3],defaultStyles:e[4],tag:"a",href:"#embed",supportsCaption:!0,defaultCaption:e[14]("blocks / embed")}}),t.$on("click",e[19]),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};1&r&&(n.id=e[0]),2&r&&(n.key=e[1]),4&r&&(n.type=e[2]),8&r&&(n.parent=e[3]),16&r&&(n.defaultStyles=e[4]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block$i(e){let t,r,n,a,o,i,s,c,l,u,d,p,h,f=e[15](e[5].caption||e[14]("blocks / embed / caption"))+"",m='<svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg" class="svelte-vtt796"><path d="M15 0c-1.645 0-3 1.355-3 3H8C6.346 3 5 4.346 5 6v17c0 1.654 1.346 3 3\n                        3h14c1.654 0 3-1.346 3-3V6c0-1.654-1.346-3-3-3h-4c0-1.645-1.355-3-3-3zm0\n                        2c.564 0 1 .436 1 1 0 .564-.436 1-1 1-.564 0-1-.436-1-1 0-.564.436-1 1-1zM8\n                        5h4v1a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V5h4c.551 0 1 .449 1 1v17c0 .551-.449 1-1\n                        1H8c-.551 0-1-.449-1-1V6c0-.551.449-1 1-1zm4 7a1 1 0 1 0 0 2 1 1 0 0 0\n                        0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm8 0a1\n                        1 0 1 0 0 2 1 1 0 0 0 0-2zm-16 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm16 0a1 1 0 1 0\n                        0 2 1 1 0 0 0 0-2zm-16 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm16 0a1 1 0 1 0 0 2 1 1\n                        0 0 0 0-2zm0 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-16 4a1 1 0 1 0 0 2 1 1 0 0 0\n                        0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1\n                        1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" class="svelte-vtt796"></path></svg>',_=!e[6]&&!e[9]&&create_if_block_1$9(e);return{c(){t=element("div"),_&&_.c(),r=space(),n=element("p"),a=new HtmlTagHydration(!1),i=space(),s=element("div"),c=element("input"),l=space(),u=element("button"),u.innerHTML=m,this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var o=children(t);_&&_.l(o),r=claim_space(o),n=claim_element(o,"P",{class:!0});var d=children(n);a=claim_html_tag(d,!1),d.forEach(detach),i=claim_space(o),s=claim_element(o,"DIV",{class:!0});var p=children(s);c=claim_element(p,"INPUT",{type:!0,class:!0}),l=claim_space(p),u=claim_element(p,"BUTTON",{class:!0,"data-uid":!0,"data-svelte-h":!0}),"svelte-1th1a86"!==get_svelte_dataset(u)&&(u.innerHTML=m),p.forEach(detach),o.forEach(detach),this.h()},h(){a.a=null,attr(n,"class",o=null_to_empty(e[11])+" svelte-vtt796"),attr(c,"type","text"),c.readOnly=!0,c.value=e[10],attr(c,"class","svelte-vtt796"),attr(u,"class","button svelte-vtt796"),attr(u,"data-uid","copy"),attr(s,"class","actions svelte-vtt796"),attr(t,"class",d="embed-code "+e[12]+" svelte-vtt796"),toggle_class(t,"inline-style",e[6]||e[9])},m(o,d){insert_hydration(o,t,d),_&&_.m(t,null),append_hydration(t,r),append_hydration(t,n),a.m(f,n),append_hydration(t,i),append_hydration(t,s),append_hydration(s,c),e[28](c),append_hydration(s,l),append_hydration(s,u),p||(h=listen(u,"click",e[20]),p=!0)},p(e,i){e[6]||e[9]?_&&(_.d(1),_=null):_?_.p(e,i):(_=create_if_block_1$9(e),_.c(),_.m(t,r)),32&i&&f!==(f=e[15](e[5].caption||e[14]("blocks / embed / caption"))+"")&&a.p(f),2048&i&&o!==(o=null_to_empty(e[11])+" svelte-vtt796")&&attr(n,"class",o),1024&i&&c.value!==e[10]&&(c.value=e[10]),4096&i&&d!==(d="embed-code "+e[12]+" svelte-vtt796")&&attr(t,"class",d),4672&i&&toggle_class(t,"inline-style",e[6]||e[9])},d(r){r&&detach(t),_&&_.d(),e[28](null),p=!1,h()}}}function create_if_block_1$9(e){let t,r,n,a='<svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg" class="svelte-vtt796"><path d="M7 4a.995.995 0 0 0-.707.293l-2 2a.999.999 0 0 0 0 1.414L11.586 15l-7.293\n                    7.293a.999.999 0 0 0 0 1.414l2 2a.999.999 0 0 0 1.414 0L15 18.414l7.293\n                    7.293a.999.999 0 0 0 1.414 0l2-2a.999.999 0 0 0 0-1.414L18.414\n                    15l7.293-7.293a.999.999 0 0 0 0-1.414l-2-2a.999.999 0 0 0-1.414 0L15 11.586\n                    7.707 4.293A.996.996 0 0 0 7 4z" class="svelte-vtt796"></path></svg>';return{c(){t=element("button"),t.innerHTML=a,this.h()},l(e){t=claim_element(e,"BUTTON",{"data-uid":!0,class:!0,"data-svelte-h":!0}),"svelte-1iucck7"!==get_svelte_dataset(t)&&(t.innerHTML=a),this.h()},h(){attr(t,"data-uid","close"),attr(t,"class","close svelte-vtt796")},m(a,o){insert_hydration(a,t,o),r||(n=listen(t,"click",e[19]),r=!0)},p:noop,d(e){e&&detach(t),r=!1,n()}}}function create_fragment$G(e){let t,r,n,a=!e[9]&&create_if_block_2$6(e),o=(e[9]||e[7])&&create_if_block$i(e);return{c(){a&&a.c(),t=space(),o&&o.c(),r=empty()},l(e){a&&a.l(e),t=claim_space(e),o&&o.l(e),r=empty()},m(e,i){a&&a.m(e,i),insert_hydration(e,t,i),o&&o.m(e,i),insert_hydration(e,r,i),n=!0},p(e,n){let[i]=n;e[9]?a&&(group_outros(),transition_out(a,1,1,(()=>{a=null})),check_outros()):a?(a.p(e,i),512&i&&transition_in(a,1)):(a=create_if_block_2$6(e),a.c(),transition_in(a,1),a.m(t.parentNode,t)),e[9]||e[7]?o?o.p(e,i):(o=create_if_block$i(e),o.c(),o.m(r.parentNode,r)):o&&(o.d(1),o=null)},i(e){n||(transition_in(a),n=!0)},o(e){transition_out(a),n=!1},d(e){e&&(detach(t),detach(r)),a&&a.d(e),o&&o.d(e)}}}function instance$G(e,t,r){let n,a,o,i,s,c,l,u,d,p,h,f,m,_;const{chart:g,__:y,clean:b,flags:$,themeData:v,emotion:k,postEvent:x}=getContext("visContainer");component_subscribe(e,g,(e=>r(25,f=e))),component_subscribe(e,$,(e=>r(27,_=e))),component_subscribe(e,v,(e=>r(26,m=e))),component_subscribe(e,x,(e=>r(29,h=e)));let w,{id:q}=t,{key:S}=t,{type:E}=t,{parent:R={}}=t,{defaultStyles:T={}}=t,C=!1;return e.$$set=e=>{"id"in e&&r(0,q=e.id),"key"in e&&r(1,S=e.key),"type"in e&&r(2,E=e.type),"parent"in e&&r(3,R=e.parent),"defaultStyles"in e&&r(4,T=e.defaultStyles)},e.$$.update=()=>{8&e.$$.dirty&&r(6,n="menu"===R.type),67108866&e.$$.dirty&&r(22,({css:a,getProp:o}=getThemeStyleHelpers(k,m,S,"content")),a,(r(24,o),r(26,m),r(1,S))),67108866&e.$$.dirty&&r(21,({getProp:i}=getThemeStyleHelpers(k,m,S,["content","caption"])),i),134217792&e.$$.dirty&&r(23,s=_objectSpread2(_objectSpread2({background:_.dark?"#222222":"#ffffff",padding:"15px 20px"},n?{}:{border:"1px solid #e5e5e5",borderRadius:"4px",maxWidth:"350px"}),{},{typography:_objectSpread2({lineHeight:1.43},n?{}:{fontSize:"14px"})})),96468994&e.$$.dirty&&r(12,c="function"==typeof a?a(_templateObject$d||(_templateObject$d=_taggedTemplateLiteral(["\n                  ","\n                  ","\n              "])),typography(m,S,s.typography,["content"]),sharedContainerStyles(o,s)):""),73400322&e.$$.dirty&&r(11,l="function"==typeof a?a(_templateObject2$2||(_templateObject2$2=_taggedTemplateLiteral(["\n                  ","\n                  ","\n              "])),typography(m,S,{},["content","caption"]),sharedContainerStyles(i,{margin:"0px 0px 12px 0px"})):""),67108866&e.$$.dirty&&r(5,u=get$1(m,"blocks.".concat(S,".options"),{})),33554432&e.$$.dirty&&r(10,d=get$1(f,"metadata.publish.embed-codes.embed-method-responsive","\x3c!-- embed code will be here after publishing --\x3e")),32&e.$$.dirty&&r(9,p=get$1(u,"contentInline",!1))},[q,S,E,R,T,u,n,C,w,p,d,l,c,g,y,b,$,v,x,function(e){e.preventDefault(),r(7,C=!C),h&&h("embed.modal.".concat(C?"open":"close"))},function(){h&&h("embed.copy"),w.focus(),w.select(),document.execCommand("copy")},i,a,s,o,f,m,_,function(e){binding_callbacks[e?"unshift":"push"]((()=>{w=e,r(8,w)}))}]}let Embed$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$G,create_fragment$G,safe_not_equal,{id:0,key:1,type:2,parent:3,defaultStyles:4},add_css$c)}};var _templateObject$c;function add_css$b(e){append_styles(e,"svelte-1qkkqbr","div.svelte-1qkkqbr{overflow:hidden}")}function create_if_block$h(e){let t,r,n,a,o,i,s;const c=[create_if_block_1$8,create_if_block_2$5,create_else_block$5],l=[];function u(e,t){return e[7]===TYPE_BUTTONS?0:e[7]===TYPE_TIMESCALE?1:2}return r=u(e),n=l[r]=c[r](e),{c(){t=element("div"),n.c(),this.h()},l(e){t=claim_element(e,"DIV",{class:!0,"data-block-id":!0,"data-block-type":!0});var r=children(t);n.l(r),r.forEach(detach),this.h()},h(){attr(t,"class",a=null_to_empty(e[6])+" svelte-1qkkqbr"),attr(t,"data-block-id",o=e[4].dev?e[1]||e[2]:null),attr(t,"data-block-type",i=e[4].dev?e[0]:null)},m(e,n){insert_hydration(e,t,n),l[r].m(t,null),s=!0},p(e,d){let p=r;r=u(e),r===p?l[r].p(e,d):(group_outros(),transition_out(l[p],1,1,(()=>{l[p]=null})),check_outros(),n=l[r],n?n.p(e,d):(n=l[r]=c[r](e),n.c()),transition_in(n,1),n.m(t,null)),(!s||64&d[0]&&a!==(a=null_to_empty(e[6])+" svelte-1qkkqbr"))&&attr(t,"class",a),(!s||22&d[0]&&o!==(o=e[4].dev?e[1]||e[2]:null))&&attr(t,"data-block-id",o),(!s||17&d[0]&&i!==(i=e[4].dev?e[0]:null))&&attr(t,"data-block-type",i)},i(e){s||(transition_in(n),s=!0)},o(e){transition_out(n),s=!1},d(e){e&&detach(t),l[r].d()}}}function create_else_block$5(e){let t,r;return t=new FilterSelect({props:{active:e[16],column:e[3],textDirection:e[8],purifyHtml:e[15]}}),t.$on("change",e[17]),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};8&r[0]&&(n.column=e[3]),256&r[0]&&(n.textDirection=e[8]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block_2$5(e){let t,r;return t=new FilterTimescale({props:{active:e[16],column:e[3],textDirection:e[8]}}),t.$on("change",e[17]),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};8&r[0]&&(n.column=e[3]),256&r[0]&&(n.textDirection=e[8]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block_1$8(e){let t,r;return t=new FilterButtons({props:{active:e[16],column:e[3],textDirection:e[8],purifyHtml:e[15]}}),t.$on("change",e[17]),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};8&r[0]&&(n.column=e[3]),256&r[0]&&(n.textDirection=e[8]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_fragment$F(e){let t,r,n=e[5]&&create_if_block$h(e);return{c(){n&&n.c(),t=empty()},l(e){n&&n.l(e),t=empty()},m(e,a){n&&n.m(e,a),insert_hydration(e,t,a),r=!0},p(e,r){e[5]?n?(n.p(e,r),32&r[0]&&transition_in(n,1)):(n=create_if_block$h(e),n.c(),transition_in(n,1),n.m(t.parentNode,t)):n&&(group_outros(),transition_out(n,1,1,(()=>{n=null})),check_outros())},i(e){r||(transition_in(n),r=!0)},o(e){transition_out(n),r=!1},d(e){e&&detach(t),n&&n.d(e)}}}const TYPE_AUTO="auto",TYPE_SELECT="select",TYPE_BUTTONS="buttons",TYPE_TIMESCALE="timescale";function instance$F(e,t,r){let n,a,o,i,s,c,l,u,d,p,h,f,m,_,g,y,b,$,v,k;const{postEvent:x,textDirection:w,filterUI:q,visualization:S,themeData:E,emotion:R,flags:T,clean:C}=getContext("visContainer");component_subscribe(e,x,(e=>r(30,y=e))),component_subscribe(e,w,(e=>r(8,k=e))),component_subscribe(e,q,(e=>r(5,$=e))),component_subscribe(e,S,(e=>r(28,v=e))),component_subscribe(e,E,(e=>r(27,g=e))),component_subscribe(e,T,(e=>r(4,_=e)));let{id:A}=t,{key:I}=t,{type:M}=t;const D=writable(0);return component_subscribe(e,D,(e=>r(31,b=e))),e.$$set=e=>{"id"in e&&r(1,A=e.id),"key"in e&&r(2,I=e.key),"type"in e&&r(0,M=e.type)},e.$$.update=()=>{268435456&e.$$.dirty[0]&&(n=v),32&e.$$.dirty[0]&&r(0,M=$.type),32&e.$$.dirty[0]&&r(3,a=$.column),9&e.$$.dirty[0]&&r(7,o=M===TYPE_AUTO?"date"===a.type()?TYPE_TIMESCALE:a.length<6?TYPE_BUTTONS:TYPE_SELECT:M),134217732&e.$$.dirty[0]&&r(19,({getProp:i,css:s}=getThemeStyleHelpers(R,g,I)),i,(r(26,s),r(27,g),r(2,I))),16&e.$$.dirty[0]&&r(24,c=_.dark?"#eee":"#000"),16&e.$$.dirty[0]&&r(25,l=_.dark?"#ddd":"#222"),16&e.$$.dirty[0]&&r(23,u=_.dark?"#a4a4a4":"#555"),16&e.$$.dirty[0]&&r(20,(_.dark,d="#888")),16&e.$$.dirty[0]&&r(21,p=_.dark?"#333":"#ebebeb"),16&e.$$.dirty[0]&&r(18,h=_.dark?"#5e5e5e":"#ccc"),16&e.$$.dirty[0]&&r(22,f=_.dark?"#222222":"#ffffff"),133955584&e.$$.dirty[0]&&r(6,m=s?s(_templateObject$c||(_templateObject$c=_taggedTemplateLiteral(["\n              .filter-ui.filter-links {\n                  border-bottom: ",";\n                  font-size: ",";\n              }\n              .filter-ui.filter-links a {\n                  color: ",";\n              }\n              .filter-ui.filter-links a:hover {\n                  color: ",";\n                  font-weight: ",";\n              }\n              .filter-ui.filter-links a.active {\n                  color: ",";\n                  font-weight: ",";\n                  border-bottom: ",";\n              }\n              /* filter UI select */\n              .filter-ui.filter-select {\n                  background-color: ",";\n                  border-radius: ",";\n                  border: ",";\n                  color: ",";\n                  font-size: inherit;\n                  padding: ",";\n              }\n              /* filter UI timeline */\n              .filter-ui.filter-timescale .point {\n                  border: ",";\n                  background: ",";\n              }\n              .filter-ui.filter-timescale .point:hover {\n                  background: ",";\n              }\n\n              .filter-ui.filter-timescale .point.active {\n                  background: ",";\n                  border: ",";\n              }\n\n              .filter-ui.filter-timescale .line {\n                  background: ",";\n              }\n          "])),i("tabs.border.bottom","1px solid ".concat(h)),toPixel(i("tabs.fontSize")),i("tabs.color",u),i("tabs.hover.color",l),i("tabs.hover.fontWeight"),i("tabs.active.color",c),i("tabs.active.fontWeight","bold"),i("tabs.active.border.bottom","2px solid ".concat(u)),i("colors.background",f),i("select.borderRadius","4px"),i("select.border","1px solid ".concat(h)),i("select.textColor","inherit"),i("select.padding","4px 6px"),i("point.buttons.border","1px solid ".concat(h)),i("point.buttons.background",i("colors.background",f)),i("point.buttons.hover.background",p),i("point.buttons.active.background",h),i("point.buttons.active.border","1px solid ".concat(d)),i("point.line.color",h)):"")},[M,A,I,a,_,$,m,o,k,x,w,q,S,E,T,C,D,function(e){n.__lastRow=b,n.update(),y&&y("column:change",e.detail),n.fire("column:change",e.detail)},h,i,d,p,f,u,c,l,s,g,v]}class FilterUI extends SvelteComponent{constructor(e){super(),init(this,e,instance$F,create_fragment$F,safe_not_equal,{id:1,key:2,type:0},add_css$b,[-1,-1])}}function getDownloadCSVHandler(e){let{$postEvent:t,$chart:r,$dwChart:n,$teamPublicSettings:a,$themeData:o,downloadData:i=!0}=e;return e=>{if(t&&t("download",{type:"csv"}),!i)return;const a=get$1(r,"externalData"),c=a&&n.asset("dataset.".concat(get$1(r.metadata,"data.json")?"json":"csv"));n&&(a||n.dataset)&&(!function(e){let{source:t,sourceType:r="content",filename:n}=e;if(window.navigator.msSaveOrOpenBlob&&"content"===r)window.navigator.msSaveOrOpenBlob(new Blob([t]),n);else{const e=document.createElement("a");e.href="url"===r?t:URL.createObjectURL(new Blob([t])),e.download=n,e.click()}}({source:a?c||a:s(),sourceType:a&&!c?"url":"content",filename:getFilename({$chart:r,$themeData:o})}),e.preventDefault())};function s(){const e={};a.downloadDataLocalized&&(e.numeral=n.vis().libraries().numeral);return"\ufeff"+n.dataset().csv(e)}}function getFilename(e){let{$chart:t,$themeData:r}=e;const n="data-".concat(t.id,".csv"),a=get$1(r,2===r.version?"blocks.getTheData.options.filename":"options.blocks.get-the-data.data.filename","").replace(/%custom_(.*?)%/g,((e,r)=>get$1(t,"metadata.custom.".concat(r),""))).replace(/%chart_id%/g,t.id);return a&&".csv"!==a?a:n}function create_fragment$E(e){let t,r;return t=new TextBlock({props:{tag:"a",href:e[5]||"javascript:void(0)",supportsCaption:!0,defaultCaption:e[11]("blocks / get-the-data"),id:e[0],key:e[1],type:e[2],parent:e[3],extraAttributes:e[7],defaultStyles:e[4]}}),t.$on("click",(function(){is_function(e[6])&&e[6].apply(this,arguments)})),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(r,n){let[a]=n;e=r;const o={};32&a&&(o.href=e[5]||"javascript:void(0)"),1&a&&(o.id=e[0]),2&a&&(o.key=e[1]),4&a&&(o.type=e[2]),8&a&&(o.parent=e[3]),128&a&&(o.extraAttributes=e[7]),16&a&&(o.defaultStyles=e[4]),t.$set(o)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function instance$E(e,t,r){let n,a,o,i,s,c,l,u;const{chart:d,dwChart:p,themeData:h,__:f,postEvent:m,teamPublicSettings:_}=getContext("visContainer");component_subscribe(e,d,(e=>r(17,l=e))),component_subscribe(e,p,(e=>r(16,c=e))),component_subscribe(e,h,(e=>r(14,i=e))),component_subscribe(e,m,(e=>r(18,u=e))),component_subscribe(e,_,(e=>r(15,s=e)));let{id:g}=t,{key:y}=t,{type:b}=t,{parent:$}=t,{defaultStyles:v=!1}=t;return e.$$set=e=>{"id"in e&&r(0,g=e.id),"key"in e&&r(1,y=e.key),"type"in e&&r(2,b=e.type),"parent"in e&&r(3,$=e.parent),"defaultStyles"in e&&r(4,v=e.defaultStyles)},e.$$.update=()=>{var t;65536&e.$$.dirty&&r(5,n=null===(t=c)||void 0===t?void 0:t.datasetSourceUrl());147488&e.$$.dirty&&r(7,a=_objectSpread2({target:n?"_blank":"_self"},n?{download:getFilename({$chart:l,$themeData:i})}:{})),507936&e.$$.dirty&&r(6,o=getDownloadCSVHandler({$postEvent:u,$chart:l,$dwChart:c,$teamPublicSettings:s,$themeData:i,downloadData:!n}))},[g,y,b,$,v,n,o,a,d,p,h,f,m,_,i,s,c,l,u]}let GetTheData$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$E,create_fragment$E,safe_not_equal,{id:0,key:1,type:2,parent:3,defaultStyles:4})}};function create_default_slot$7(e){let t,r;return t=new InlineEditable({props:{key:"title"}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p:noop,i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_fragment$D(e){let t,r;return t=new TextBlock({props:{tag:"h3",id:e[0],key:e[1],type:e[2],parent:e[3],defaultStyles:e[4],$$slots:{default:[create_default_slot$7]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){let[n]=r;const a={};1&n&&(a.id=e[0]),2&n&&(a.key=e[1]),4&n&&(a.type=e[2]),8&n&&(a.parent=e[3]),16&n&&(a.defaultStyles=e[4]),32&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function instance$D(e,t,r){let{id:n}=t,{key:a}=t,{type:o}=t,{parent:i}=t,{defaultStyles:s={}}=t;return e.$$set=e=>{"id"in e&&r(0,n=e.id),"key"in e&&r(1,a=e.key),"type"in e&&r(2,o=e.type),"parent"in e&&r(3,i=e.parent),"defaultStyles"in e&&r(4,s=e.defaultStyles)},[n,a,o,i,s]}let Headline$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$D,create_fragment$D,safe_not_equal,{id:0,key:1,type:2,parent:3,defaultStyles:4})}};function create_else_block$4(e){let t;const r=e[5].default,n=create_slot(r,e,e[4],null);return{c(){n&&n.c()},l(e){n&&n.l(e)},m(e,r){n&&n.m(e,r),t=!0},p(e,a){n&&n.p&&(!t||16&a)&&update_slot_base(n,r,e,e[4],t?get_slot_changes(r,e[4],a,null):get_all_dirty_from_scope(e[4]),null)},i(e){t||(transition_in(n,e),t=!0)},o(e){transition_out(n,e),t=!1},d(e){n&&n.d(e)}}}function create_if_block$g(e){let t,r,n;const a=e[5].default,o=create_slot(a,e,e[4],null);let i=[{href:e[1]},{class:e[0]},{title:r=e[2]||null},{target:"_blank"},{rel:"noopener nofollow"},e[3]],s={};for(let e=0;e<i.length;e+=1)s=assign$1(s,i[e]);return{c(){t=element("a"),o&&o.c(),this.h()},l(e){t=claim_element(e,"A",{href:!0,class:!0,title:!0,target:!0,rel:!0});var r=children(t);o&&o.l(r),r.forEach(detach),this.h()},h(){set_attributes(t,s)},m(e,r){insert_hydration(e,t,r),o&&o.m(t,null),n=!0},p(e,c){o&&o.p&&(!n||16&c)&&update_slot_base(o,a,e,e[4],n?get_slot_changes(a,e[4],c,null):get_all_dirty_from_scope(e[4]),null),set_attributes(t,s=get_spread_update(i,[(!n||2&c)&&{href:e[1]},(!n||1&c)&&{class:e[0]},(!n||4&c&&r!==(r=e[2]||null))&&{title:r},{target:"_blank"},{rel:"noopener nofollow"},8&c&&e[3]]))},i(e){n||(transition_in(o,e),n=!0)},o(e){transition_out(o,e),n=!1},d(e){e&&detach(t),o&&o.d(e)}}}function create_fragment$C(e){let t,r,n,a;const o=[create_if_block$g,create_else_block$4],i=[];function s(e,t){return e[1]?0:1}return t=s(e),r=i[t]=o[t](e),{c(){r.c(),n=empty()},l(e){r.l(e),n=empty()},m(e,r){i[t].m(e,r),insert_hydration(e,n,r),a=!0},p(e,a){let[c]=a,l=t;t=s(e),t===l?i[t].p(e,c):(group_outros(),transition_out(i[l],1,1,(()=>{i[l]=null})),check_outros(),r=i[t],r?r.p(e,c):(r=i[t]=o[t](e),r.c()),transition_in(r,1),r.m(n.parentNode,n))},i(e){a||(transition_in(r),a=!0)},o(e){transition_out(r),a=!1},d(e){e&&detach(n),i[t].d(e)}}}function instance$C(e,t,r){const n=["class","url","linkTitle"];let a=compute_rest_props(t,n),{$$slots:o={},$$scope:i}=t,{class:s}=t,{url:c}=t,{linkTitle:l}=t;return e.$$set=e=>{t=assign$1(assign$1({},t),exclude_internal_props(e)),r(3,a=compute_rest_props(t,n)),"class"in e&&r(0,s=e.class),"url"in e&&r(1,c=e.url),"linkTitle"in e&&r(2,l=e.linkTitle),"$$scope"in e&&r(4,i=e.$$scope)},[s,c,l,a,i,o]}class LinkWrap extends SvelteComponent{constructor(e){super(),init(this,e,instance$C,create_fragment$C,safe_not_equal,{class:0,url:1,linkTitle:2})}}var _templateObject$b,_templateObject$a;function create_default_slot$6(e){let t,r,n,a,o,i;return{c(){t=element("img"),this.h()},l(e){t=claim_element(e,"IMG",{class:!0,src:!0,alt:!0,"data-block-id":!0,"data-block-type":!0}),this.h()},h(){attr(t,"class",r=(e[4].url?"":"block-".concat(e[1]))+" "+e[3]),src_url_equal(t.src,n=e[4].src)||attr(t,"src",n),attr(t,"alt",a=e[4].altText),attr(t,"data-block-id",o=e[5].dev?e[0]||e[1]:null),attr(t,"data-block-type",i=e[5].dev?e[2]:null)},m(e,r){insert_hydration(e,t,r)},p(e,s){26&s&&r!==(r=(e[4].url?"":"block-".concat(e[1]))+" "+e[3])&&attr(t,"class",r),16&s&&!src_url_equal(t.src,n=e[4].src)&&attr(t,"src",n),16&s&&a!==(a=e[4].altText)&&attr(t,"alt",a),35&s&&o!==(o=e[5].dev?e[0]||e[1]:null)&&attr(t,"data-block-id",o),36&s&&i!==(i=e[5].dev?e[2]:null)&&attr(t,"data-block-type",i)},d(e){e&&detach(t)}}}function create_fragment$B(e){let t,r;return t=new LinkWrap({props:{id:e[0],type:e[2],class:e[4].url?"block-".concat(e[1]):"",url:e[4].url,linkTitle:e[4].linkTitle,$$slots:{default:[create_default_slot$6]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){let[n]=r;const a={};1&n&&(a.id=e[0]),4&n&&(a.type=e[2]),18&n&&(a.class=e[4].url?"block-".concat(e[1]):""),16&n&&(a.url=e[4].url),16&n&&(a.linkTitle=e[4].linkTitle),4159&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function instance$B(e,t,r){let n,a,o,i,s,c;const{themeData:l,emotion:u,flags:d}=getContext("visContainer");component_subscribe(e,l,(e=>r(10,s=e))),component_subscribe(e,d,(e=>r(5,c=e)));let{id:p}=t,{key:h}=t,{type:f}=t;return e.$$set=e=>{"id"in e&&r(0,p=e.id),"key"in e&&r(1,h=e.key),"type"in e&&r(2,f=e.type)},e.$$.update=()=>{1026&e.$$.dirty&&r(4,n=get$1(s,"blocks.".concat(h,".options"))),1026&e.$$.dirty&&r(8,({getProp:a,css:o}=getThemeStyleHelpers(u,s,h)),a,(r(9,o),r(10,s),r(1,h))),768&e.$$.dirty&&r(3,i="function"==typeof o?o(_templateObject$b||(_templateObject$b=_taggedTemplateLiteral(["\n                  ","\n                  width: ",";\n                  height: ",";\n              "])),sharedContainerStyles(a),toPixel(a("width","auto")),toPixel(a("height","auto"))):"")},[p,h,f,i,n,c,l,d,a,o,s]}class Image extends SvelteComponent{constructor(e){super(),init(this,e,instance$B,create_fragment$B,safe_not_equal,{id:0,key:1,type:2})}}function create_if_block$f(e){let t,r,n,a=e[4].image&&create_if_block_2$4(e),o=e[4].text&&create_if_block_1$7(e);return{c(){a&&a.c(),t=space(),o&&o.c(),r=empty()},l(e){a&&a.l(e),t=claim_space(e),o&&o.l(e),r=empty()},m(e,i){a&&a.m(e,i),insert_hydration(e,t,i),o&&o.m(e,i),insert_hydration(e,r,i),n=!0},p(e,n){e[4].image?a?a.p(e,n):(a=create_if_block_2$4(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null),e[4].text?o?(o.p(e,n),16&n&&transition_in(o,1)):(o=create_if_block_1$7(e),o.c(),transition_in(o,1),o.m(r.parentNode,r)):o&&(group_outros(),transition_out(o,1,1,(()=>{o=null})),check_outros())},i(e){n||(transition_in(o),n=!0)},o(e){transition_out(o),n=!1},d(e){e&&(detach(t),detach(r)),a&&a.d(e),o&&o.d(e)}}}function create_if_block_2$4(e){let t,r,n,a,o,i,s;return{c(){t=element("img"),this.h()},l(e){t=claim_element(e,"IMG",{"data-block-id":!0,"data-block-type":!0,class:!0,src:!0,height:!0,alt:!0}),this.h()},h(){attr(t,"data-block-id",r=e[5].dev?e[0]||e[1]:null),attr(t,"data-block-type",n=e[5].dev?e[2]:null),attr(t,"class",a=""+((e[4].url?"":"block-".concat(e[1]," "))+e[6])),src_url_equal(t.src,o=e[4].image.src)||attr(t,"src",o),attr(t,"height",i=e[4].image.height),attr(t,"alt",s=e[4].image.altText||e[7].title)},m(e,r){insert_hydration(e,t,r)},p(e,c){35&c&&r!==(r=e[5].dev?e[0]||e[1]:null)&&attr(t,"data-block-id",r),36&c&&n!==(n=e[5].dev?e[2]:null)&&attr(t,"data-block-type",n),82&c&&a!==(a=""+((e[4].url?"":"block-".concat(e[1]," "))+e[6]))&&attr(t,"class",a),16&c&&!src_url_equal(t.src,o=e[4].image.src)&&attr(t,"src",o),16&c&&i!==(i=e[4].image.height)&&attr(t,"height",i),144&c&&s!==(s=e[4].image.altText||e[7].title)&&attr(t,"alt",s)},d(e){e&&detach(t)}}}function create_if_block_1$7(e){let t,r;return t=new TextBlock({props:{skipBlockClass:!!e[4].url,tag:"span",id:e[0],key:e[1],type:e[2],parent:e[3],$$slots:{default:[create_default_slot_1$2]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};16&r&&(n.skipBlockClass=!!e[4].url),1&r&&(n.id=e[0]),2&r&&(n.key=e[1]),4&r&&(n.type=e[2]),8&r&&(n.parent=e[3]),1048592&r&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_default_slot_1$2(e){let t,r,n=clean(e[4].text)+"";return{c(){t=new HtmlTagHydration(!1),r=empty(),this.h()},l(e){t=claim_html_tag(e,!1),r=empty(),this.h()},h(){t.a=r},m(e,a){t.m(n,e,a),insert_hydration(e,r,a)},p(e,r){16&r&&n!==(n=clean(e[4].text)+"")&&t.p(n)},d(e){e&&(detach(r),t.d())}}}function create_default_slot$5(e){let t,r,n=e[4]&&create_if_block$f(e);return{c(){n&&n.c(),t=empty()},l(e){n&&n.l(e),t=empty()},m(e,a){n&&n.m(e,a),insert_hydration(e,t,a),r=!0},p(e,r){e[4]?n?(n.p(e,r),16&r&&transition_in(n,1)):(n=create_if_block$f(e),n.c(),transition_in(n,1),n.m(t.parentNode,t)):n&&(group_outros(),transition_out(n,1,1,(()=>{n=null})),check_outros())},i(e){r||(transition_in(n),r=!0)},o(e){transition_out(n),r=!1},d(e){e&&detach(t),n&&n.d(e)}}}function create_fragment$A(e){let t,r;return t=new LinkWrap({props:{url:e[4].url,class:"block-"+e[1],linkTitle:e[4].linkTitle||e[4].url,$$slots:{default:[create_default_slot$5]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){let[n]=r;const a={};16&n&&(a.url=e[4].url),2&n&&(a.class="block-"+e[1]),16&n&&(a.linkTitle=e[4].linkTitle||e[4].url),1048831&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function instance$A(e,t,r){let n,a,o,i,s,c,l,u,d,p,h;const{chart:f,themeData:m,flags:_,theme:g,emotion:y}=getContext("visContainer");component_subscribe(e,f,(e=>r(18,p=e))),component_subscribe(e,m,(e=>r(17,d=e))),component_subscribe(e,_,(e=>r(5,u=e))),component_subscribe(e,g,(e=>r(7,h=e)));let{id:b}=t,{key:$}=t,{type:v}=t,{parent:k}=t;return e.$$set=e=>{"id"in e&&r(0,b=e.id),"key"in e&&r(1,$=e.key),"type"in e&&r(2,v=e.type),"parent"in e&&r(3,k=e.parent)},e.$$.update=()=>{131074&e.$$.dirty&&r(15,({getProp:n,css:a}=getThemeStyleHelpers(y,d,$,"image")),n,(r(16,a),r(17,d),r(1,$))),98304&e.$$.dirty&&r(6,o="function"==typeof a?a(_templateObject$a||(_templateObject$a=_taggedTemplateLiteral(["\n                  ","\n              "])),sharedContainerStyles(n)):""),262144&e.$$.dirty&&r(14,i=get$1(p,"metadata.publish.blocks.logo",{})),131074&e.$$.dirty&&r(12,s=get$1(d,"blocks.".concat($,".options.variants"),[])),16416&e.$$.dirty&&r(13,c=u.logoId||i.id),12288&e.$$.dirty&&r(4,l=1===s.length?s[0]:s.find((e=>e.id===c))||s[0]||{})},[b,$,v,k,l,u,o,h,f,m,_,g,s,c,i,n,a,d,p]}let Logo$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$A,create_fragment$A,safe_not_equal,{id:0,key:1,type:2,parent:3})}};function create_default_slot$4(e){let t,r,n=clean(e[4])+"";return{c(){t=new HtmlTagHydration(!1),r=empty(),this.h()},l(e){t=claim_html_tag(e,!1),r=empty(),this.h()},h(){t.a=r},m(e,a){t.m(n,e,a),insert_hydration(e,r,a)},p(e,r){16&r&&n!==(n=clean(e[4])+"")&&t.p(n)},d(e){e&&(detach(r),t.d())}}}function create_fragment$z(e){let t,r;return t=new TextBlock({props:{id:e[0],key:e[1],type:e[2],parent:e[3],tag:"span",supportsCaption:!0,defaultCaption:"".concat(e[5]("blocks / map-attribution"),":"),$$slots:{default:[create_default_slot$4]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){let[n]=r;const a={};1&n&&(a.id=e[0]),2&n&&(a.key=e[1]),4&n&&(a.type=e[2]),8&n&&(a.parent=e[3]),144&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function instance$z(e,t,r){let n,{id:a}=t,{key:o}=t,{type:i}=t,{parent:s}=t;const{__:c,mapAttribution:l}=getContext("visContainer");return component_subscribe(e,l,(e=>r(4,n=e))),e.$$set=e=>{"id"in e&&r(0,a=e.id),"key"in e&&r(1,o=e.key),"type"in e&&r(2,i=e.type),"parent"in e&&r(3,s=e.parent)},[a,o,i,s,n,c,l]}class MapAttribution extends SvelteComponent{constructor(e){super(),init(this,e,instance$z,create_fragment$z,safe_not_equal,{id:0,key:1,type:2,parent:3})}}var _templateObject$9,_templateObject2$1,_templateObject3;function add_css$a(e){append_styles(e,"svelte-vkr3nt",".menu-content.svelte-vkr3nt{z-index:100;position:absolute;overflow:hidden}.menu-item.svelte-vkr3nt{display:block}.menu.svelte-vkr3nt svg{display:block}")}function get_each_context$3(e,t,r){const n=e.slice();return n[35]=t[r],n[37]=r,n}function create_if_block$e(e){let t,r,n,a,o,i,s,c,l,u,d,p=e[10]&&create_if_block_3$1(e),h=e[9]&&create_if_block_2$3(e),f=e[8]&&create_if_block_1$6(e);return{c(){t=element("div"),r=element("button"),p&&p.c(),n=space(),h&&h.c(),o=space(),f&&f.c(),this.h()},l(e){t=claim_element(e,"DIV",{class:!0,"data-block-id":!0,"data-block-type":!0});var a=children(t);r=claim_element(a,"BUTTON",{class:!0});var i=children(r);p&&p.l(i),n=claim_space(i),h&&h.l(i),i.forEach(detach),o=claim_space(a),f&&f.l(a),a.forEach(detach),this.h()},h(){attr(r,"class",a=null_to_empty(e[11])+" svelte-vkr3nt"),attr(t,"class",i="menu "+("menu"!==e[1]?"menu-".concat(e[1]):"")+" "+e[13]+" svelte-vkr3nt"),attr(t,"data-block-id",s=e[3].dev?e[0]||e[1]:null),attr(t,"data-block-type",c=e[3].dev?"menu":null)},m(a,i){insert_hydration(a,t,i),append_hydration(t,r),p&&p.m(r,null),append_hydration(r,n),h&&h.m(r,null),e[29](r),append_hydration(t,o),f&&f.m(t,null),l=!0,u||(d=listen(r,"click",stop_propagation(e[18])),u=!0)},p(e,o){e[10]?p?p.p(e,o):(p=create_if_block_3$1(e),p.c(),p.m(r,n)):p&&(p.d(1),p=null),e[9]?h?h.p(e,o):(h=create_if_block_2$3(e),h.c(),h.m(r,null)):h&&(h.d(1),h=null),(!l||2048&o[0]&&a!==(a=null_to_empty(e[11])+" svelte-vkr3nt"))&&attr(r,"class",a),e[8]?f?(f.p(e,o),256&o[0]&&transition_in(f,1)):(f=create_if_block_1$6(e),f.c(),transition_in(f,1),f.m(t,null)):f&&(group_outros(),transition_out(f,1,1,(()=>{f=null})),check_outros()),(!l||8194&o[0]&&i!==(i="menu "+("menu"!==e[1]?"menu-".concat(e[1]):"")+" "+e[13]+" svelte-vkr3nt"))&&attr(t,"class",i),(!l||11&o[0]&&s!==(s=e[3].dev?e[0]||e[1]:null))&&attr(t,"data-block-id",s),(!l||8&o[0]&&c!==(c=e[3].dev?"menu":null))&&attr(t,"data-block-type",c)},i(e){l||(transition_in(f),l=!0)},o(e){transition_out(f),l=!1},d(r){r&&detach(t),p&&p.d(),h&&h.d(),e[29](null),f&&f.d(),u=!1,d()}}}function create_if_block_3$1(e){let t,r,n=purifySvg(e[10])+"";return{c(){t=new HtmlTagHydration(!1),r=empty(),this.h()},l(e){t=claim_html_tag(e,!1),r=empty(),this.h()},h(){t.a=r},m(e,a){t.m(n,e,a),insert_hydration(e,r,a)},p(e,r){1024&r[0]&&n!==(n=purifySvg(e[10])+"")&&t.p(n)},d(e){e&&(detach(r),t.d())}}}function create_if_block_2$3(e){let t,r;return{c(){t=element("span"),r=text(e[9])},l(n){t=claim_element(n,"SPAN",{});var a=children(t);r=claim_text(a,e[9]),a.forEach(detach)},m(e,n){insert_hydration(e,t,n),append_hydration(t,r)},p(e,t){512&t[0]&&set_data(r,e[9])},d(e){e&&detach(t)}}}function create_if_block_1$6(e){let t,r,n,a,o,i=ensure_array_like(e[2]),s=[];for(let t=0;t<i.length;t+=1)s[t]=create_each_block$3(get_each_context$3(e,i,t));const c=e=>transition_out(s[e],1,1,(()=>{s[e]=null}));return{c(){t=element("div");for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var r=children(t);for(let e=0;e<s.length;e+=1)s[e].l(r);r.forEach(detach),this.h()},h(){attr(t,"class",r="menu-content container "+e[12]+" svelte-vkr3nt"),set_style(t,"right","right"===e[7]?"".concat(e[5][0],"px"):"unset"),set_style(t,"left","left"===e[7]?"".concat(e[5][0],"px"):"unset"),set_style(t,"top","below"===e[6]?"".concat(e[5][1],"px"):"unset"),set_style(t,"bottom","above"===e[6]?"".concat(e[5][1],"px"):"unset")},m(r,i){insert_hydration(r,t,i);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null);n=!0,a||(o=[listen(t,"click",stop_propagation(e[27])),listen(t,"keypress",stop_propagation(e[28]))],a=!0)},p(e,a){if(16390&a[0]){let r;for(i=ensure_array_like(e[2]),r=0;r<i.length;r+=1){const n=get_each_context$3(e,i,r);s[r]?(s[r].p(n,a),transition_in(s[r],1)):(s[r]=create_each_block$3(n),s[r].c(),transition_in(s[r],1),s[r].m(t,null))}for(group_outros(),r=i.length;r<s.length;r+=1)c(r);check_outros()}(!n||4096&a[0]&&r!==(r="menu-content container "+e[12]+" svelte-vkr3nt"))&&attr(t,"class",r),160&a[0]&&set_style(t,"right","right"===e[7]?"".concat(e[5][0],"px"):"unset"),160&a[0]&&set_style(t,"left","left"===e[7]?"".concat(e[5][0],"px"):"unset"),96&a[0]&&set_style(t,"top","below"===e[6]?"".concat(e[5][1],"px"):"unset"),96&a[0]&&set_style(t,"bottom","above"===e[6]?"".concat(e[5][1],"px"):"unset")},i(e){if(!n){for(let e=0;e<i.length;e+=1)transition_in(s[e]);n=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)transition_out(s[e]);n=!1},d(e){e&&detach(t),destroy_each(s,e),a=!1,run_all(o)}}}function create_each_block$3(e){let t,r,n,a;const o=[e[35],{parent:{key:e[1],type:"menu"}},{defaultStyles:e[14]}];let i={};for(let e=0;e<o.length;e+=1)i=assign$1(i,o[e]);return r=new Block({props:i}),{c(){t=element("div"),create_component(r.$$.fragment),n=space(),this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var a=children(t);claim_component(r.$$.fragment,a),n=claim_space(a),a.forEach(detach),this.h()},h(){attr(t,"class","menu-item svelte-vkr3nt")},m(e,o){insert_hydration(e,t,o),mount_component(r,t,null),append_hydration(t,n),a=!0},p(e,t){const n=16390&t[0]?get_spread_update(o,[4&t[0]&&get_spread_object(e[35]),2&t[0]&&{parent:{key:e[1],type:"menu"}},16384&t[0]&&{defaultStyles:e[14]}]):{};r.$set(n)},i(e){a||(transition_in(r.$$.fragment,e),a=!0)},o(e){transition_out(r.$$.fragment,e),a=!1},d(e){e&&detach(t),destroy_component(r)}}}function create_fragment$y(e){let t,r,n,a,o=e[2].length&&create_if_block$e(e);return{c(){o&&o.c(),t=empty()},l(e){o&&o.l(e),t=empty()},m(i,s){o&&o.m(i,s),insert_hydration(i,t,s),r=!0,n||(a=listen(window,"click",e[19]),n=!0)},p(e,r){e[2].length?o?(o.p(e,r),4&r[0]&&transition_in(o,1)):(o=create_if_block$e(e),o.c(),transition_in(o,1),o.m(t.parentNode,t)):o&&(group_outros(),transition_out(o,1,1,(()=>{o=null})),check_outros())},i(e){r||(transition_in(o),r=!0)},o(e){transition_out(o),r=!1},d(e){e&&detach(t),o&&o.d(e),n=!1,a()}}}function instance$y(e,t,r){let n,a,o,i,s,c,l,u,d,p,h,f,m,_,g,y;const{flags:b,themeData:$,emotion:v,outerContainer:k}=getContext("visContainer");component_subscribe(e,b,(e=>r(3,y=e))),component_subscribe(e,$,(e=>r(26,g=e))),component_subscribe(e,k,(e=>r(31,_=e)));let x,{id:w}=t,{key:q}=t,{children:S}=t,E=[0,0],R="below",T="right",C=!1;return afterUpdate((()=>{if(!x)return;const e=_.getBoundingClientRect(),t=function(e){const t=_.getBoundingClientRect(),r=e.getBoundingClientRect();return{top:r.top-t.top,right:r.right-t.left,bottom:r.bottom-t.top,left:r.left-t.left,width:r.width,height:r.height}}(x);r(6,R=t.top>e.height-t.bottom?"above":"below"),r(7,T=t.left>e.width-t.right?"right":"left");const n="above"===R?e.height-t.top:t.top+t.height,a="left"===T?t.left:e.width-t.right;r(5,E=[a,n+h])})),e.$$set=e=>{"id"in e&&r(0,w=e.id),"key"in e&&r(1,q=e.key),"children"in e&&r(2,S=e.children)},e.$$.update=()=>{67108866&e.$$.dirty[0]&&r(25,({getProp:n,css:a}=getThemeStyleHelpers(v,g,q)),n,(r(21,a),r(26,g),r(1,q))),67108866&e.$$.dirty[0]&&r(20,({getProp:o}=getThemeStyleHelpers(v,g,q,"button")),o),67108866&e.$$.dirty[0]&&r(23,({getProp:i}=getThemeStyleHelpers(v,g,q,"items")),i),8&e.$$.dirty[0]&&r(22,s="1px solid ".concat(y.dark?"#444":"#ccc")),8388608&e.$$.dirty[0]&&r(14,c={padding:i("padding","10px"),background:i("background")}),8&e.$$.dirty[0]&&r(24,l={hover:{background:y.dark?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)"}}),35651584&e.$$.dirty[0]&&r(13,u="function"==typeof a?a(_templateObject$9||(_templateObject$9=_taggedTemplateLiteral(["\n                  align-self: ",";\n              "])),n("alignSelf")):""),132120586&e.$$.dirty[0]&&r(12,d="function"==typeof a?a(_templateObject2$1||(_templateObject2$1=_taggedTemplateLiteral(["\n                  top: 30px;\n                  right: 0px;\n                  background: ",";\n                  ","\n                  ","\n                  ","\n                  text-align: ",";\n                  width: ",";\n                  max-width: ",";\n                  white-space: ",";\n                  box-shadow: ",";\n                  ","\n                  ","\n                  .menu-item + .menu-item {\n                      border-top: ",";\n                  }\n              "])),n("background",y.dark?"#222222":"#ffffff"),fourSides("padding-%",n("padding","0px"),!0),fourSides("border-%",n("border",s),!0),fourCorners("border-%-radius",n("borderRadius","4px")),n("textAlign"),n("width"),n("maxWidth"),n("whiteSpace"),n("boxShadow"),typography(n,g,q),linkStyles(n,g,q,"div",l),i("border",s)):""),70254602&e.$$.dirty[0]&&r(11,p="function"==typeof a?a(_templateObject3||(_templateObject3=_taggedTemplateLiteral(["\n                  ","\n                  ","\n                  ","\n                  > svg line {\n                      stroke: ",";\n                  }\n                  > svg path,\n                  svg circle,\n                  svg rect {\n                      fill: ",";\n                  }\n                  &:hover {\n                      background: ",";\n                      border: ",";\n                  }\n              "])),BASE_BUTTON_STYLES,typography(g,q,{},"button"),containerStyles(o,{layout:"flex-row",alignItems:"center",gap:5}),o("iconColor",y.dark?"white":"black"),o("iconColor",y.dark?"white":"black"),o("hover.background"),o("hover.border")):""),67108866&e.$$.dirty[0]&&(h=get$1(g,["blocks",q,"styles","distanceFromButton"],5)),67108866&e.$$.dirty[0]&&r(10,f=get$1(g,"blocks.".concat(q,".options.svgIcon"),'\n<svg width="18" height="10">\n    <line style="stroke-width: 2" x2="18" transform="translate(0,1)" />\n    <line style="stroke-width: 2" x2="18" transform="translate(0,5)" />\n    <line style="stroke-width: 2" x2="18" transform="translate(0,9)" />\n</svg>')),67108866&e.$$.dirty[0]&&r(9,m=get$1(g,"blocks.".concat(q,".options.caption")))},[w,q,S,y,x,E,R,T,C,m,f,p,d,u,c,b,$,k,function(){r(8,C=!C)},function(){r(8,C=!1)},o,a,s,i,l,n,g,function(t){bubble.call(this,e,t)},function(t){bubble.call(this,e,t)},function(e){binding_callbacks[e?"unshift":"push"]((()=>{x=e,r(4,x)}))}]}class Menu extends SvelteComponent{constructor(e){super(),init(this,e,instance$y,create_fragment$y,safe_not_equal,{id:0,key:1,children:2},add_css$a,[-1,-1])}}function create_default_slot$3(e){let t,r;return t=new InlineEditable({props:{key:"metadata.annotate.notes",additionalAllowedTags:["details","summary"]}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p:noop,i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_fragment$x(e){let t,r;return t=new TextBlock({props:{supportsCaption:!0,tag:"div",id:e[0],key:e[1],type:e[2],parent:e[3],defaultStyles:e[4],$$slots:{default:[create_default_slot$3]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){let[n]=r;const a={};1&n&&(a.id=e[0]),2&n&&(a.key=e[1]),4&n&&(a.type=e[2]),8&n&&(a.parent=e[3]),16&n&&(a.defaultStyles=e[4]),32&n&&(a.$$scope={dirty:n,ctx:e}),t.$set(a)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function instance$x(e,t,r){let{id:n}=t,{key:a}=t,{type:o}=t,{parent:i}=t,{defaultStyles:s}=t;return e.$$set=e=>{"id"in e&&r(0,n=e.id),"key"in e&&r(1,a=e.key),"type"in e&&r(2,o=e.type),"parent"in e&&r(3,i=e.parent),"defaultStyles"in e&&r(4,s=e.defaultStyles)},[n,a,o,i,s]}let Notes$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$x,create_fragment$x,safe_not_equal,{id:0,key:1,type:2,parent:3,defaultStyles:4})}};var _templateObject$8;function create_fragment$w(e){let t,r,n,a;return{c(){t=element("div"),this.h()},l(e){t=claim_element(e,"DIV",{class:!0,"data-block-id":!0,"data-block-type":!0}),children(t).forEach(detach),this.h()},h(){attr(t,"class",r="block-"+e[1]+" "+e[3]),attr(t,"data-block-id",n=e[4].dev?e[0]||e[1]:null),attr(t,"data-block-type",a=e[4].dev?e[2]:null),toggle_class(t,"export-rect",e[4].svgonly)},m(e,r){insert_hydration(e,t,r)},p(e,o){let[i]=o;10&i&&r!==(r="block-"+e[1]+" "+e[3])&&attr(t,"class",r),19&i&&n!==(n=e[4].dev?e[0]||e[1]:null)&&attr(t,"data-block-id",n),20&i&&a!==(a=e[4].dev?e[2]:null)&&attr(t,"data-block-type",a),26&i&&toggle_class(t,"export-rect",e[4].svgonly)},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$w(e,t,r){let n,a,o,i,s;const{themeData:c,emotion:l,flags:u}=getContext("visContainer");component_subscribe(e,c,(e=>r(9,i=e))),component_subscribe(e,u,(e=>r(4,s=e)));let{id:d}=t,{key:p}=t,{type:h}=t;return e.$$set=e=>{"id"in e&&r(0,d=e.id),"key"in e&&r(1,p=e.key),"type"in e&&r(2,h=e.type)},e.$$.update=()=>{514&e.$$.dirty&&r(7,({getProp:n,css:a}=getThemeStyleHelpers(l,i,p)),n,(r(8,a),r(9,i),r(1,p))),384&e.$$.dirty&&r(3,o="function"==typeof a?a(_templateObject$8||(_templateObject$8=_taggedTemplateLiteral(["\n                  display: inline-block;\n                  width: ",";\n                  height: ",";\n                  background: ",";\n                  ","\n              "])),toPixel(n("width",100)),toPixel(n("height",10)),toPixel(n("background","#ccc")),margins(n)):"")},[d,p,h,o,s,c,u,n,a,i]}let Rectangle$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$w,create_fragment$w,safe_not_equal,{id:0,key:1,type:2})}};var _templateObject$7,_templateObject$6,_templateObject$5,_templateObject2;function create_fragment$v(e){let t,r,n,a;return{c(){t=element("hr"),this.h()},l(e){t=claim_element(e,"HR",{class:!0,"data-block-id":!0,"data-block-type":!0}),this.h()},h(){attr(t,"class",r="block-"+e[1]+" "+e[4]),attr(t,"data-block-id",n=e[3].dev?e[0]||e[1]:null),attr(t,"data-block-type",a=e[3].dev?e[2]:null),toggle_class(t,"dw-line",e[3].svgonly)},m(e,r){insert_hydration(e,t,r)},p(e,o){let[i]=o;18&i&&r!==(r="block-"+e[1]+" "+e[4])&&attr(t,"class",r),11&i&&n!==(n=e[3].dev?e[0]||e[1]:null)&&attr(t,"data-block-id",n),12&i&&a!==(a=e[3].dev?e[2]:null)&&attr(t,"data-block-type",a),26&i&&toggle_class(t,"dw-line",e[3].svgonly)},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$v(e,t,r){let n,a,o,i,s;const{themeData:c,emotion:l,flags:u}=getContext("visContainer");component_subscribe(e,c,(e=>r(9,s=e))),component_subscribe(e,u,(e=>r(3,i=e)));let{id:d}=t,{key:p}=t,{type:h}=t;return e.$$set=e=>{"id"in e&&r(0,d=e.id),"key"in e&&r(1,p=e.key),"type"in e&&r(2,h=e.type)},e.$$.update=()=>{514&e.$$.dirty&&r(7,({getProp:n,css:a}=getThemeStyleHelpers(l,s,p)),n,(r(8,a),r(9,s),r(1,p))),392&e.$$.dirty&&r(4,o="function"==typeof a?a(_templateObject$7||(_templateObject$7=_taggedTemplateLiteral(["\n                  border: 0;\n                  border-bottom: "," ","\n                      ",";\n                  ","\n              "])),toPixel(n("width",1)),n("style","solid"),n("color",i.dark?"#eeeeee":"#222222"),margins(n)):"")},[d,p,h,i,o,c,u,n,a,s]}class RuleHTML extends SvelteComponent{constructor(e){super(),init(this,e,instance$v,create_fragment$v,safe_not_equal,{id:0,key:1,type:2})}}function add_css$9(e){append_styles(e,"svelte-12beer4","svg.svelte-12beer4{width:100%}")}function create_fragment$u(e){let t,r,n,a,o,i,s;return{c(){t=svg_element("svg"),r=svg_element("line"),this.h()},l(e){t=claim_svg_element(e,"svg",{class:!0,"data-block-id":!0,"data-block-type":!0});var n=children(t);r=claim_svg_element(n,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),children(r).forEach(detach),n.forEach(detach),this.h()},h(){attr(r,"x1","0"),attr(r,"y1",n=e[3]/2),attr(r,"x2",e[6]),attr(r,"y2",a=e[3]/2),attr(t,"class",o="block-"+e[2]+" "+e[7]+" svelte-12beer4"),attr(t,"data-block-id",i=e[4].dev?e[0]||e[2]:null),attr(t,"data-block-type",s=e[4].dev?e[1]:null)},m(n,a){insert_hydration(n,t,a),append_hydration(t,r),e[13](t)},p(e,c){let[l]=c;8&l&&n!==(n=e[3]/2)&&attr(r,"y1",n),64&l&&attr(r,"x2",e[6]),8&l&&a!==(a=e[3]/2)&&attr(r,"y2",a),132&l&&o!==(o="block-"+e[2]+" "+e[7]+" svelte-12beer4")&&attr(t,"class",o),21&l&&i!==(i=e[4].dev?e[0]||e[2]:null)&&attr(t,"data-block-id",i),18&l&&s!==(s=e[4].dev?e[1]:null)&&attr(t,"data-block-type",s)},i:noop,o:noop,d(r){r&&detach(t),e[13](null)}}}function instance$u(e,t,r){let n,a,o,i,s,c;const{themeData:l,emotion:u,flags:d}=getContext("visContainer");component_subscribe(e,l,(e=>r(12,c=e))),component_subscribe(e,d,(e=>r(4,s=e)));let p,{id:h}=t,{type:f}=t,{key:m}=t,_=0;return onMount((()=>{r(6,_=p.getBoundingClientRect().width)})),"undefined"!=typeof window&&window.addEventListener("resize",(()=>{r(6,_=p.getBoundingClientRect().width)})),e.$$set=e=>{"id"in e&&r(0,h=e.id),"type"in e&&r(1,f=e.type),"key"in e&&r(2,m=e.key)},e.$$.update=()=>{4100&e.$$.dirty&&r(10,({getProp:n,css:a}=getThemeStyleHelpers(u,c,m)),n,(r(11,a),r(12,c),r(2,m))),1024&e.$$.dirty&&r(3,o=n("width",1)),3096&e.$$.dirty&&r(7,i="function"==typeof a?a(_templateObject$6||(_templateObject$6=_taggedTemplateLiteral(["\n                  height: ",";\n                  ","\n                  line {\n                      stroke: ",";\n                      stroke-width: ",";\n                      stroke-dasharray: ",";\n                      stroke-linecap: ",";\n                  }\n              "])),toPixel(o),margins(n),n("color",s.dark?"#eeeeee":"#222222"),toPixel(o),n("strokeDasharray"),n("strokeLinecap")):"")},[h,f,m,o,s,p,_,i,l,d,n,a,c,function(e){binding_callbacks[e?"unshift":"push"]((()=>{p=e,r(5,p)}))}]}class RuleSVG extends SvelteComponent{constructor(e){super(),init(this,e,instance$u,create_fragment$u,safe_not_equal,{id:0,type:1,key:2},add_css$9)}}function decodeHtml(e){return(new DOMParser).parseFromString(e,"text/html").documentElement.textContent}function add_css$8(e){append_styles(e,"svelte-w37s36","button.svelte-w37s36.svelte-w37s36{display:block;cursor:pointer;line-height:0}button.svelte-w37s36 svg.svelte-w37s36{fill:currentColor}")}function get_each_context$2(e,t,r){const n=e.slice();return n[32]=t[r],n}function create_if_block$d(e){let t,r,n,a,o,i,s,c,l,u,d;return{c(){t=element("button"),r=svg_element("svg"),n=svg_element("path"),s=space(),this.h()},l(e){t=claim_element(e,"BUTTON",{"data-tool":!0,class:!0});var a=children(t);r=claim_svg_element(a,"svg",{alt:!0,viewBox:!0,class:!0});var o=children(r);n=claim_svg_element(o,"path",{d:!0}),children(n).forEach(detach),o.forEach(detach),s=claim_space(a),a.forEach(detach),this.h()},h(){attr(n,"d",a=e[6][e[32]]?e[6][e[32]].path:e[8][e[32]].iconPath),attr(r,"alt",o=e[8][e[32]].alt),attr(r,"viewBox",i=e[6][e[32]]?e[6][e[32]].viewBox:"0 0 30 30"),attr(r,"class","svelte-w37s36"),attr(t,"data-tool",c=e[32]),attr(t,"class",l=null_to_empty(e[15](e[3],e[32]))+" svelte-w37s36")},m(a,o){insert_hydration(a,t,o),append_hydration(t,r),append_hydration(r,n),append_hydration(t,s),u||(d=listen(t,"click",(function(){is_function(e[8][e[32]].action)&&e[8][e[32]].action.apply(this,arguments)})),u=!0)},p(s,u){e=s,448&u[0]&&a!==(a=e[6][e[32]]?e[6][e[32]].path:e[8][e[32]].iconPath)&&attr(n,"d",a),384&u[0]&&o!==(o=e[8][e[32]].alt)&&attr(r,"alt",o),192&u[0]&&i!==(i=e[6][e[32]]?e[6][e[32]].viewBox:"0 0 30 30")&&attr(r,"viewBox",i),128&u[0]&&c!==(c=e[32])&&attr(t,"data-tool",c),136&u[0]&&l!==(l=null_to_empty(e[15](e[3],e[32]))+" svelte-w37s36")&&attr(t,"class",l)},d(e){e&&detach(t),u=!1,d()}}}function create_each_block$2(e){let t,r=!e[8][e[32]].hide&&create_if_block$d(e);return{c(){r&&r.c(),t=empty()},l(e){r&&r.l(e),t=empty()},m(e,n){r&&r.m(e,n),insert_hydration(e,t,n)},p(e,n){e[8][e[32]].hide?r&&(r.d(1),r=null):r?r.p(e,n):(r=create_if_block$d(e),r.c(),r.m(t.parentNode,t))},d(e){e&&detach(t),r&&r.d(e)}}}function create_fragment$t(e){let t,r,n,a,o=ensure_array_like(e[7]),i=[];for(let t=0;t<o.length;t+=1)i[t]=create_each_block$2(get_each_context$2(e,o,t));return{c(){t=element("div");for(let e=0;e<i.length;e+=1)i[e].c();this.h()},l(e){t=claim_element(e,"DIV",{class:!0,"data-block-id":!0,"data-block-type":!0});var r=children(t);for(let e=0;e<i.length;e+=1)i[e].l(r);r.forEach(detach),this.h()},h(){attr(t,"class",r="block-"+e[1]+" "+e[5]),attr(t,"data-block-id",n=e[4].dev?e[0]||e[1]:null),attr(t,"data-block-type",a=e[4].dev?e[2]:null)},m(e,r){insert_hydration(e,t,r);for(let e=0;e<i.length;e+=1)i[e]&&i[e].m(t,null)},p(e,s){if(33224&s[0]){let r;for(o=ensure_array_like(e[7]),r=0;r<o.length;r+=1){const n=get_each_context$2(e,o,r);i[r]?i[r].p(n,s):(i[r]=create_each_block$2(n),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}34&s[0]&&r!==(r="block-"+e[1]+" "+e[5])&&attr(t,"class",r),19&s[0]&&n!==(n=e[4].dev?e[0]||e[1]:null)&&attr(t,"data-block-id",n),20&s[0]&&a!==(a=e[4].dev?e[2]:null)&&attr(t,"data-block-type",a)},i:noop,o:noop,d(e){e&&detach(t),destroy_each(i,e)}}}function instance$t(e,t,r){let n,a,o,i,s,c,l,u,d,p,h,f,m,_,g,y;const{chart:b,themeData:$,emotion:v,__:k,postEvent:x,dwChart:w,isIframe:q,teamPublicSettings:S,flags:E}=getContext("visContainer");component_subscribe(e,b,(e=>r(24,_=e))),component_subscribe(e,$,(e=>r(22,h=e))),component_subscribe(e,x,(e=>r(23,m=e))),component_subscribe(e,w,(e=>r(26,y=e))),component_subscribe(e,S,(e=>r(25,g=e))),component_subscribe(e,E,(e=>r(4,f=e)));let{id:R}=t,{key:T}=t,{type:C}=t,A=!1;function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return["background: ".concat(u("buttons.".concat(e,".background"),t.background),";"),"color: ".concat(u("buttons.".concat(e,".color"),t.color),";"),fourSides("border-%",u("buttons.".concat(e,".border"),t.border))].join("\n")}return onMount((()=>r(16,A=!0))),e.$$set=e=>{"id"in e&&r(0,R=e.id),"key"in e&&r(1,T=e.key),"type"in e&&r(2,C=e.type)},e.$$.update=()=>{130023424&e.$$.dirty[0]&&r(20,n=getDownloadCSVHandler({$postEvent:m,$chart:_,$dwChart:y,$teamPublicSettings:g,$themeData:h})),16842752&e.$$.dirty[0]&&r(21,a=encodeURIComponent(function(e){let{$chart:t,mounted:r,isIframe:n}=e;return get$1(t,"metadata.visualize.sharing.auto",!1)?r?n?document.referrer:window.location.href:"":get$1(t,"metadata.visualize.sharing.url")}({$chart:_,mounted:A,isIframe:q}))),28311552&e.$$.dirty[0]&&r(8,o={twitter:{alt:k("Share on X"),action(){const e="https://x.com/intent/tweet?text=".concat(a);window.open(e,"sharer","left=20,top=20,width=500,height=500,toolbar=1,resizable=0"),m&&m("share",{tool:"x",url:e})},iconPath:"M21.356 5h3.392l-7.412 8.472L26.056 25h-6.828l-5.347-6.992L7.76 25H4.368l7.928-9.062L3.93 5h7.001l4.834 6.39L21.355 5Zm-1.191 17.97h1.88L9.909 6.923H7.892L20.165 22.97Z"},facebook:{alt:k("Share on Facebook"),action(){const e="https://www.facebook.com/sharer/sharer.php?u=".concat(a);window.open(e,"sharer","left=20,top=20,width=500,height=500,toolbar=1,resizable=0"),m&&m("share",{tool:"facebook",url:e})},iconPath:"M15,3C8.373,3,3,8.373,3,15c0,6.016,4.432,10.984,10.206,11.852V18.18h-2.969v-3.154h2.969v-2.099c0-3.475,1.693-5,4.581-5\nc1.383,0,2.115,0.103,2.461,0.149v2.753h-1.97c-1.226,0-1.654,1.163-1.654,2.473v1.724h3.593L19.73,18.18h-3.106v8.697\nC22.481,26.083,27,21.075,27,15C27,8.373,21.627,3,15,3"},linkedin:{alt:k("Share on LinkedIn"),action(){const e="https://www.linkedin.com/cws/share?url=".concat(a);window.open(e,"sharer","left=20,top=20,width=500,height=500,toolbar=1,resizable=0"),m&&m("share",{tool:"linkedin",url:e})},iconPath:"M24,4H6C4.895,4,4,4.895,4,6v18c0,1.105,0.895,2,2,2h18c1.105,0,2-0.895,2-2V6C26,4.895,25.105,4,24,4z\nM10.954,22h-2.95 v-9.492h2.95V22z\nM9.449,11.151c-0.951,0-1.72-0.771-1.72-1.72c0-0.949,0.77-1.719,1.72-1.719c0.948,0,1.719,0.771,1.719,1.719\nC11.168,10.38,10.397,11.151,9.449,11.151z M22.004,22h-2.948v-4.616c0-1.101-0.02-2.517-1.533-2.517\nc-1.535,0-1.771,1.199-1.771,2.437V22h-2.948v-9.492h2.83v1.297h0.04c0.394-0.746,1.356-1.533,2.791-1.533\nc2.987,0,3.539,1.966,3.539,4.522V22z\n    "},email:{alt:k("Share via Email"),action(){const e="mailto:?subject=".concat(encodeURIComponent(decodeHtml(_.title)),"&body=").concat(a);m&&m("share",{tool:"email",url:e}),window.location.href=e},iconPath:"M2 9v12c0 1.1.9 2 2 2h22c1.1 0 2-.9 2-2V9c0-.2 0-.5-.1-.7L17.6 18c-.7.7-1.6 1-2.6\n1s-1.8-.3-2.6-1L2.1 8.3c-.1.2-.1.5-.1.7zm24-2h.4l-10.2 9.5c-.7.6-1.7.6-2.4 0L3.6 7H26z\n"},print:{alt:k("Print"),hide:!q,action(){m&&m("share",{tool:"print"}),window.print()},iconPath:"M7 4a1 1 0 0 0-1 1v2h18V5a1 1 0 0 0-1-1H7ZM4 9a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h2v5h18v-5h2a2 2 0 0 0\n2-2v-9a2 2 0 0 0-2-2H4Zm4 6h14v10H8V15Z\n"},downloadCSV:{alt:k("Get the data"),action(e){n(e)},iconPath:"M7 2a2 2 0 0 0-2 2v22a2 2 0 0 0 2 2h13.79a2.998 2.998 0 0 1-.79-2c0-1.654 1.346-3\n3-3v-2c0-1.302.839-2.401 2-2.816V9.5a1 1 0 0 0-.293-.707l-6.5-6.5A1 1 0 0 0 17.5 2H7Zm10\n1.904L23.096 10H18a1 1 0 0 1-1-1V3.904Zm-5.71 9.905c.487 0 .822.098.96.185l-.229 1.16a1.37 1.37 0 0\n0-.64-.14c-.785 0-1.486.677-1.486 2.427 0 1.687.644 2.348 1.478 2.348.231 0 .496-.05.664-.104l.135\n1.159c-.198.093-.584.168-1.063.168-1.808 0-2.671-1.486-2.671-3.494 0-2.667 1.48-3.71\n2.851-3.71Zm4.415 0c.47 0 .906.13 1.111.254l-.218 1.183a1.689 1.689 0 0 0-.9-.242c-.59\n0-.874.356-.874.73 0 .424.214.65.975 1.108.938.563 1.28 1.28 1.28 2.021-.002 1.302-.957 2.149-2.337\n2.149-.57 0-1.12-.144-1.355-.285l.199-1.19c.285.164.77.277 1.162.277.649 0 .975-.336.975-.802\n0-.505-.32-.765-.92-1.147-.967-.594-1.334-1.335-1.334-1.978 0-1.136.753-2.078\n2.236-2.078Zm1.818.062h1.522l.502 3.057c.123.76.266 1.625.361\n2.455h.026c.09-.84.209-1.688.334-2.485l.482-3.025h1.512l-1.617 7.076h-1.543l-1.579-7.078ZM26 20a1 1\n0 0 0-1 1v4h-2a1 1 0 0 0-1 1c0 .287.124.542.318.725l2.967 2.972a.994.994 0 0 0\n1.43-.002l2.967-2.97A.99.99 0 0 0 30 26a1 1 0 0 0-1-1h-2v-4a1 1 0 0 0-1-1Z\n"}}),16&e.$$.dirty[0]&&r(18,i={background:"transparent",border:"none",color:f.dark?"#dddddd":"#333333"}),4194306&e.$$.dirty[0]&&r(19,s=get$1(h,"blocks.".concat(T,".options"),{})),524288&e.$$.dirty[0]&&r(7,c=get$1(s,"tools",["facebook","linkedin","twitter"])),524288&e.$$.dirty[0]&&r(6,l=get$1(s,"icons",{})),4194306&e.$$.dirty[0]&&r(17,({getProp:u,css:d}=getThemeStyleHelpers(v,h,T)),u,(r(3,d),r(22,h),r(1,T))),393224&e.$$.dirty[0]&&r(5,p="function"==typeof d?d(_templateObject2||(_templateObject2=_taggedTemplateLiteral(["\n                  display: flex;\n                  ","\n                  flex-direction: ",";\n                  gap: ",";\n\n                  button {\n                      ","\n                      ","\n                      ","\n                  }\n                  button:hover {\n                      ","\n                  }\n                  button svg {\n                      width: ",";\n                  }\n              "])),sharedContainerStyles(u),u("layout","column"),toPixel(u("gap")),fourSides("padding-%",u("buttons.base.padding","5px"),!0),fourCorners("border-%-radius",u("buttons.base.borderRadius")),I("base",i),I("base.hover"),toPixel(u("buttons.base.width",24))):"")},[R,T,C,d,f,p,l,c,o,b,$,x,w,S,E,function(e,t){return"function"!=typeof e?"":e(_templateObject$5||(_templateObject$5=_taggedTemplateLiteral(["\n            && {\n                ","\n            }\n            &&:hover {\n                ","\n            }\n        "])),I(t),I("".concat(t,".hover")))},A,u,i,s,n,a,h,m,_,g,y]}class ShareTools extends SvelteComponent{constructor(e){super(),init(this,e,instance$t,create_fragment$t,safe_not_equal,{id:0,key:1,type:2},add_css$8,[-1,-1])}}const allowedSourceUrlRegExp=/^(https?|ftp):\/\//i;function isAllowedSourceUrl(e){return allowedSourceUrlRegExp.test(e)}function create_if_block$c(e){let t,r;return t=new TextBlock({props:{tag:"span",id:e[0],key:e[1],type:e[2],parent:e[3],defaultStyles:e[4],supportsCaption:!0,defaultCaption:e[10]("blocks / source")+":",$$slots:{default:[create_default_slot$2]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};1&r&&(n.id=e[0]),2&r&&(n.key=e[1]),4&r&&(n.type=e[2]),8&r&&(n.parent=e[3]),16&r&&(n.defaultStyles=e[4]),16544&r&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_else_block$3(e){let t,r;return t=new InlineEditable({props:{class:"source",key:"metadata.describe.source-name"}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p:noop,i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block_1$5(e){let t,r,n,a,o;return r=new InlineEditable({props:{key:"metadata.describe.source-name"}}),{c(){t=element("a"),create_component(r.$$.fragment),this.h()},l(e){t=claim_element(e,"A",{class:!0,target:!0,rel:!0,href:!0});var n=children(t);claim_component(r.$$.fragment,n),n.forEach(detach),this.h()},h(){attr(t,"class","source"),attr(t,"target","_blank"),attr(t,"rel","nofollow noopener"),attr(t,"href",e[5])},m(i,s){insert_hydration(i,t,s),mount_component(r,t,null),n=!0,a||(o=listen(t,"click",e[11]),a=!0)},p(e,r){(!n||32&r)&&attr(t,"href",e[5])},i(e){n||(transition_in(r.$$.fragment,e),n=!0)},o(e){transition_out(r.$$.fragment,e),n=!1},d(e){e&&detach(t),destroy_component(r),a=!1,o()}}}function create_default_slot$2(e){let t,r,n,a;const o=[create_if_block_1$5,create_else_block$3],i=[];function s(e,t){return e[5]&&e[7]?0:1}return t=s(e),r=i[t]=o[t](e),{c(){r.c(),n=empty()},l(e){r.l(e),n=empty()},m(e,r){i[t].m(e,r),insert_hydration(e,n,r),a=!0},p(e,a){let c=t;t=s(e),t===c?i[t].p(e,a):(group_outros(),transition_out(i[c],1,1,(()=>{i[c]=null})),check_outros(),r=i[t],r?r.p(e,a):(r=i[t]=o[t](e),r.c()),transition_in(r,1),r.m(n.parentNode,n))},i(e){a||(transition_in(r),a=!0)},o(e){transition_out(r),a=!1},d(e){e&&detach(n),i[t].d(e)}}}function create_fragment$s(e){let t,r,n=e[6]&&create_if_block$c(e);return{c(){n&&n.c(),t=empty()},l(e){n&&n.l(e),t=empty()},m(e,a){n&&n.m(e,a),insert_hydration(e,t,a),r=!0},p(e,r){let[a]=r;e[6]?n?(n.p(e,a),64&a&&transition_in(n,1)):(n=create_if_block$c(e),n.c(),transition_in(n,1),n.m(t.parentNode,t)):n&&(group_outros(),transition_out(n,1,1,(()=>{n=null})),check_outros())},i(e){r||(transition_in(n),r=!0)},o(e){transition_out(n),r=!1},d(e){e&&detach(t),n&&n.d(e)}}}function instance$s(e,t,r){let n,a,o,i,s;const{chart:c,postEvent:l,__:u}=getContext("visContainer");component_subscribe(e,c,(e=>r(12,s=e))),component_subscribe(e,l,(e=>r(13,i=e)));let{id:d}=t,{key:p}=t,{type:h}=t,{parent:f}=t,{defaultStyles:m={}}=t;return e.$$set=e=>{"id"in e&&r(0,d=e.id),"key"in e&&r(1,p=e.key),"type"in e&&r(2,h=e.type),"parent"in e&&r(3,f=e.parent),"defaultStyles"in e&&r(4,m=e.defaultStyles)},e.$$.update=()=>{4096&e.$$.dirty&&r(6,n=get$1(s,"metadata.describe.source-name")),4096&e.$$.dirty&&r(5,a=get$1(s,"metadata.describe.source-url")),32&e.$$.dirty&&r(7,o=isAllowedSourceUrl(a))},[d,p,h,f,m,a,n,o,c,l,u,function(){i&&i("source.click",{url:a,name:n})},s]}let Source$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$s,create_fragment$s,safe_not_equal,{id:0,key:1,type:2,parent:3,defaultStyles:4})}};function create_else_block$2(e){let t,r;return t=new TextBlock({props:{tag:"div",id:e[0],key:e[1],type:e[2],parent:e[3],defaultStyles:e[4],$$slots:{default:[create_default_slot_1$1]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};1&r&&(n.id=e[0]),2&r&&(n.key=e[1]),4&r&&(n.type=e[2]),8&r&&(n.parent=e[3]),16&r&&(n.defaultStyles=e[4]),16512&r&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block$b(e){let t,r;return t=new TextBlock({props:{tag:"div",id:e[0],key:e[1],type:e[2],parent:e[3],defaultStyles:e[4],supportsCaption:!0,$$slots:{default:[create_default_slot$1]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};1&r&&(n.id=e[0]),2&r&&(n.key=e[1]),4&r&&(n.type=e[2]),8&r&&(n.parent=e[3]),16&r&&(n.defaultStyles=e[4]),16448&r&&(n.$$scope={dirty:r,ctx:e}),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_default_slot_1$1(e){let t,r,n=clean(e[7],e[10])+"";return{c(){t=new HtmlTagHydration(!1),r=empty(),this.h()},l(e){t=claim_html_tag(e,!1),r=empty(),this.h()},h(){t.a=r},m(e,a){t.m(n,e,a),insert_hydration(e,r,a)},p(e,r){128&r&&n!==(n=clean(e[7],e[10])+"")&&t.p(n)},d(e){e&&(detach(r),t.d())}}}function create_default_slot$1(e){let t,r;return t=new InlineEditable({props:{key:"metadata.custom."+e[6],additionalAllowedTags:e[10]}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};64&r&&(n.key="metadata.custom."+e[6]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_fragment$r(e){let t,r,n,a;const o=[create_if_block$b,create_else_block$2],i=[];function s(e,t){return"string"==typeof e[5]?0:1}return t=s(e),r=i[t]=o[t](e),{c(){r.c(),n=empty()},l(e){r.l(e),n=empty()},m(e,r){i[t].m(e,r),insert_hydration(e,n,r),a=!0},p(e,a){let[c]=a,l=t;t=s(e),t===l?i[t].p(e,c):(group_outros(),transition_out(i[l],1,1,(()=>{i[l]=null})),check_outros(),r=i[t],r?r.p(e,c):(r=i[t]=o[t](e),r.c()),transition_in(r,1),r.m(n.parentNode,n))},i(e){a||(transition_in(r),a=!0)},o(e){transition_out(r),a=!1},d(e){e&&detach(n),i[t].d(e)}}}function instance$r(e,t,r){let n,a,o,i,s,c;const{chart:l,themeData:u}=getContext("visContainer");component_subscribe(e,l,(e=>r(12,s=e))),component_subscribe(e,u,(e=>r(13,c=e)));let{id:d}=t,{key:p}=t,{type:h}=t,{parent:f}=t,{defaultStyles:m={}}=t;return e.$$set=e=>{"id"in e&&r(0,d=e.id),"key"in e&&r(1,p=e.key),"type"in e&&r(2,h=e.type),"parent"in e&&r(3,f=e.parent),"defaultStyles"in e&&r(4,m=e.defaultStyles)},e.$$.update=()=>{8194&e.$$.dirty&&r(6,n=get$1(c,"blocks.".concat(p,".options.customField"))),8194&e.$$.dirty&&r(11,a=get$1(c,"blocks.".concat(p,".options.text"))),4160&e.$$.dirty&&r(5,o=n?get$1(s,"metadata.custom.".concat(n),""):null),2144&e.$$.dirty&&r(7,i=n?!0===o&&a?a:o:a||"")},[d,p,h,f,m,o,n,i,l,u,["details","summary"],a,s,c]}class Text extends SvelteComponent{constructor(e){super(),init(this,e,instance$r,create_fragment$r,safe_not_equal,{id:0,key:1,type:2,parent:3,defaultStyles:4})}}function estimateTextWidth(e){if(!e)return 0;const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:14)/14;return e.split("").reduce(((e,t)=>e+(CHAR_W[t]||CHAR_W.a)),0)*t}const CHAR_W={a:9,A:10,b:9,B:10,c:8,C:10,d:9,D:11,e:9,E:9,f:5,F:8,g:9,G:11,h:9,H:11,i:4,I:4,j:4,J:4,k:8,K:9,l:4,L:8,m:14,M:12,n:9,N:10,o:9,O:11,p:9,P:8,q:9,Q:11,r:6,R:10,s:7,S:9,t:5,T:9,u:9,U:10,v:8,V:10,w:11,W:14,x:8,X:10,y:8,Y:9,z:7,Z:10,".":4,"!":4,"|":4,",":4,":":5,";":5,"-":5,"+":12," ":4};var _templateObject$4;function add_css$7(e){append_styles(e,"svelte-1rfvry0","svg.svelte-1rfvry0{pointer-events:none}text.svelte-1rfvry0{text-anchor:middle;fill:currentColor;transform-box:fill-box;transform-origin:center}")}function create_if_block$a(e){let t,r,n,a,o,i,s,c,l,u,d=purifyHtml(e[3],"")+"";return{c(){t=svg_element("svg"),r=svg_element("text"),n=text(d),this.h()},l(e){t=claim_svg_element(e,"svg",{width:!0,height:!0,class:!0,"data-block-id":!0,"data-block-type":!0});var a=children(t);r=claim_svg_element(a,"text",{class:!0,"dominant-baseline":!0,style:!0,transform:!0,"data-rotate":!0,x:!0,y:!0});var o=children(r);n=claim_text(o,d),o.forEach(detach),a.forEach(detach),this.h()},h(){attr(r,"class",a="watermark "+e[6]+" svelte-1rfvry0"),attr(r,"dominant-baseline","central"),set_style(r,"font-size",e[7]),attr(r,"transform",o="rotate("+e[8]+")"),attr(r,"data-rotate",e[8]),attr(r,"x",i=.5*e[4]),attr(r,"y",s=.5*e[5]),attr(t,"width",e[4]),attr(t,"height",e[5]),attr(t,"class",c="block-"+e[1]+" svelte-1rfvry0"),attr(t,"data-block-id",l=e[9].dev?e[0]||e[1]:null),attr(t,"data-block-type",u=e[9].dev?e[2]:null)},m(e,a){insert_hydration(e,t,a),append_hydration(t,r),append_hydration(r,n)},p(e,p){8&p&&d!==(d=purifyHtml(e[3],"")+"")&&set_data(n,d),64&p&&a!==(a="watermark "+e[6]+" svelte-1rfvry0")&&attr(r,"class",a),128&p&&set_style(r,"font-size",e[7]),256&p&&o!==(o="rotate("+e[8]+")")&&attr(r,"transform",o),256&p&&attr(r,"data-rotate",e[8]),16&p&&i!==(i=.5*e[4])&&attr(r,"x",i),32&p&&s!==(s=.5*e[5])&&attr(r,"y",s),16&p&&attr(t,"width",e[4]),32&p&&attr(t,"height",e[5]),2&p&&c!==(c="block-"+e[1]+" svelte-1rfvry0")&&attr(t,"class",c),515&p&&l!==(l=e[9].dev?e[0]||e[1]:null)&&attr(t,"data-block-id",l),516&p&&u!==(u=e[9].dev?e[2]:null)&&attr(t,"data-block-type",u)},d(e){e&&detach(t)}}}function create_fragment$q(e){let t,r=e[5]&&create_if_block$a(e);return{c(){r&&r.c(),t=empty()},l(e){r&&r.l(e),t=empty()},m(e,n){r&&r.m(e,n),insert_hydration(e,t,n)},p(e,n){let[a]=n;e[5]?r?r.p(e,a):(r=create_if_block$a(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:noop,o:noop,d(e){e&&detach(t),r&&r.d(e)}}}function instance$q(e,t,r){let n,a,o,i,s,c,l,u,d,p,h,f,m,_,g,y,b,$,v,k,x;const{outerWidth:w,outerHeight:q}=getContext("stores");component_subscribe(e,w,(e=>r(28,v=e))),component_subscribe(e,q,(e=>r(27,$=e)));const{chart:S,themeData:E,textDirection:R,emotion:T,flags:C}=getContext("visContainer");component_subscribe(e,S,(e=>r(29,k=e))),component_subscribe(e,E,(e=>r(25,y=e))),component_subscribe(e,R,(e=>r(26,b=e))),component_subscribe(e,C,(e=>r(9,x=e)));let{id:A}=t,{key:I}=t,{type:M}=t;return e.$$set=e=>{"id"in e&&r(0,A=e.id),"key"in e&&r(1,I=e.key),"type"in e&&r(2,M=e.type)},e.$$.update=()=>{33554434&e.$$.dirty&&r(23,n=get$1(y,"blocks.".concat(I,".options"),void 0)),8388608&e.$$.dirty&&r(24,a=get$1(n,"customField")),8388608&e.$$.dirty&&r(21,o=get$1(n,"rotate",!0)),33554434&e.$$.dirty&&r(20,i=get$1(y,"blocks.".concat(I,".styles.typography.fontSize"))),562036736&e.$$.dirty&&r(3,s=!!n&&(a?get$1(k,"metadata.custom.".concat(a),""):get$1(n,"text","CONFIDENTIAL"))),268435456&e.$$.dirty&&r(4,c=v),134217728&e.$$.dirty&&r(5,l=$),69206064&e.$$.dirty&&r(22,u=o?-Math.atan(l/c)*("rtl"===b?-1:1):0),4194304&e.$$.dirty&&r(8,d=180*u/Math.PI),2097200&e.$$.dirty&&r(19,p=o?Math.sqrt(c*c+l*l):c),8&e.$$.dirty&&r(18,h=estimateTextWidth(s,20)),1835008&e.$$.dirty&&r(7,f="".concat(i||Math.round(.75*p/h*20),"px")),33554434&e.$$.dirty&&r(16,({getProp:m,css:_}=getThemeStyleHelpers(T,y,I)),m,(r(17,_),r(25,y),r(1,I))),33751042&e.$$.dirty&&r(6,g="function"==typeof _?_(_templateObject$4||(_templateObject$4=_taggedTemplateLiteral(["\n                  opacity: ",";\n                  ","\n              "])),m("opacity",.182),typography(y,I,{fontWeight:700})):"")},[A,I,M,s,c,l,g,f,d,x,w,q,S,E,R,C,m,_,h,p,i,o,u,n,a,y,b,$,v,k]}let Watermark$1=class extends SvelteComponent{constructor(e){super(),init(this,e,instance$q,create_fragment$q,safe_not_equal,{id:0,key:1,type:2},add_css$7)}};var blocks={attribution:{component:Attribution,region:"footer",order:10,test(e){let{chart:t,entitlements:r}=e;return!!r.requiresAttribution||get$1(t,"metadata.publish.force-attribution",!1)}},byline:{component:Byline$1,region:"footer",order:1,test(e){let{options:t,chart:r,flags:n}=e;return!(n.plain&&!t.forceInPlain)&&!(!get$1(r,"metadata.describe.byline")&&!r.basedOnByline)}},container:{component:Container},description:{component:Description$1,region:"header",order:1,test(e){let{options:t,chart:r,flags:n}=e;return!(n.plain&&!t.forceInPlain)&&!!get$1(r,"metadata.describe.intro")}},downloadImage:{component:DownloadImage$1,region:"footer",order:7,test:testDownloadImage$1("image")},downloadPDF:{component:DownloadImage$1,region:"footer",order:8,test:testDownloadImage$1("pdf")},downloadSVG:{component:DownloadImage$1,region:"footer",order:9,test:testDownloadImage$1("svg")},edit:{component:EditInDatawrapper$1,region:"footer",order:5,test(e){let{chart:t,flags:r,options:n}=e;return!(r.static||r.plain&&!n.forceInPlain)&&(get$1(t,"forkable",!1)&&get$1(t,"metadata.publish.blocks.edit-in-datawrapper",!1))}},embed:{component:Embed$1,region:"footer",order:6,test(e){let{chart:t,flags:r,options:n}=e;return!(!get$1(t,"metadata.publish.blocks.embed")||r.static||r.plain&&!n.forceInPlain)}},filterUI:{component:FilterUI,region:"header",order:2,test(e){let{filterUI:t,flags:r}=e;return!r.static&&t}},getTheData:{component:GetTheData$1,region:"footer",order:4,test(e){let{chart:t,flags:r,options:n}=e;return get$1(t,"metadata.publish.blocks.get-the-data")&&!(r.plain&&!n.forceInPlain)&&!r.static&&"locator-map"!==t.type}},headline:{component:Headline$1,region:"header",order:0,test(e){let{chart:t,flags:r,options:n}=e;return!(r.plain&&!n.forceInPlain)&&!(!t.title||get$1(t,"metadata.describe.hide-title"))}},image:{component:Image,test(e){let{flags:t,options:r}=e;return!(t.plain&&!r.forceInPlain)}},logo:{component:Logo$1,test(e){let{chart:t,flags:r,options:n}=e;return!(r.plain&&!n.forceInPlain)&&(!!n.variants.length&&("off"!==r.logo&&(get$1(t,"metadata.publish.blocks.logo.enabled")||"on"===r.logo)))}},mapAttribution:{component:MapAttribution,region:"footer",order:3,test(e){let{mapAttribution:t}=e;return!!t}},menu:{component:Menu,test(e){let{block:t,flags:r,options:n}=e;return!(r.plain&&!n.forceInPlain||r.static)&&t.children.length>0}},notes:{component:Notes$1,region:"footer",order:0,test(e){let{chart:t,flags:r,options:n}=e;return!(r.plain&&!n.forceInPlain)&&!!get$1(t,"metadata.annotate.notes")}},rectangle:{component:Rectangle$1,test(e){let{flags:t,options:r}=e;return!(t.plain&&!r.forceInPlain)}},ruleHTML:{component:RuleHTML,test(e){let{options:t,flags:r}=e;return!(r.plain&&!t.forceInPlain)}},ruleSVG:{component:RuleSVG,test(e){let{options:t,flags:r}=e;return!(r.plain&&!t.forceInPlain)}},shareTools:{component:ShareTools,region:"bodyRight",order:0,test(e){let{options:t,chart:r,flags:n}=e;return!(n.static||n.plain&&!t.forceInPlain)&&get$1(r,"metadata.visualize.sharing.enabled",!1)}},source:{component:Source$1,region:"footer",order:2,test(e){let{chart:t,flags:r,options:n}=e;return!(r.plain&&!n.forceInPlain)&&!!get$1(t,"metadata.describe.source-name")}},text:{component:Text,test(e){let{options:t,chart:r,flags:n}=e;if(n.plain&&!t.forceInPlain)return!1;const a=get$1(t,"customField"),o=get$1(t,"text"),i=get$1(r,"metadata.custom.".concat(a));return a?i:o}},watermark:{component:Watermark$1,test(e){let{block:t,chart:r,themeData:n}=e;const a=get$1(n,"blocks.".concat(t.id||t.type,".options")),o=get$1(a,"customField"),i=get$1(a,"text","WATERMARK");return o?get$1(r,"metadata.custom.".concat(o),""):i}}},cloneDeep_1,hasRequiredCloneDeep;function testDownloadImage$1(e){return t=>{let{chart:r,flags:n,options:a,entitlements:o}=t;return!(n.static||n.plain&&!a.forceInPlain)&&(!!("pdf"!==e&&"svg"!==e||o.allowPrintExport)&&!!get$1(r,"metadata.publish.blocks.download-".concat(e)))}}function requireCloneDeep(){if(hasRequiredCloneDeep)return cloneDeep_1;hasRequiredCloneDeep=1;var e=require_baseClone();return cloneDeep_1=function(t){return e(t,5)}}var cloneDeepExports=requireCloneDeep(),cloneDeep=getDefaultExportFromCjs(cloneDeepExports),_templateObject$3;function add_css$6(e){append_styles(e,"svelte-ej8jdi",".is-static.svelte-ej8jdi a{color:unset;pointer-events:none;text-decoration:inherit}.dir-rtl .outer-container.svelte-ej8jdi{direction:rtl}.outer-container.svelte-ej8jdi{position:relative}.container-afterChart.svelte-ej8jdi{position:absolute;pointer-events:none;top:0;left:0;right:0;bottom:0}")}function get_each_context$1(e,t,r){const n=e.slice();return n[62]=t[r],n}const get_visBody_slot_changes=e=>({visBodyStyles:512&e[0]}),get_visBody_slot_context=e=>({visBodyStyles:e[9]});function create_if_block_3(e){let t,r;return t=new Container({props:{key:"bodyLeft",children:e[6].children||[]}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};64&r[0]&&(n.children=e[6].children||[]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_default_slot_2(e){let t,r,n;const a=[e[8]];let o={};for(let e=0;e<a.length;e+=1)o=assign$1(o,a[e]);t=new Block({props:o});const i=e[46].visBody,s=create_slot(i,e,e[48],get_visBody_slot_context);return{c(){create_component(t.$$.fragment),r=space(),s&&s.c()},l(e){claim_component(t.$$.fragment,e),r=claim_space(e),s&&s.l(e)},m(e,a){mount_component(t,e,a),insert_hydration(e,r,a),s&&s.m(e,a),n=!0},p(e,r){const o=256&r[0]?get_spread_update(a,[get_spread_object(e[8])]):{};t.$set(o),s&&s.p&&(!n||512&r[0]|131072&r[1])&&update_slot_base(s,i,e,e[48],n?get_slot_changes(i,e[48],r,get_visBody_slot_changes):get_all_dirty_from_scope(e[48]),get_visBody_slot_context)},i(e){n||(transition_in(t.$$.fragment,e),transition_in(s,e),n=!0)},o(e){transition_out(t.$$.fragment,e),transition_out(s,e),n=!1},d(e){e&&detach(r),destroy_component(t,e),s&&s.d(e)}}}function create_if_block_2$2(e){let t,r;return t=new Container({props:{key:"bodyRight",children:e[5].children||[]}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};32&r[0]&&(n.children=e[5].children||[]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_default_slot_1(e){let t,r,n,a,o,i=e[6].children.length>0&&create_if_block_3(e);r=new Container({props:{key:"bodyCenter",$$slots:{default:[create_default_slot_2]},$$scope:{ctx:e}}});let s=e[5].children.length>0&&create_if_block_2$2(e);return{c(){i&&i.c(),t=space(),create_component(r.$$.fragment),n=space(),s&&s.c(),a=empty()},l(e){i&&i.l(e),t=claim_space(e),claim_component(r.$$.fragment,e),n=claim_space(e),s&&s.l(e),a=empty()},m(e,c){i&&i.m(e,c),insert_hydration(e,t,c),mount_component(r,e,c),insert_hydration(e,n,c),s&&s.m(e,c),insert_hydration(e,a,c),o=!0},p(e,n){e[6].children.length>0?i?(i.p(e,n),64&n[0]&&transition_in(i,1)):(i=create_if_block_3(e),i.c(),transition_in(i,1),i.m(t.parentNode,t)):i&&(group_outros(),transition_out(i,1,1,(()=>{i=null})),check_outros());const o={};768&n[0]|131072&n[1]&&(o.$$scope={dirty:n,ctx:e}),r.$set(o),e[5].children.length>0?s?(s.p(e,n),32&n[0]&&transition_in(s,1)):(s=create_if_block_2$2(e),s.c(),transition_in(s,1),s.m(a.parentNode,a)):s&&(group_outros(),transition_out(s,1,1,(()=>{s=null})),check_outros())},i(e){o||(transition_in(i),transition_in(r.$$.fragment,e),transition_in(s),o=!0)},o(e){transition_out(i),transition_out(r.$$.fragment,e),transition_out(s),o=!1},d(e){e&&(detach(t),detach(n),detach(a)),i&&i.d(e),destroy_component(r,e),s&&s.d(e)}}}function create_if_block_1$4(e){let t,r,n=ensure_array_like(e[4]),a=[];for(let t=0;t<n.length;t+=1)a[t]=create_each_block$1(get_each_context$1(e,n,t));const o=e=>transition_out(a[e],1,1,(()=>{a[e]=null}));return{c(){t=element("div");for(let e=0;e<a.length;e+=1)a[e].c();this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var r=children(t);for(let e=0;e<a.length;e+=1)a[e].l(r);r.forEach(detach),this.h()},h(){attr(t,"class","container-afterChart svelte-ej8jdi")},m(e,n){insert_hydration(e,t,n);for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,null);r=!0},p(e,r){if(16&r[0]){let i;for(n=ensure_array_like(e[4]),i=0;i<n.length;i+=1){const o=get_each_context$1(e,n,i);a[i]?(a[i].p(o,r),transition_in(a[i],1)):(a[i]=create_each_block$1(o),a[i].c(),transition_in(a[i],1),a[i].m(t,null))}for(group_outros(),i=n.length;i<a.length;i+=1)o(i);check_outros()}},i(e){if(!r){for(let e=0;e<n.length;e+=1)transition_in(a[e]);r=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)transition_out(a[e]);r=!1},d(e){e&&detach(t),destroy_each(a,e)}}}function create_each_block$1(e){let t,r;const n=[e[62]];let a={};for(let e=0;e<n.length;e+=1)a=assign$1(a,n[e]);return t=new Block({props:a}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const a=16&r[0]?get_spread_update(n,[get_spread_object(e[62])]):{};t.$set(a)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_default_slot(e){let t,r,n,a,o,i;t=new Container({props:{key:"bodyTop",$$slots:{default:[create_default_slot_1]},$$scope:{ctx:e}}});const s=[e[7]];let c={};for(let e=0;e<s.length;e+=1)c=assign$1(c,s[e]);n=new Block({props:c});let l=e[4]&&create_if_block_1$4(e);return{c(){create_component(t.$$.fragment),r=space(),create_component(n.$$.fragment),a=space(),l&&l.c(),o=empty()},l(e){claim_component(t.$$.fragment,e),r=claim_space(e),claim_component(n.$$.fragment,e),a=claim_space(e),l&&l.l(e),o=empty()},m(e,s){mount_component(t,e,s),insert_hydration(e,r,s),mount_component(n,e,s),insert_hydration(e,a,s),l&&l.m(e,s),insert_hydration(e,o,s),i=!0},p(e,r){const a={};864&r[0]|131072&r[1]&&(a.$$scope={dirty:r,ctx:e}),t.$set(a);const i=128&r[0]?get_spread_update(s,[get_spread_object(e[7])]):{};n.$set(i),e[4]?l?(l.p(e,r),16&r[0]&&transition_in(l,1)):(l=create_if_block_1$4(e),l.c(),transition_in(l,1),l.m(o.parentNode,o)):l&&(group_outros(),transition_out(l,1,1,(()=>{l=null})),check_outros())},i(e){i||(transition_in(t.$$.fragment,e),transition_in(n.$$.fragment,e),transition_in(l),i=!0)},o(e){transition_out(t.$$.fragment,e),transition_out(n.$$.fragment,e),transition_out(l),i=!1},d(e){e&&(detach(r),detach(a),detach(o)),destroy_component(t,e),destroy_component(n,e),l&&l.d(e)}}}function create_if_block$9(e){let t,r,n=e[2].template.afterChart+"";return{c(){t=new HtmlTagHydration(!1),r=empty(),this.h()},l(e){t=claim_html_tag(e,!1),r=empty(),this.h()},h(){t.a=r},m(e,a){t.m(n,e,a),insert_hydration(e,r,a)},p(e,r){4&r[0]&&n!==(n=e[2].template.afterChart+"")&&t.p(n)},d(e){e&&(detach(r),t.d())}}}function create_fragment$p(e){let t,r,n,a,o=e[1]&&get$1(e[2],"template.afterChart");r=new Container({props:{key:"body",$$slots:{default:[create_default_slot]},$$scope:{ctx:e}}});let i=o&&create_if_block$9(e);return{c(){t=element("div"),create_component(r.$$.fragment),n=space(),i&&i.c(),this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var a=children(t);claim_component(r.$$.fragment,a),n=claim_space(a),i&&i.l(a),a.forEach(detach),this.h()},h(){attr(t,"class","outer-container svelte-ej8jdi"),toggle_class(t,"is-static",e[3].static)},m(o,s){insert_hydration(o,t,s),mount_component(r,t,null),append_hydration(t,n),i&&i.m(t,null),e[47](t),a=!0},p(e,n){const s={};1008&n[0]|131072&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s),6&n[0]&&(o=e[1]&&get$1(e[2],"template.afterChart")),o?i?i.p(e,n):(i=create_if_block$9(e),i.c(),i.m(t,null)):i&&(i.d(1),i=null),(!a||8&n[0])&&toggle_class(t,"is-static",e[3].static)},i(e){a||(transition_in(r.$$.fragment,e),a=!0)},o(e){transition_out(r.$$.fragment,e),a=!1},d(n){n&&detach(t),destroy_component(r),i&&i.d(),e[47](null)}}}function analyseRegions(e){const t=new Set,r=new Map;return function e(n){for(const a of n)t.add(a.type),["menu","container"].includes(a.type)&&r.set(a.id,a),a.children&&e(a.children)}(e),{used:t,containers:r}}function instance$p(e,t,r){let n,a,o,i,s,c,l,u,d,p,h,f,m,_,g,y,b,$,v,k,x,w,{$$slots:q={},$$scope:S}=t;const{themeData:E,outerWidth:R,outerContainer:T}=getContext("stores");component_subscribe(e,E,(e=>r(2,d=e))),component_subscribe(e,R,(e=>r(43,f=e)));let{container:C}=t,{allowPrintExport:A}=t,{chart:I}=t,{config:M}=t,{dwChart:D}=t,{emotion:O}=t,{filterUI:P}=t,{mapAttribution:N}=t,{isIframe:L}=t,{renderFlags:j}=t,{textDirection:F}=t,{theme:H}=t,{vis:U}=t,{__:B}=t,{postEvent:z}=t,{teamPublicSettings:Y}=t,{requiresAttribution:W}=t,{allBlocks:G}=t;const V=writable(I);component_subscribe(e,V,(e=>r(42,p=e)));const K=writable(M);component_subscribe(e,K,(e=>r(56,w=e)));const X=writable(D);component_subscribe(e,X,(e=>r(55,x=e)));const J=writable(P);component_subscribe(e,J,(e=>r(45,_=e)));const Z=writable(N);component_subscribe(e,Z,(e=>r(44,m=e)));const Q=writable(j);component_subscribe(e,Q,(e=>r(3,h=e)));const ee=writable(H);component_subscribe(e,ee,(e=>r(53,v=e)));const te=writable(U);component_subscribe(e,te,(e=>r(54,k=e)));const re=writable(F);component_subscribe(e,re,(e=>r(52,$=e)));const ne=writable(z);component_subscribe(e,ne,(e=>r(51,b=e)));const ae=writable(Y);component_subscribe(e,ae,(e=>r(50,y=e)));const oe=writable({allowPrintExport:A,requiresAttribution:W});function ie(e){const t=_objectSpread2({type:"container",id:"header",children:[]},cloneDeep(e.header||{})),r=_objectSpread2({type:"container",id:"footer",children:[]},cloneDeep(e.footer||{})),n=_objectSpread2({type:"container",id:"bodyLeft",children:[]},cloneDeep(e.bodyLeft||{})),a=_objectSpread2({type:"container",id:"bodyRight",children:[]},cloneDeep(e.bodyRight||{})),o=cloneDeep(e.afterChart||[]),i=[t,r,n,a,{type:"container",children:o}],{used:s,containers:c}=analyseRegions(i),l=function(e,t){const r={footer:d.defaultFooterRegion||"footer",header:d.defaultHeaderRegion||"header"},n={};for(const[a,{region:o,order:i}]of Object.entries(blocks))if(o&&!e.has(a)){const e=t.has(r[o]||o)&&r[o]||o;if(t.has(e)){const r=t.get(e);void 0!==i&&(n[a]=i),r.children||(r.children=[]),r.children.push({type:a})}}return n}(s,c);return i.forEach((e=>{ce(e,l),se(e)})),{header:t,footer:r,bodyLeft:n,bodyRight:a,afterChart:o}}function se(e){e.children=(e.children||[]).filter((e=>{if(["container","menu"].includes(e.type))return se(e),(e.children||[]).length>0;if(!blocks[e.type].test({options:get$1(d,"blocks.".concat(e.id||e.type,".options"),{}),block:e,chart:p,filterUI:_,mapAttribution:m,flags:h,themeData:d,entitlements:{requiresAttribution:W,allowPrintExport:A}}))return!1;const t=get$1(d,"blocks.".concat(e.id||e.type,".options.condition"));return null==t||!!resolveCondition(t,_objectSpread2({chart:p,width:f,flags:h,team:p.organizationId},parseChartLanguage(p.language)))}))}function ce(e,t){e.children.forEach(((e,r)=>{e.order=get$1(d,"blocks.".concat(e.id||e.type,".options.order"),get$1(t,e.id||e.type,r)),"container"!==e.type&&"menu"!==e.type||!e.children||ce(e,t)})),e.children=e.children.sort(((e,t)=>e.order-t.order))}return component_subscribe(e,oe,(e=>r(49,g=e))),setContext("visContainer",{__:B,chart:V,config:K,clean:clean$1,dwChart:X,emotion:O,entitlements:oe,filterUI:J,mapAttribution:Z,flags:Q,isIframe:L,postEvent:ne,teamPublicSettings:ae,textDirection:re,theme:ee,themeData:E,visualization:te,outerContainer:T}),e.$$set=e=>{"container"in e&&r(0,C=e.container),"allowPrintExport"in e&&r(24,A=e.allowPrintExport),"chart"in e&&r(25,I=e.chart),"config"in e&&r(26,M=e.config),"dwChart"in e&&r(27,D=e.dwChart),"emotion"in e&&r(28,O=e.emotion),"filterUI"in e&&r(29,P=e.filterUI),"mapAttribution"in e&&r(30,N=e.mapAttribution),"isIframe"in e&&r(1,L=e.isIframe),"renderFlags"in e&&r(31,j=e.renderFlags),"textDirection"in e&&r(32,F=e.textDirection),"theme"in e&&r(33,H=e.theme),"vis"in e&&r(34,U=e.vis),"__"in e&&r(35,B=e.__),"postEvent"in e&&r(36,z=e.postEvent),"teamPublicSettings"in e&&r(37,Y=e.teamPublicSettings),"requiresAttribution"in e&&r(38,W=e.requiresAttribution),"allBlocks"in e&&r(39,G=e.allBlocks),"$$scope"in e&&r(48,S=e.$$scope)},e.$$.update=()=>{33554432&e.$$.dirty[0]&&set_store_value(V,p=I,p),67108864&e.$$.dirty[0]&&set_store_value(K,w=M,w),134217728&e.$$.dirty[0]&&set_store_value(X,x=D,x),536870912&e.$$.dirty[0]&&set_store_value(J,_=P,_),1073741824&e.$$.dirty[0]&&set_store_value(Z,m=N,m),1&e.$$.dirty[1]&&set_store_value(Q,h=j,h),8&e.$$.dirty[1]&&set_store_value(te,k=U,k),4&e.$$.dirty[1]&&set_store_value(ee,v=H,v),2&e.$$.dirty[1]&&set_store_value(re,$=F,$),32&e.$$.dirty[1]&&set_store_value(ne,b=z,b),64&e.$$.dirty[1]&&set_store_value(ae,y=Y,y),16777216&e.$$.dirty[0]|128&e.$$.dirty[1]&&set_store_value(oe,g={allowPrintExport:A,requiresAttribution:W},g),268435460&e.$$.dirty[0]&&r(40,({getProp:n,css:a}=getThemeStyleHelpers(O,d,"chart")),n,(r(41,a),r(28,O),r(2,d))),12&e.$$.dirty[0]|1536&e.$$.dirty[1]&&r(9,o=a(_templateObject$3||(_templateObject$3=_taggedTemplateLiteral(["\n        ","\n        ","\n        ","\n        ","\n        ","\n        /* svg label styling */\n        svg text.label tspan {\n            fill: currentColor;\n        }\n    "])),margins(n),paddings(n),h.static?"":linkStyles(n),typography(d,"chart"),visStyles(d))),12&e.$$.dirty[0]|30720&e.$$.dirty[1]&&r(8,({header:i,footer:s,bodyLeft:c,bodyRight:l,afterChart:u}=ie(d.regions||{})),i,(r(7,s),r(2,d),r(42,p),r(3,h),r(45,_),r(44,m),r(43,f),r(25,I),r(31,j),r(29,P),r(30,N)),(r(6,c),r(2,d),r(42,p),r(3,h),r(45,_),r(44,m),r(43,f),r(25,I),r(31,j),r(29,P),r(30,N)),(r(5,l),r(2,d),r(42,p),r(3,h),r(45,_),r(44,m),r(43,f),r(25,I),r(31,j),r(29,P),r(30,N)),(r(4,u),r(2,d),r(42,p),r(3,h),r(45,_),r(44,m),r(43,f),r(25,I),r(31,j),r(29,P),r(30,N)))},[C,L,d,h,u,l,c,s,i,o,E,R,V,K,X,J,Z,Q,ee,te,re,ne,ae,oe,A,I,M,D,O,P,N,j,F,H,U,B,z,Y,W,G,n,a,p,f,m,_,q,function(e){binding_callbacks[e?"unshift":"push"]((()=>{C=e,r(0,C)}))},S]}class VisContainer extends SvelteComponent{constructor(e){super(),init(this,e,instance$p,create_fragment$p,safe_not_equal,{container:0,allowPrintExport:24,chart:25,config:26,dwChart:27,emotion:28,filterUI:29,mapAttribution:30,isIframe:1,renderFlags:31,textDirection:32,theme:33,vis:34,__:35,postEvent:36,teamPublicSettings:37,requiresAttribution:38,allBlocks:39},add_css$6,[-1,-1,-1])}}function arrayToObject(e){if(Array.isArray(e)){const t={};return Object.keys(e).forEach((r=>t[r]=e[r])),t}return e}var publish=[e=>{set$1(e,"publish",arrayToObject(get$1(e,"publish",{})))},e=>{const t=get$1(e,"publish.blocks.logo");"boolean"==typeof t&&set$1(e,"publish.blocks.logo",{enabled:t})}],getExports=requireGet(),get=getDefaultExportFromCjs(getExports),set_1,hasRequiredSet;function requireSet(){if(hasRequiredSet)return set_1;hasRequiredSet=1;var e=require_baseSet();return set_1=function(t,r,n){return null==t?t:e(t,r,n)},set_1}var setExports=requireSet(),set=getDefaultExportFromCjs(setExports);function hash(e){let t=0;for(let r=0,n=e.length;r<n;r++)t=(t<<5)-t+e.charCodeAt(r);for(t=t.toString(36);t.length<10;)t+=t;return t=t.slice(0,10),t}const METADATA_ITEM_ARRAY_PATHS=[["visualize","custom-area-fills"],["visualize","key","items"],["visualize","range-annotations"],["visualize","text-annotations"],["visualize","overlays"],["data","changes"]];function setIdToArrayItems(e){const t=new Set;return e.map(((e,r)=>{let n=e.id||hash(r.toString());for(;t.has(n);)n=hash(n);return t.add(n),e.id=n,e}))}function migrateItemArrays(e){METADATA_ITEM_ARRAY_PATHS.forEach((t=>{const r=get(e,t);r&&Array.isArray(r)&&set(e,t,setIdToArrayItems(r))}))}var fixNumericKeyArrays=e=>{["data.column-format","visualize.custom-colors","visualize.lines","visualize.line-widths","visualize.line-dashes","visualize.line-symbols-shape-multiple","visualize.color-category.map","visualize.columns","visualize.color-category.categoryLabels","visualize.symbols","visualize.areaFill","visualize.heatmap.map","visualize.heatmap.categoryLabels"].forEach((t=>{get$1(e,t)&&set$1(e,t,Object.fromEntries(Object.entries(Object.assign({},get$1(e,t))).map((e=>["".concat(e[0]),e[1]])).filter((e=>null!==e[1]))))}))};const migrations=[...publish,fixNumericKeyArrays,migrateItemArrays];function migrate(e){migrations.forEach((t=>t(e)))}var now_1,hasRequiredNow,_trimmedEndIndex,hasRequired_trimmedEndIndex,_baseTrim,hasRequired_baseTrim,toNumber_1,hasRequiredToNumber,debounce_1,hasRequiredDebounce;function requireNow(){if(hasRequiredNow)return now_1;hasRequiredNow=1;var e=require_root();return now_1=function(){return e.Date.now()}}function require_trimmedEndIndex(){if(hasRequired_trimmedEndIndex)return _trimmedEndIndex;hasRequired_trimmedEndIndex=1;var e=/\s/;return _trimmedEndIndex=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r},_trimmedEndIndex}function require_baseTrim(){if(hasRequired_baseTrim)return _baseTrim;hasRequired_baseTrim=1;var e=require_trimmedEndIndex(),t=/^\s+/;return _baseTrim=function(r){return r?r.slice(0,e(r)+1).replace(t,""):r},_baseTrim}function requireToNumber(){if(hasRequiredToNumber)return toNumber_1;hasRequiredToNumber=1;var e=require_baseTrim(),t=requireIsObject(),r=requireIsSymbol(),n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,i=parseInt;return toNumber_1=function(s){if("number"==typeof s)return s;if(r(s))return NaN;if(t(s)){var c="function"==typeof s.valueOf?s.valueOf():s;s=t(c)?c+"":c}if("string"!=typeof s)return 0===s?s:+s;s=e(s);var l=a.test(s);return l||o.test(s)?i(s.slice(2),l?2:8):n.test(s)?NaN:+s}}function requireDebounce(){if(hasRequiredDebounce)return debounce_1;hasRequiredDebounce=1;var e=requireIsObject(),t=requireNow(),r=requireToNumber(),n=Math.max,a=Math.min;return debounce_1=function(o,i,s){var c,l,u,d,p,h,f=0,m=!1,_=!1,g=!0;if("function"!=typeof o)throw new TypeError("Expected a function");function y(e){var t=c,r=l;return c=l=void 0,f=e,d=o.apply(r,t)}function b(e){var t=e-h;return void 0===h||t>=i||t<0||_&&e-f>=u}function $(){var e=t();if(b(e))return v(e);p=setTimeout($,function(e){var t=i-(e-h);return _?a(t,u-(e-f)):t}(e))}function v(e){return p=void 0,g&&c?y(e):(c=l=void 0,d)}function k(){var e=t(),r=b(e);if(c=arguments,l=this,h=e,r){if(void 0===p)return function(e){return f=e,p=setTimeout($,i),m?y(e):d}(h);if(_)return clearTimeout(p),p=setTimeout($,i),y(h)}return void 0===p&&(p=setTimeout($,i)),d}return i=r(i)||0,e(s)&&(m=!!s.leading,u=(_="maxWait"in s)?n(r(s.maxWait)||0,i):u,g="trailing"in s?!!s.trailing:g),k.cancel=function(){void 0!==p&&clearTimeout(p),f=0,c=h=l=p=void 0},k.flush=function(){return void 0===p?d:v(t())},k},debounce_1}var debounceExports=requireDebounce(),debounce=getDefaultExportFromCjs(debounceExports),_baseFindIndex,hasRequired_baseFindIndex,_baseIsNaN,hasRequired_baseIsNaN,_strictIndexOf,hasRequired_strictIndexOf,_baseIndexOf,hasRequired_baseIndexOf,_arrayIncludes,hasRequired_arrayIncludes,_arrayIncludesWith,hasRequired_arrayIncludesWith,noop_1,hasRequiredNoop,_createSet,hasRequired_createSet,_baseUniq,hasRequired_baseUniq,uniqBy_1,hasRequiredUniqBy;function require_baseFindIndex(){if(hasRequired_baseFindIndex)return _baseFindIndex;return hasRequired_baseFindIndex=1,_baseFindIndex=function(e,t,r,n){for(var a=e.length,o=r+(n?1:-1);n?o--:++o<a;)if(t(e[o],o,e))return o;return-1},_baseFindIndex}function require_baseIsNaN(){if(hasRequired_baseIsNaN)return _baseIsNaN;return hasRequired_baseIsNaN=1,_baseIsNaN=function(e){return e!=e}}function require_strictIndexOf(){if(hasRequired_strictIndexOf)return _strictIndexOf;return hasRequired_strictIndexOf=1,_strictIndexOf=function(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1},_strictIndexOf}function require_baseIndexOf(){if(hasRequired_baseIndexOf)return _baseIndexOf;hasRequired_baseIndexOf=1;var e=require_baseFindIndex(),t=require_baseIsNaN(),r=require_strictIndexOf();return _baseIndexOf=function(n,a,o){return a==a?r(n,a,o):e(n,t,o)}}function require_arrayIncludes(){if(hasRequired_arrayIncludes)return _arrayIncludes;hasRequired_arrayIncludes=1;var e=require_baseIndexOf();return _arrayIncludes=function(t,r){return!!(null==t?0:t.length)&&e(t,r,0)>-1}}function require_arrayIncludesWith(){if(hasRequired_arrayIncludesWith)return _arrayIncludesWith;return hasRequired_arrayIncludesWith=1,_arrayIncludesWith=function(e,t,r){for(var n=-1,a=null==e?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1},_arrayIncludesWith}function requireNoop(){if(hasRequiredNoop)return noop_1;return hasRequiredNoop=1,noop_1=function(){}}function require_createSet(){if(hasRequired_createSet)return _createSet;hasRequired_createSet=1;var e=require_Set(),t=requireNoop(),r=require_setToArray(),n=e&&1/r(new e([,-0]))[1]==1/0?function(t){return new e(t)}:t;return _createSet=n}function require_baseUniq(){if(hasRequired_baseUniq)return _baseUniq;hasRequired_baseUniq=1;var e=require_SetCache(),t=require_arrayIncludes(),r=require_arrayIncludesWith(),n=require_cacheHas(),a=require_createSet(),o=require_setToArray();return _baseUniq=function(i,s,c){var l=-1,u=t,d=i.length,p=!0,h=[],f=h;if(c)p=!1,u=r;else if(d>=200){var m=s?null:a(i);if(m)return o(m);p=!1,u=n,f=new e}else f=s?[]:h;e:for(;++l<d;){var _=i[l],g=s?s(_):_;if(_=c||0!==_?_:0,p&&g==g){for(var y=f.length;y--;)if(f[y]===g)continue e;s&&f.push(g),h.push(_)}else u(f,g,c)||(f!==h&&f.push(g),h.push(_))}return h},_baseUniq}function requireUniqBy(){if(hasRequiredUniqBy)return uniqBy_1;hasRequiredUniqBy=1;var e=require_baseIteratee(),t=require_baseUniq();return uniqBy_1=function(r,n){return r&&r.length?t(r,e(n,2)):[]}}var uniqByExports=requireUniqBy(),uniqBy=getDefaultExportFromCjs(uniqByExports),isString_1,hasRequiredIsString,isNumber_1,hasRequiredIsNumber,_baseIsDate,hasRequired_baseIsDate,isDate_1,hasRequiredIsDate,_isNaN,hasRequired_isNaN,_castFunction,hasRequired_castFunction,forEach_1,hasRequiredForEach,each$2,hasRequiredEach;function requireIsString(){if(hasRequiredIsString)return isString_1;hasRequiredIsString=1;var e=require_baseGetTag(),t=requireIsArray(),r=requireIsObjectLike();return isString_1=function(n){return"string"==typeof n||!t(n)&&r(n)&&"[object String]"==e(n)}}function requireIsNumber(){if(hasRequiredIsNumber)return isNumber_1;hasRequiredIsNumber=1;var e=require_baseGetTag(),t=requireIsObjectLike();return isNumber_1=function(r){return"number"==typeof r||t(r)&&"[object Number]"==e(r)}}function require_baseIsDate(){if(hasRequired_baseIsDate)return _baseIsDate;hasRequired_baseIsDate=1;var e=require_baseGetTag(),t=requireIsObjectLike();return _baseIsDate=function(r){return t(r)&&"[object Date]"==e(r)}}function requireIsDate(){if(hasRequiredIsDate)return isDate_1;hasRequiredIsDate=1;var e=require_baseIsDate(),t=require_baseUnary(),r=require_nodeUtil(),n=r&&r.isDate,a=n?t(n):e;return isDate_1=a}function require_isNaN(){if(hasRequired_isNaN)return _isNaN;hasRequired_isNaN=1;var e=requireIsNumber();return _isNaN=function(t){return e(t)&&t!=+t}}function require_castFunction(){if(hasRequired_castFunction)return _castFunction;hasRequired_castFunction=1;var e=requireIdentity();return _castFunction=function(t){return"function"==typeof t?t:e}}function requireForEach(){if(hasRequiredForEach)return forEach_1;hasRequiredForEach=1;var e=require_arrayEach(),t=require_baseEach(),r=require_castFunction(),n=requireIsArray();return forEach_1=function(a,o){return(n(a)?e:t)(a,r(o))}}function requireEach(){return hasRequiredEach?each$2:(hasRequiredEach=1,each$2=requireForEach())}requireIsString(),requireIsNumber(),requireIsDate(),require_isNaN();var eachExports=requireEach(),each$1=getDefaultExportFromCjs(eachExports),_baseRandom,hasRequired_baseRandom,_shuffleSelf,hasRequired_shuffleSelf,_arrayShuffle,hasRequired_arrayShuffle,_baseValues,hasRequired_baseValues,values_1,hasRequiredValues,_baseShuffle,hasRequired_baseShuffle,shuffle_1,hasRequiredShuffle,_baseMap,hasRequired_baseMap,map_1,hasRequiredMap,_createFind,hasRequired_createFind,toFinite_1,hasRequiredToFinite,toInteger_1,hasRequiredToInteger,findIndex_1,hasRequiredFindIndex,find_1,hasRequiredFind,_baseRange,hasRequired_baseRange,_createRange,hasRequired_createRange,range_1,hasRequiredRange;function require_baseRandom(){if(hasRequired_baseRandom)return _baseRandom;hasRequired_baseRandom=1;var e=Math.floor,t=Math.random;return _baseRandom=function(r,n){return r+e(t()*(n-r+1))}}function require_shuffleSelf(){if(hasRequired_shuffleSelf)return _shuffleSelf;hasRequired_shuffleSelf=1;var e=require_baseRandom();return _shuffleSelf=function(t,r){var n=-1,a=t.length,o=a-1;for(r=void 0===r?a:r;++n<r;){var i=e(n,o),s=t[i];t[i]=t[n],t[n]=s}return t.length=r,t},_shuffleSelf}function require_arrayShuffle(){if(hasRequired_arrayShuffle)return _arrayShuffle;hasRequired_arrayShuffle=1;var e=require_copyArray(),t=require_shuffleSelf();return _arrayShuffle=function(r){return t(e(r))}}function require_baseValues(){if(hasRequired_baseValues)return _baseValues;hasRequired_baseValues=1;var e=require_arrayMap();return _baseValues=function(t,r){return e(r,(function(e){return t[e]}))},_baseValues}function requireValues(){if(hasRequiredValues)return values_1;hasRequiredValues=1;var e=require_baseValues(),t=requireKeys();return values_1=function(r){return null==r?[]:e(r,t(r))},values_1}function require_baseShuffle(){if(hasRequired_baseShuffle)return _baseShuffle;hasRequired_baseShuffle=1;var e=require_shuffleSelf(),t=requireValues();return _baseShuffle=function(r){return e(t(r))}}function requireShuffle(){if(hasRequiredShuffle)return shuffle_1;hasRequiredShuffle=1;var e=require_arrayShuffle(),t=require_baseShuffle(),r=requireIsArray();return shuffle_1=function(n){return(r(n)?e:t)(n)}}function require_baseMap(){if(hasRequired_baseMap)return _baseMap;hasRequired_baseMap=1;var e=require_baseEach(),t=requireIsArrayLike();return _baseMap=function(r,n){var a=-1,o=t(r)?Array(r.length):[];return e(r,(function(e,t,r){o[++a]=n(e,t,r)})),o},_baseMap}function requireMap(){if(hasRequiredMap)return map_1;hasRequiredMap=1;var e=require_arrayMap(),t=require_baseIteratee(),r=require_baseMap(),n=requireIsArray();return map_1=function(a,o){return(n(a)?e:r)(a,t(o,3))}}function require_createFind(){if(hasRequired_createFind)return _createFind;hasRequired_createFind=1;var e=require_baseIteratee(),t=requireIsArrayLike(),r=requireKeys();return _createFind=function(n){return function(a,o,i){var s=Object(a);if(!t(a)){var c=e(o,3);a=r(a),o=function(e){return c(s[e],e,s)}}var l=n(a,o,i);return l>-1?s[c?a[l]:l]:void 0}},_createFind}function requireToFinite(){if(hasRequiredToFinite)return toFinite_1;hasRequiredToFinite=1;var e=requireToNumber(),t=1/0;return toFinite_1=function(r){return r?(r=e(r))===t||r===-1/0?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0}}function requireToInteger(){if(hasRequiredToInteger)return toInteger_1;hasRequiredToInteger=1;var e=requireToFinite();return toInteger_1=function(t){var r=e(t),n=r%1;return r==r?n?r-n:r:0}}function requireFindIndex(){if(hasRequiredFindIndex)return findIndex_1;hasRequiredFindIndex=1;var e=require_baseFindIndex(),t=require_baseIteratee(),r=requireToInteger(),n=Math.max;return findIndex_1=function(a,o,i){var s=null==a?0:a.length;if(!s)return-1;var c=null==i?0:r(i);return c<0&&(c=n(s+c,0)),e(a,t(o,3),c)},findIndex_1}function requireFind(){if(hasRequiredFind)return find_1;hasRequiredFind=1;var e=require_createFind()(requireFindIndex());return find_1=e}function require_baseRange(){if(hasRequired_baseRange)return _baseRange;hasRequired_baseRange=1;var e=Math.ceil,t=Math.max;return _baseRange=function(r,n,a,o){for(var i=-1,s=t(e((n-r)/(a||1)),0),c=Array(s);s--;)c[o?s:++i]=r,r+=a;return c},_baseRange}function require_createRange(){if(hasRequired_createRange)return _createRange;hasRequired_createRange=1;var e=require_baseRange(),t=require_isIterateeCall(),r=requireToFinite();return _createRange=function(n){return function(a,o,i){return i&&"number"!=typeof i&&t(a,o,i)&&(o=i=void 0),a=r(a),void 0===o?(o=a,a=0):o=r(o),i=void 0===i?a<o?1:-1:r(i),e(a,o,i,n)}},_createRange}function requireRange(){if(hasRequiredRange)return range_1;hasRequiredRange=1;var e=require_createRange()();return range_1=e}requireShuffle(),requireMap(),requireFind(),requireRange();var flattenExports=requireFlatten(),flatten=getDefaultExportFromCjs(flattenExports),valuesExports=requireValues(),values=getDefaultExportFromCjs(valuesExports),_baseIsRegExp,hasRequired_baseIsRegExp,isRegExp_1,hasRequiredIsRegExp;function require_baseIsRegExp(){if(hasRequired_baseIsRegExp)return _baseIsRegExp;hasRequired_baseIsRegExp=1;var e=require_baseGetTag(),t=requireIsObjectLike();return _baseIsRegExp=function(r){return t(r)&&"[object RegExp]"==e(r)}}function requireIsRegExp(){if(hasRequiredIsRegExp)return isRegExp_1;hasRequiredIsRegExp=1;var e=require_baseIsRegExp(),t=require_baseUnary(),r=require_nodeUtil(),n=r&&r.isRegExp,a=n?t(n):e;return isRegExp_1=a}var isRegExpExports=requireIsRegExp(),isRegExp=getDefaultExportFromCjs(isRegExpExports);const begin=/^ */.source,end=/[*']* *$/.source,s0=/[ \-/.]?/.source,s1=/[ \-/.]/.source,s2=/[ \-/.;,]/.source,s3=/[ \-|T]/.source,sM=/[ \-/.m]/.source,rx={YY:{parse:/[']?(\d{2})/},YYYY:{test:/([12]\d{3})/,parse:/(\d{4})/},YYYY2:{test:/(?:1[7-9]|20)\d{2}/,parse:/(\d{4})/},H:{parse:/h([12])/},Q:{parse:/q([1234])/},W:{parse:/w([0-5]?[0-9])/},MM:{test:/(0?[1-9]|1[0-2])/,parse:/(0?[1-9]|1[0-2])/},DD:{parse:/(0?[1-9]|[1-2][0-9]|3[01])/},DOW:{parse:/([0-7])/},HHMM:{parse:/(0?\d|1\d|2[0-3]):([0-5]\d)(?::([0-5]\d))? *(AM|PM)?/}},MONTHS={0:["JAN","JANUARY","JANUAR","JNNER","JN","JANV","JANVIER","ENE","ENERO","GEN","GENNAIO","JANEIRO","JANUARI"],1:["FEB","FEBRUARY","FEBR","FEBRUAR","FV","FVR","FVRIER","FEBRERO","FEBBRAIO","FEV","FEVEREIRO","FEBRUARI"],2:["MAR","MR","MARCH","MRZ","MRZ","MARS","MARS","MARZO","MARZO","MARO","MARET"],3:["APR","APRIL","APR","APRIL","AVR","AVRIL","ABR","ABRIL","APRILE"],4:["MAY","MAI","MAYO","MAG","MAGGIO","MAIO","MAJ","MEI"],5:["JUN","JUNE","JUNI","JUIN","JUNIO","GIU","GIUGNO","JUNHO"],6:["JUL","JULY","JULI","JUIL","JUILLET","JULIO","LUG","LUGLIO","JULHO"],7:["AUG","AUGUST","AOT","AGO","AGOSTO","AGUSTUS","AGT"],8:["SEP","SEPTEMBER","SEPT","SEPTEMBRE","SEPTIEMBRE","SET","SETTEMBRE","SETEMBRO"],9:["OCT","OCTOBER","OKT","OKTOBER","OCTOBRE","OCTUBRE","OTT","OTTOBRE","OUT","OUTUBRO"],10:["NOV","NOVEMBER","NOVEMBER","NOVEMBRE","NOVIEMBRE","NOVEMBRE","NOVEMBRO"],11:["DEC","DECEMBER","DEZ","DES","DEZEMBER","DC","DCEMBRE","DIC","DICIEMBRE","DICEMBRE","DESEMBER","DEZEMBRO"]};function reg(){return new RegExp(begin+Array.prototype.slice.call(arguments).join(" *")+end,"i")}var uniq_1,hasRequiredUniq;function requireUniq(){if(hasRequiredUniq)return uniq_1;hasRequiredUniq=1;var e=require_baseUniq();return uniq_1=function(t){return t&&t.length?e(t):[]}}function width(e){const t=parseFloat(getComputedStyle(e,null).width.replace("px",""));return isNaN(t)?0:t}function domReady(e){/complete|interactive|loaded/.test(document.readyState)?e():window.addEventListener("DOMContentLoaded",(()=>{e()}))}function getHeightMode(e){let{themeData:t,visualizationMeta:r,renderFlags:n}=e;return get$1(t,"vis.d3-pies.fitchart",!1)&&["d3-pies","d3-donuts","d3-multiple-pies","d3-multiple-donuts"].includes(r.id)||n.fitchart||"fixed"!==r.height?"fit":"fixed"}each$1(MONTHS,(function(e,t){each$1(e,(function(e){}))})),rx.MMM={parse:new RegExp("("+flatten(values(MONTHS)).join("|")+")")},each$1(rx,(function(e){e.parse=e.parse.source,isRegExp(e.test)?e.test=e.test.source:e.test=e.parse})),reg(rx.YYYY2.test),reg(rx.YYYY2.parse),reg(rx.YYYY.test,s0,rx.H.test),reg(rx.YYYY.parse,s0,rx.H.parse),reg(rx.H.test,s1,rx.YYYY.test),reg(rx.H.parse,s1,rx.YYYY.parse),reg(rx.YYYY.test,s0,rx.Q.test),reg(rx.YYYY.parse,s0,rx.Q.parse),reg(rx.Q.test,s1,rx.YYYY.test),reg(rx.Q.parse,s1,rx.YYYY.parse),reg(rx.YYYY.test,sM,rx.MM.test),reg(rx.YYYY.parse,sM,rx.MM.parse),reg(rx.MM.test,s1,rx.YYYY.test),reg(rx.MM.parse,s1,rx.YYYY.parse),reg(rx.YYYY.test,s1,rx.MMM.parse),reg(rx.YYYY.parse,s1,rx.MMM.parse),reg(rx.MMM.parse,s1,rx.YYYY.test),reg(rx.MMM.parse,s1,rx.YYYY.parse),reg(rx.MMM.parse,s1,rx.YY.test),reg(rx.MMM.parse,s1,rx.YY.parse),reg(rx.MMM.parse),reg(rx.MMM.parse),reg(rx.YYYY.test,s0,rx.W.test),reg(rx.YYYY.parse,s0,rx.W.parse),reg(rx.W.test,s1,rx.YYYY.test),reg(rx.W.parse,s1,rx.YYYY.parse),reg(rx.MM.test,"([\\-\\/])",rx.DD.test,"\\2",rx.YYYY.test),reg(rx.MM.parse,"([\\-\\/])",rx.DD.parse,"\\2",rx.YYYY.parse),reg(rx.MM.test,"([\\-\\/])",rx.DD.test,"\\2",rx.YY.test),reg(rx.MM.parse,"([\\-\\/])",rx.DD.parse,"\\2",rx.YY.parse),reg(rx.DD.test,"([\\-\\.\\/ ?])",rx.MM.test,"\\2",rx.YY.test),reg(rx.DD.parse,"([\\-\\.\\/ ?])",rx.MM.parse,"\\2",rx.YY.parse),reg(rx.DD.test,"([\\-\\.\\/ ?])",rx.MM.test,"\\2",rx.YYYY.test),reg(rx.DD.parse,"([\\-\\.\\/ ?])",rx.MM.parse,"\\2",rx.YYYY.parse),reg(rx.DD.test,"([\\-\\.\\/ ?])",rx.MMM.test,"\\2",rx.YYYY.test),reg(rx.DD.parse,"([\\-\\.\\/ ?])",rx.MMM.parse,"\\2",rx.YYYY.parse),reg(rx.DD.test,"([\\-\\.\\/ ?])",rx.MMM.test,"\\2",rx.YY.test),reg(rx.DD.parse,"([\\-\\.\\/ ?])",rx.MMM.parse,"\\2",rx.YY.parse),reg(rx.YYYY.test,"([\\-\\.\\/ ?])",rx.MM.test,"\\2",rx.DD.test),reg(rx.YYYY.parse,"([\\-\\.\\/ ?])",rx.MM.parse,"\\2",rx.DD.parse),reg(rx.MMM.test,s1,rx.DD.test,s2,rx.YYYY.test),reg(rx.MMM.parse,s1,rx.DD.parse,s2,rx.YYYY.parse),reg(rx.YYYY.test,s0,rx.W.test,s1,rx.DOW.test),reg(rx.YYYY.parse,s0,rx.W.parse,s1,rx.DOW.parse),reg(rx.MM.test,"([\\-\\/])",rx.DD.test,"\\2",rx.YYYY.test,s3,rx.HHMM.test),reg(rx.MM.parse,"([\\-\\/])",rx.DD.parse,"\\2",rx.YYYY.parse,s3,rx.HHMM.parse),reg(rx.DD.test,"([\\-\\.\\/ ?])",rx.MM.test,"\\2",rx.YYYY.test,s3,rx.HHMM.test),reg(rx.DD.parse,"([\\-\\.\\/ ?])",rx.MM.parse,"\\2",rx.YYYY.parse,s3,rx.HHMM.parse),reg(rx.YYYY.test,"([\\-\\.\\/ ?])",rx.MM.test,"\\2",rx.DD.test,s3,rx.HHMM.test),reg(rx.YYYY.parse,"([\\-\\.\\/ ?])",rx.MM.parse,"\\2",rx.DD.parse,s3,rx.HHMM.parse),requireUniq(),requireIsSymbol(),requireIsFunction();var fontfaceobserver_standalone={exports:{}},hasRequiredFontfaceobserver_standalone;function requireFontfaceobserver_standalone(){return hasRequiredFontfaceobserver_standalone||(hasRequiredFontfaceobserver_standalone=1,e=fontfaceobserver_standalone,function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function r(e){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(e)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function n(e,t){e.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function a(e){var t=e.g.offsetWidth,r=t+100;return e.j.style.width=r+"px",e.i.scrollLeft=r,e.h.scrollLeft=e.h.scrollWidth+100,e.l!==t&&(e.l=t,!0)}function o(e,r){function n(){var e=o;a(e)&&null!==e.g.parentNode&&r(e.l)}var o=e;t(e.h,n),t(e.i,n),a(e)}function i(e,t,r){t=t||{},r=r||window,this.family=e,this.style=t.style||"normal",this.weight=t.weight||"normal",this.stretch=t.stretch||"normal",this.context=r}var s=null,c=null,l=null,u=null;function d(e){return null===u&&(u=!!e.document.fonts),u}function p(e,t){var r=e.style,n=e.weight;if(null===l){var a=document.createElement("div");try{a.style.font="condensed 100px sans-serif"}catch(e){}l=""!==a.style.font}return[r,n,l?e.stretch:"","100px",t].join(" ")}i.prototype.load=function(e,t){var a=this,i=e||"BESbswy",l=0,u=t||3e3,h=(new Date).getTime();return new Promise((function(e,t){if(d(a.context)&&!function(e){return null===c&&(d(e)&&/Apple/.test(window.navigator.vendor)?(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!e&&603>parseInt(e[1],10)):c=!1),c}(a.context)){var f=new Promise((function(e,t){!function r(){(new Date).getTime()-h>=u?t(Error(u+"ms timeout exceeded")):a.context.document.fonts.load(p(a,'"'+a.family+'"'),i).then((function(t){1<=t.length?e():setTimeout(r,25)}),t)}()})),m=new Promise((function(e,t){l=setTimeout((function(){t(Error(u+"ms timeout exceeded"))}),u)}));Promise.race([m,f]).then((function(){clearTimeout(l),e(a)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function c(){var t;(t=-1!=_&&-1!=g||-1!=_&&-1!=y||-1!=g&&-1!=y)&&((t=_!=g&&_!=y&&g!=y)||(null===s&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=s&&(_==b&&g==b&&y==b||_==$&&g==$&&y==$||_==v&&g==v&&y==v)),t=!t),t&&(null!==k.parentNode&&k.parentNode.removeChild(k),clearTimeout(l),e(a))}var d=new r(i),f=new r(i),m=new r(i),_=-1,g=-1,y=-1,b=-1,$=-1,v=-1,k=document.createElement("div");k.dir="ltr",n(d,p(a,"sans-serif")),n(f,p(a,"serif")),n(m,p(a,"monospace")),k.appendChild(d.g),k.appendChild(f.g),k.appendChild(m.g),a.context.document.body.appendChild(k),b=d.g.offsetWidth,$=f.g.offsetWidth,v=m.g.offsetWidth,function e(){if((new Date).getTime()-h>=u)null!==k.parentNode&&k.parentNode.removeChild(k),t(Error(u+"ms timeout exceeded"));else{var r=a.context.document.hidden;!0!==r&&void 0!==r||(_=d.g.offsetWidth,g=f.g.offsetWidth,y=m.g.offsetWidth,c()),l=setTimeout(e,50)}}(),o(d,(function(e){_=e,c()})),n(d,p(a,'"'+a.family+'",sans-serif')),o(f,(function(e){g=e,c()})),n(f,p(a,'"'+a.family+'",serif')),o(m,(function(e){y=e,c()})),n(m,p(a,'"'+a.family+'",monospace'))}))}))},e.exports=i}()),fontfaceobserver_standalone.exports;var e}var fontfaceobserver_standaloneExports=requireFontfaceobserver_standalone(),FontFaceObserver=getDefaultExportFromCjs(fontfaceobserver_standaloneExports);function observeFonts(e,t){const r=new Set(Array.isArray(e)?[]:Object.keys(e).filter((t=>"font"===e[t].type))),n=[];Object.keys(t.fontFamilies||{}).forEach((e=>{t.fontFamilies[e].forEach((t=>{r.has(t.name)&&(r.delete(t.name),n.push({family:e,props:{weight:t.weight||400,style:t.style||"normal"}}))}))}));const a=[];return r.forEach((e=>{const t=new FontFaceObserver(e);a.push(t.load(null,5e3))})),n.forEach((e=>{const t=new FontFaceObserver(e.family,e.props);a.push(t.load(null,5e3))})),Promise.all(a)}const getValueOrDefault=(e,t,r)=>e&&t(e)?e:r();function loadScript(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise(((r,n)=>{const a=document.createElement("script");a.src=e,a.charset="utf-8",a.onload=()=>{t&&t(),r()},a.onerror=n,document.body.appendChild(a)}))}function loadStylesheet(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"string"==typeof e&&(e={src:e});const r=e,n=getValueOrDefault(r.parentElement,(e=>"function"==typeof e.appendChild),(()=>document.head));return new Promise(((e,a)=>{const o=document.createElement("link");o.rel="stylesheet",o.href=r.src,o.charset="utf-8",o.onload=()=>{t&&t(),e()},o.onerror=a,n.appendChild(o)}))}var limit=(e,t=0,r=1)=>min$3(max$3(t,e),r),clip_rgb=e=>{e._clipped=!1,e._unclipped=e.slice(0);for(let t=0;t<=3;t++)t<3?((e[t]<0||e[t]>255)&&(e._clipped=!0),e[t]=limit(e[t],0,255)):3===t&&(e[t]=limit(e[t],0,1));return e};const classToType={};for(let e of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])classToType[`[object ${e}]`]=e.toLowerCase();function type(e){return classToType[Object.prototype.toString.call(e)]||"object"}var unpack=(e,t=null)=>e.length>=3?Array.prototype.slice.call(e):"object"==type(e[0])&&t?t.split("").filter((t=>void 0!==e[0][t])).map((t=>e[0][t])):e[0],last=e=>{if(e.length<2)return null;const t=e.length-1;return"string"==type(e[t])?e[t].toLowerCase():null};const{PI:PI$2,min:min$3,max:max$3}=Math,TWOPI=2*PI$2,PITHIRD=PI$2/3,DEG2RAD=PI$2/180,RAD2DEG=180/PI$2;var input={format:{},autodetect:[]};class Color{constructor(...e){const t=this;if("object"===type(e[0])&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];let r=last(e),n=!1;if(!r){n=!0,input.sorted||(input.autodetect=input.autodetect.sort(((e,t)=>t.p-e.p)),input.sorted=!0);for(let t of input.autodetect)if(r=t.test(...e),r)break}if(!input.format[r])throw new Error("unknown format: "+e);{const a=input.format[r].apply(null,n?e:e.slice(0,-1));t._rgb=clip_rgb(a)}3===t._rgb.length&&t._rgb.push(1)}toString(){return"function"==type(this.hex)?this.hex():`[${this._rgb.join(",")}]`}}const version="2.6.0",chroma=(...e)=>new chroma.Color(...e);chroma.Color=Color,chroma.version=version;const cmyk2rgb=(...e)=>{e=unpack(e,"cmyk");const[t,r,n,a]=e,o=e.length>4?e[4]:1;return 1===a?[0,0,0,o]:[t>=1?0:255*(1-t)*(1-a),r>=1?0:255*(1-r)*(1-a),n>=1?0:255*(1-n)*(1-a),o]},{max:max$2}=Math,rgb2cmyk=(...e)=>{let[t,r,n]=unpack(e,"rgb");t/=255,r/=255,n/=255;const a=1-max$2(t,max$2(r,n)),o=a<1?1/(1-a):0;return[(1-t-a)*o,(1-r-a)*o,(1-n-a)*o,a]};Color.prototype.cmyk=function(){return rgb2cmyk(this._rgb)},chroma.cmyk=(...e)=>new Color(...e,"cmyk"),input.format.cmyk=cmyk2rgb,input.autodetect.push({p:2,test:(...e)=>{if("array"===type(e=unpack(e,"cmyk"))&&4===e.length)return"cmyk"}});const rnd=e=>Math.round(100*e)/100,hsl2css=(...e)=>{const t=unpack(e,"hsla");let r=last(e)||"lsa";return t[0]=rnd(t[0]||0),t[1]=rnd(100*t[1])+"%",t[2]=rnd(100*t[2])+"%","hsla"===r||t.length>3&&t[3]<1?(t[3]=t.length>3?t[3]:1,r="hsla"):t.length=3,`${r}(${t.join(",")})`},rgb2hsl$1=(...e)=>{e=unpack(e,"rgba");let[t,r,n]=e;t/=255,r/=255,n/=255;const a=min$3(t,r,n),o=max$3(t,r,n),i=(o+a)/2;let s,c;return o===a?(s=0,c=Number.NaN):s=i<.5?(o-a)/(o+a):(o-a)/(2-o-a),t==o?c=(r-n)/(o-a):r==o?c=2+(n-t)/(o-a):n==o&&(c=4+(t-r)/(o-a)),c*=60,c<0&&(c+=360),e.length>3&&void 0!==e[3]?[c,s,i,e[3]]:[c,s,i]},{round:round$6}=Math,rgb2css=(...e)=>{const t=unpack(e,"rgba");let r=last(e)||"rgb";return"hsl"==r.substr(0,3)?hsl2css(rgb2hsl$1(t),r):(t[0]=round$6(t[0]),t[1]=round$6(t[1]),t[2]=round$6(t[2]),("rgba"===r||t.length>3&&t[3]<1)&&(t[3]=t.length>3?t[3]:1,r="rgba"),`${r}(${t.slice(0,"rgb"===r?3:4).join(",")})`)},{round:round$5}=Math,hsl2rgb=(...e)=>{e=unpack(e,"hsl");const[t,r,n]=e;let a,o,i;if(0===r)a=o=i=255*n;else{const e=[0,0,0],s=[0,0,0],c=n<.5?n*(1+r):n+r-n*r,l=2*n-c,u=t/360;e[0]=u+1/3,e[1]=u,e[2]=u-1/3;for(let t=0;t<3;t++)e[t]<0&&(e[t]+=1),e[t]>1&&(e[t]-=1),6*e[t]<1?s[t]=l+6*(c-l)*e[t]:2*e[t]<1?s[t]=c:3*e[t]<2?s[t]=l+(c-l)*(2/3-e[t])*6:s[t]=l;[a,o,i]=[round$5(255*s[0]),round$5(255*s[1]),round$5(255*s[2])]}return e.length>3?[a,o,i,e[3]]:[a,o,i,1]},RE_RGB=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,RE_RGBA=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,RE_RGB_PCT=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,RE_RGBA_PCT=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,RE_HSL=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,RE_HSLA=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,{round:round$4}=Math,css2rgb=e=>{let t;if(e=e.toLowerCase().trim(),input.format.named)try{return input.format.named(e)}catch(e){}if(t=e.match(RE_RGB)){const e=t.slice(1,4);for(let t=0;t<3;t++)e[t]=+e[t];return e[3]=1,e}if(t=e.match(RE_RGBA)){const e=t.slice(1,5);for(let t=0;t<4;t++)e[t]=+e[t];return e}if(t=e.match(RE_RGB_PCT)){const e=t.slice(1,4);for(let t=0;t<3;t++)e[t]=round$4(2.55*e[t]);return e[3]=1,e}if(t=e.match(RE_RGBA_PCT)){const e=t.slice(1,5);for(let t=0;t<3;t++)e[t]=round$4(2.55*e[t]);return e[3]=+e[3],e}if(t=e.match(RE_HSL)){const e=t.slice(1,4);e[1]*=.01,e[2]*=.01;const r=hsl2rgb(e);return r[3]=1,r}if(t=e.match(RE_HSLA)){const e=t.slice(1,4);e[1]*=.01,e[2]*=.01;const r=hsl2rgb(e);return r[3]=+t[4],r}};css2rgb.test=e=>RE_RGB.test(e)||RE_RGBA.test(e)||RE_RGB_PCT.test(e)||RE_RGBA_PCT.test(e)||RE_HSL.test(e)||RE_HSLA.test(e),Color.prototype.css=function(e){return rgb2css(this._rgb,e)},chroma.css=(...e)=>new Color(...e,"css"),input.format.css=css2rgb,input.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&"string"===type(e)&&css2rgb.test(e))return"css"}}),input.format.gl=(...e)=>{const t=unpack(e,"rgba");return t[0]*=255,t[1]*=255,t[2]*=255,t},chroma.gl=(...e)=>new Color(...e,"gl"),Color.prototype.gl=function(){const e=this._rgb;return[e[0]/255,e[1]/255,e[2]/255,e[3]]};const{floor:floor$3}=Math,hcg2rgb=(...e)=>{e=unpack(e,"hcg");let t,r,n,[a,o,i]=e;i*=255;const s=255*o;if(0===o)t=r=n=i;else{360===a&&(a=0),a>360&&(a-=360),a<0&&(a+=360),a/=60;const e=floor$3(a),c=a-e,l=i*(1-o),u=l+s*(1-c),d=l+s*c,p=l+s;switch(e){case 0:[t,r,n]=[p,d,l];break;case 1:[t,r,n]=[u,p,l];break;case 2:[t,r,n]=[l,p,d];break;case 3:[t,r,n]=[l,u,p];break;case 4:[t,r,n]=[d,l,p];break;case 5:[t,r,n]=[p,l,u]}}return[t,r,n,e.length>3?e[3]:1]},rgb2hcg=(...e)=>{const[t,r,n]=unpack(e,"rgb"),a=min$3(t,r,n),o=max$3(t,r,n),i=o-a,s=100*i/255,c=a/(255-i)*100;let l;return 0===i?l=Number.NaN:(t===o&&(l=(r-n)/i),r===o&&(l=2+(n-t)/i),n===o&&(l=4+(t-r)/i),l*=60,l<0&&(l+=360)),[l,s,c]};Color.prototype.hcg=function(){return rgb2hcg(this._rgb)},chroma.hcg=(...e)=>new Color(...e,"hcg"),input.format.hcg=hcg2rgb,input.autodetect.push({p:1,test:(...e)=>{if("array"===type(e=unpack(e,"hcg"))&&3===e.length)return"hcg"}});const RE_HEX=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,RE_HEXA=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,hex2rgb=e=>{if(e.match(RE_HEX)){4!==e.length&&7!==e.length||(e=e.substr(1)),3===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const t=parseInt(e,16);return[t>>16,t>>8&255,255&t,1]}if(e.match(RE_HEXA)){5!==e.length&&9!==e.length||(e=e.substr(1)),4===e.length&&(e=(e=e.split(""))[0]+e[0]+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]);const t=parseInt(e,16);return[t>>24&255,t>>16&255,t>>8&255,Math.round((255&t)/255*100)/100]}throw new Error(`unknown hex color: ${e}`)},{round:round$3}=Math,rgb2hex=(...e)=>{let[t,r,n,a]=unpack(e,"rgba"),o=last(e)||"auto";void 0===a&&(a=1),"auto"===o&&(o=a<1?"rgba":"rgb"),t=round$3(t),r=round$3(r),n=round$3(n);let i="000000"+(t<<16|r<<8|n).toString(16);i=i.substr(i.length-6);let s="0"+round$3(255*a).toString(16);switch(s=s.substr(s.length-2),o.toLowerCase()){case"rgba":return`#${i}${s}`;case"argb":return`#${s}${i}`;default:return`#${i}`}};Color.prototype.hex=function(e){return rgb2hex(this._rgb,e)},chroma.hex=(...e)=>new Color(...e,"hex"),input.format.hex=hex2rgb,input.autodetect.push({p:4,test:(e,...t)=>{if(!t.length&&"string"===type(e)&&[3,4,5,6,7,8,9].indexOf(e.length)>=0)return"hex"}});const{cos:cos$4}=Math,hsi2rgb=(...e)=>{e=unpack(e,"hsi");let t,r,n,[a,o,i]=e;return isNaN(a)&&(a=0),isNaN(o)&&(o=0),a>360&&(a-=360),a<0&&(a+=360),a/=360,a<1/3?(n=(1-o)/3,t=(1+o*cos$4(TWOPI*a)/cos$4(PITHIRD-TWOPI*a))/3,r=1-(n+t)):a<2/3?(a-=1/3,t=(1-o)/3,r=(1+o*cos$4(TWOPI*a)/cos$4(PITHIRD-TWOPI*a))/3,n=1-(t+r)):(a-=2/3,r=(1-o)/3,n=(1+o*cos$4(TWOPI*a)/cos$4(PITHIRD-TWOPI*a))/3,t=1-(r+n)),t=limit(i*t*3),r=limit(i*r*3),n=limit(i*n*3),[255*t,255*r,255*n,e.length>3?e[3]:1]},{min:min$2,sqrt:sqrt$4,acos:acos}=Math,rgb2hsi=(...e)=>{let t,[r,n,a]=unpack(e,"rgb");r/=255,n/=255,a/=255;const o=min$2(r,n,a),i=(r+n+a)/3,s=i>0?1-o/i:0;return 0===s?t=NaN:(t=(r-n+(r-a))/2,t/=sqrt$4((r-n)*(r-n)+(r-a)*(n-a)),t=acos(t),a>n&&(t=TWOPI-t),t/=TWOPI),[360*t,s,i]};Color.prototype.hsi=function(){return rgb2hsi(this._rgb)},chroma.hsi=(...e)=>new Color(...e,"hsi"),input.format.hsi=hsi2rgb,input.autodetect.push({p:2,test:(...e)=>{if("array"===type(e=unpack(e,"hsi"))&&3===e.length)return"hsi"}}),Color.prototype.hsl=function(){return rgb2hsl$1(this._rgb)},chroma.hsl=(...e)=>new Color(...e,"hsl"),input.format.hsl=hsl2rgb,input.autodetect.push({p:2,test:(...e)=>{if("array"===type(e=unpack(e,"hsl"))&&3===e.length)return"hsl"}});const{floor:floor$2}=Math,hsv2rgb=(...e)=>{e=unpack(e,"hsv");let t,r,n,[a,o,i]=e;if(i*=255,0===o)t=r=n=i;else{360===a&&(a=0),a>360&&(a-=360),a<0&&(a+=360),a/=60;const e=floor$2(a),s=a-e,c=i*(1-o),l=i*(1-o*s),u=i*(1-o*(1-s));switch(e){case 0:[t,r,n]=[i,u,c];break;case 1:[t,r,n]=[l,i,c];break;case 2:[t,r,n]=[c,i,u];break;case 3:[t,r,n]=[c,l,i];break;case 4:[t,r,n]=[u,c,i];break;case 5:[t,r,n]=[i,c,l]}}return[t,r,n,e.length>3?e[3]:1]},{min:min$1,max:max$1}=Math,rgb2hsl=(...e)=>{e=unpack(e,"rgb");let[t,r,n]=e;const a=min$1(t,r,n),o=max$1(t,r,n),i=o-a;let s,c,l;return l=o/255,0===o?(s=Number.NaN,c=0):(c=i/o,t===o&&(s=(r-n)/i),r===o&&(s=2+(n-t)/i),n===o&&(s=4+(t-r)/i),s*=60,s<0&&(s+=360)),[s,c,l]};Color.prototype.hsv=function(){return rgb2hsl(this._rgb)},chroma.hsv=(...e)=>new Color(...e,"hsv"),input.format.hsv=hsv2rgb,input.autodetect.push({p:2,test:(...e)=>{if("array"===type(e=unpack(e,"hsv"))&&3===e.length)return"hsv"}});var LAB_CONSTANTS={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452};const{pow:pow$a}=Math,lab2rgb=(...e)=>{e=unpack(e,"lab");const[t,r,n]=e;let a,o,i,s,c,l;return o=(t+16)/116,a=isNaN(r)?o:o+r/500,i=isNaN(n)?o:o-n/200,o=LAB_CONSTANTS.Yn*lab_xyz(o),a=LAB_CONSTANTS.Xn*lab_xyz(a),i=LAB_CONSTANTS.Zn*lab_xyz(i),s=xyz_rgb(3.2404542*a-1.5371385*o-.4985314*i),c=xyz_rgb(-.969266*a+1.8760108*o+.041556*i),l=xyz_rgb(.0556434*a-.2040259*o+1.0572252*i),[s,c,l,e.length>3?e[3]:1]},xyz_rgb=e=>255*(e<=.00304?12.92*e:1.055*pow$a(e,1/2.4)-.055),lab_xyz=e=>e>LAB_CONSTANTS.t1?e*e*e:LAB_CONSTANTS.t2*(e-LAB_CONSTANTS.t0),{pow:pow$9}=Math,rgb2lab=(...e)=>{const[t,r,n]=unpack(e,"rgb"),[a,o,i]=rgb2xyz(t,r,n),s=116*o-16;return[s<0?0:s,500*(a-o),200*(o-i)]},rgb_xyz=e=>(e/=255)<=.04045?e/12.92:pow$9((e+.055)/1.055,2.4),xyz_lab=e=>e>LAB_CONSTANTS.t3?pow$9(e,1/3):e/LAB_CONSTANTS.t2+LAB_CONSTANTS.t0,rgb2xyz=(e,t,r)=>{e=rgb_xyz(e),t=rgb_xyz(t),r=rgb_xyz(r);return[xyz_lab((.4124564*e+.3575761*t+.1804375*r)/LAB_CONSTANTS.Xn),xyz_lab((.2126729*e+.7151522*t+.072175*r)/LAB_CONSTANTS.Yn),xyz_lab((.0193339*e+.119192*t+.9503041*r)/LAB_CONSTANTS.Zn)]};Color.prototype.lab=function(){return rgb2lab(this._rgb)},chroma.lab=(...e)=>new Color(...e,"lab"),input.format.lab=lab2rgb,input.autodetect.push({p:2,test:(...e)=>{if("array"===type(e=unpack(e,"lab"))&&3===e.length)return"lab"}});const{sin:sin$3,cos:cos$3}=Math,lch2lab=(...e)=>{let[t,r,n]=unpack(e,"lch");return isNaN(n)&&(n=0),n*=DEG2RAD,[t,cos$3(n)*r,sin$3(n)*r]},lch2rgb=(...e)=>{e=unpack(e,"lch");const[t,r,n]=e,[a,o,i]=lch2lab(t,r,n),[s,c,l]=lab2rgb(a,o,i);return[s,c,l,e.length>3?e[3]:1]},hcl2rgb=(...e)=>{const t=unpack(e,"hcl").reverse();return lch2rgb(...t)},{sqrt:sqrt$3,atan2:atan2$2,round:round$2}=Math,lab2lch=(...e)=>{const[t,r,n]=unpack(e,"lab"),a=sqrt$3(r*r+n*n);let o=(atan2$2(n,r)*RAD2DEG+360)%360;return 0===round$2(1e4*a)&&(o=Number.NaN),[t,a,o]},rgb2lch=(...e)=>{const[t,r,n]=unpack(e,"rgb"),[a,o,i]=rgb2lab(t,r,n);return lab2lch(a,o,i)};Color.prototype.lch=function(){return rgb2lch(this._rgb)},Color.prototype.hcl=function(){return rgb2lch(this._rgb).reverse()},chroma.lch=(...e)=>new Color(...e,"lch"),chroma.hcl=(...e)=>new Color(...e,"hcl"),input.format.lch=lch2rgb,input.format.hcl=hcl2rgb,["lch","hcl"].forEach((e=>input.autodetect.push({p:2,test:(...t)=>{if("array"===type(t=unpack(t,e))&&3===t.length)return e}})));const w3cx11={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};Color.prototype.name=function(){const e=rgb2hex(this._rgb,"rgb");for(let t of Object.keys(w3cx11))if(w3cx11[t]===e)return t.toLowerCase();return e},input.format.named=e=>{if(e=e.toLowerCase(),w3cx11[e])return hex2rgb(w3cx11[e]);throw new Error("unknown color name: "+e)},input.autodetect.push({p:5,test:(e,...t)=>{if(!t.length&&"string"===type(e)&&w3cx11[e.toLowerCase()])return"named"}});const num2rgb=e=>{if("number"==type(e)&&e>=0&&e<=16777215){return[e>>16,e>>8&255,255&e,1]}throw new Error("unknown num color: "+e)},rgb2num=(...e)=>{const[t,r,n]=unpack(e,"rgb");return(t<<16)+(r<<8)+n};Color.prototype.num=function(){return rgb2num(this._rgb)},chroma.num=(...e)=>new Color(...e,"num"),input.format.num=num2rgb,input.autodetect.push({p:5,test:(...e)=>{if(1===e.length&&"number"===type(e[0])&&e[0]>=0&&e[0]<=16777215)return"num"}});const{round:round$1}=Math;Color.prototype.rgb=function(e=!0){return!1===e?this._rgb.slice(0,3):this._rgb.slice(0,3).map(round$1)},Color.prototype.rgba=function(e=!0){return this._rgb.slice(0,4).map(((t,r)=>r<3?!1===e?t:round$1(t):t))},chroma.rgb=(...e)=>new Color(...e,"rgb"),input.format.rgb=(...e)=>{const t=unpack(e,"rgba");return void 0===t[3]&&(t[3]=1),t},input.autodetect.push({p:3,test:(...e)=>{if("array"===type(e=unpack(e,"rgba"))&&(3===e.length||4===e.length&&"number"==type(e[3])&&e[3]>=0&&e[3]<=1))return"rgb"}});const{log:log$1}=Math,temperature2rgb=e=>{const t=e/100;let r,n,a;return t<66?(r=255,n=t<6?0:-155.25485562709179-.44596950469579133*(n=t-2)+104.49216199393888*log$1(n),a=t<20?0:.8274096064007395*(a=t-10)-254.76935184120902+115.67994401066147*log$1(a)):(r=351.97690566805693+.114206453784165*(r=t-55)-40.25366309332127*log$1(r),n=325.4494125711974+.07943456536662342*(n=t-50)-28.0852963507957*log$1(n),a=255),[r,n,a,1]},{round:round}=Math,rgb2temperature=(...e)=>{const t=unpack(e,"rgb"),r=t[0],n=t[2];let a=1e3,o=4e4;let i;for(;o-a>.4;){i=.5*(o+a);const e=temperature2rgb(i);e[2]/e[0]>=n/r?o=i:a=i}return round(i)};Color.prototype.temp=Color.prototype.kelvin=Color.prototype.temperature=function(){return rgb2temperature(this._rgb)},chroma.temp=chroma.kelvin=chroma.temperature=(...e)=>new Color(...e,"temp"),input.format.temp=input.format.kelvin=input.format.temperature=temperature2rgb;const{pow:pow$8,sign:sign$1}=Math,oklab2rgb=(...e)=>{e=unpack(e,"lab");const[t,r,n]=e,a=pow$8(t+.3963377774*r+.2158037573*n,3),o=pow$8(t-.1055613458*r-.0638541728*n,3),i=pow$8(t-.0894841775*r-1.291485548*n,3);return[255*lrgb2rgb(4.0767416621*a-3.3077115913*o+.2309699292*i),255*lrgb2rgb(-1.2684380046*a+2.6097574011*o-.3413193965*i),255*lrgb2rgb(-.0041960863*a-.7034186147*o+1.707614701*i),e.length>3?e[3]:1]};function lrgb2rgb(e){const t=Math.abs(e);return t>.0031308?(sign$1(e)||1)*(1.055*pow$8(t,1/2.4)-.055):12.92*e}const{cbrt:cbrt,pow:pow$7,sign:sign}=Math,rgb2oklab=(...e)=>{const[t,r,n]=unpack(e,"rgb"),[a,o,i]=[rgb2lrgb(t/255),rgb2lrgb(r/255),rgb2lrgb(n/255)],s=cbrt(.4122214708*a+.5363325363*o+.0514459929*i),c=cbrt(.2119034982*a+.6806995451*o+.1073969566*i),l=cbrt(.0883024619*a+.2817188376*o+.6299787005*i);return[.2104542553*s+.793617785*c-.0040720468*l,1.9779984951*s-2.428592205*c+.4505937099*l,.0259040371*s+.7827717662*c-.808675766*l]};function rgb2lrgb(e){const t=Math.abs(e);return t<.04045?e/12.92:(sign(e)||1)*pow$7((t+.055)/1.055,2.4)}Color.prototype.oklab=function(){return rgb2oklab(this._rgb)},chroma.oklab=(...e)=>new Color(...e,"oklab"),input.format.oklab=oklab2rgb,input.autodetect.push({p:3,test:(...e)=>{if("array"===type(e=unpack(e,"oklab"))&&3===e.length)return"oklab"}});const oklch2rgb=(...e)=>{e=unpack(e,"lch");const[t,r,n]=e,[a,o,i]=lch2lab(t,r,n),[s,c,l]=oklab2rgb(a,o,i);return[s,c,l,e.length>3?e[3]:1]},rgb2oklch=(...e)=>{const[t,r,n]=unpack(e,"rgb"),[a,o,i]=rgb2oklab(t,r,n);return lab2lch(a,o,i)};Color.prototype.oklch=function(){return rgb2oklch(this._rgb)},chroma.oklch=(...e)=>new Color(...e,"oklch"),input.format.oklch=oklch2rgb,input.autodetect.push({p:3,test:(...e)=>{if("array"===type(e=unpack(e,"oklch"))&&3===e.length)return"oklch"}}),Color.prototype.alpha=function(e,t=!1){return void 0!==e&&"number"===type(e)?t?(this._rgb[3]=e,this):new Color([this._rgb[0],this._rgb[1],this._rgb[2],e],"rgb"):this._rgb[3]},Color.prototype.clipped=function(){return this._rgb._clipped||!1},Color.prototype.darken=function(e=1){const t=this.lab();return t[0]-=LAB_CONSTANTS.Kn*e,new Color(t,"lab").alpha(this.alpha(),!0)},Color.prototype.brighten=function(e=1){return this.darken(-e)},Color.prototype.darker=Color.prototype.darken,Color.prototype.brighter=Color.prototype.brighten,Color.prototype.get=function(e){const[t,r]=e.split("."),n=this[t]();if(r){const e=t.indexOf(r)-("ok"===t.substr(0,2)?2:0);if(e>-1)return n[e];throw new Error(`unknown channel ${r} in mode ${t}`)}return n};const{pow:pow$6}=Math,EPS$1=1e-7,MAX_ITER$1=20;Color.prototype.luminance=function(e,t="rgb"){if(void 0!==e&&"number"===type(e)){if(0===e)return new Color([0,0,0,this._rgb[3]],"rgb");if(1===e)return new Color([255,255,255,this._rgb[3]],"rgb");let r=this.luminance(),n=MAX_ITER$1;const a=(r,o)=>{const i=r.interpolate(o,.5,t),s=i.luminance();return Math.abs(e-s)<EPS$1||!n--?i:s>e?a(r,i):a(i,o)},o=(r>e?a(new Color([0,0,0]),this):a(this,new Color([255,255,255]))).rgb();return new Color([...o,this._rgb[3]])}return rgb2luminance(...this._rgb.slice(0,3))};const rgb2luminance=(e,t,r)=>.2126*(e=luminance_x(e))+.7152*(t=luminance_x(t))+.0722*(r=luminance_x(r)),luminance_x=e=>(e/=255)<=.03928?e/12.92:pow$6((e+.055)/1.055,2.4);var index={},mix=(e,t,r=.5,...n)=>{let a=n[0]||"lrgb";if(index[a]||n.length||(a=Object.keys(index)[0]),!index[a])throw new Error(`interpolation mode ${a} is not defined`);return"object"!==type(e)&&(e=new Color(e)),"object"!==type(t)&&(t=new Color(t)),index[a](e,t,r).alpha(e.alpha()+r*(t.alpha()-e.alpha()))};Color.prototype.mix=Color.prototype.interpolate=function(e,t=.5,...r){return mix(this,e,t,...r)},Color.prototype.premultiply=function(e=!1){const t=this._rgb,r=t[3];return e?(this._rgb=[t[0]*r,t[1]*r,t[2]*r,r],this):new Color([t[0]*r,t[1]*r,t[2]*r,r],"rgb")},Color.prototype.saturate=function(e=1){const t=this.lch();return t[1]+=LAB_CONSTANTS.Kn*e,t[1]<0&&(t[1]=0),new Color(t,"lch").alpha(this.alpha(),!0)},Color.prototype.desaturate=function(e=1){return this.saturate(-e)},Color.prototype.set=function(e,t,r=!1){const[n,a]=e.split("."),o=this[n]();if(a){const e=n.indexOf(a)-("ok"===n.substr(0,2)?2:0);if(e>-1){if("string"==type(t))switch(t.charAt(0)){case"+":case"-":o[e]+=+t;break;case"*":o[e]*=+t.substr(1);break;case"/":o[e]/=+t.substr(1);break;default:o[e]=+t}else{if("number"!==type(t))throw new Error("unsupported value for Color.set");o[e]=t}const a=new Color(o,n);return r?(this._rgb=a._rgb,this):a}throw new Error(`unknown channel ${a} in mode ${n}`)}return o},Color.prototype.tint=function(e=.5,...t){return mix(this,"white",e,...t)},Color.prototype.shade=function(e=.5,...t){return mix(this,"black",e,...t)};const rgb=(e,t,r)=>{const n=e._rgb,a=t._rgb;return new Color(n[0]+r*(a[0]-n[0]),n[1]+r*(a[1]-n[1]),n[2]+r*(a[2]-n[2]),"rgb")};index.rgb=rgb;const{sqrt:sqrt$2,pow:pow$5}=Math,lrgb=(e,t,r)=>{const[n,a,o]=e._rgb,[i,s,c]=t._rgb;return new Color(sqrt$2(pow$5(n,2)*(1-r)+pow$5(i,2)*r),sqrt$2(pow$5(a,2)*(1-r)+pow$5(s,2)*r),sqrt$2(pow$5(o,2)*(1-r)+pow$5(c,2)*r),"rgb")};index.lrgb=lrgb;const lab=(e,t,r)=>{const n=e.lab(),a=t.lab();return new Color(n[0]+r*(a[0]-n[0]),n[1]+r*(a[1]-n[1]),n[2]+r*(a[2]-n[2]),"lab")};index.lab=lab;var interpolate_hsx=(e,t,r,n)=>{let a,o,i,s,c,l,u,d,p,h,f,m;return"hsl"===n?(a=e.hsl(),o=t.hsl()):"hsv"===n?(a=e.hsv(),o=t.hsv()):"hcg"===n?(a=e.hcg(),o=t.hcg()):"hsi"===n?(a=e.hsi(),o=t.hsi()):"lch"===n||"hcl"===n?(n="hcl",a=e.hcl(),o=t.hcl()):"oklch"===n&&(a=e.oklch().reverse(),o=t.oklch().reverse()),"h"!==n.substr(0,1)&&"oklch"!==n||([i,c,u]=a,[s,l,d]=o),isNaN(i)||isNaN(s)?isNaN(i)?isNaN(s)?h=Number.NaN:(h=s,1!=u&&0!=u||"hsv"==n||(p=l)):(h=i,1!=d&&0!=d||"hsv"==n||(p=c)):(m=s>i&&s-i>180?s-(i+360):s<i&&i-s>180?s+360-i:s-i,h=i+r*m),void 0===p&&(p=c+r*(l-c)),f=u+r*(d-u),new Color("oklch"===n?[f,p,h]:[h,p,f],n)};const lch=(e,t,r)=>interpolate_hsx(e,t,r,"lch");index.lch=lch,index.hcl=lch;const num=(e,t,r)=>{const n=e.num(),a=t.num();return new Color(n+r*(a-n),"num")};index.num=num;const hcg=(e,t,r)=>interpolate_hsx(e,t,r,"hcg");index.hcg=hcg;const hsi=(e,t,r)=>interpolate_hsx(e,t,r,"hsi");index.hsi=hsi;const hsl=(e,t,r)=>interpolate_hsx(e,t,r,"hsl");index.hsl=hsl;const hsv=(e,t,r)=>interpolate_hsx(e,t,r,"hsv");index.hsv=hsv;const oklab=(e,t,r)=>{const n=e.oklab(),a=t.oklab();return new Color(n[0]+r*(a[0]-n[0]),n[1]+r*(a[1]-n[1]),n[2]+r*(a[2]-n[2]),"oklab")};index.oklab=oklab;const oklch=(e,t,r)=>interpolate_hsx(e,t,r,"oklch");index.oklch=oklch;const{pow:pow$4,sqrt:sqrt$1,PI:PI$1,cos:cos$2,sin:sin$2,atan2:atan2$1}=Math;var average=(e,t="lrgb",r=null)=>{const n=e.length;r||(r=Array.from(new Array(n)).map((()=>1)));const a=n/r.reduce((function(e,t){return e+t}));if(r.forEach(((e,t)=>{r[t]*=a})),e=e.map((e=>new Color(e))),"lrgb"===t)return _average_lrgb(e,r);const o=e.shift(),i=o.get(t),s=[];let c=0,l=0;for(let e=0;e<i.length;e++)if(i[e]=(i[e]||0)*r[0],s.push(isNaN(i[e])?0:r[0]),"h"===t.charAt(e)&&!isNaN(i[e])){const t=i[e]/180*PI$1;c+=cos$2(t)*r[0],l+=sin$2(t)*r[0]}let u=o.alpha()*r[0];e.forEach(((e,n)=>{const a=e.get(t);u+=e.alpha()*r[n+1];for(let e=0;e<i.length;e++)if(!isNaN(a[e]))if(s[e]+=r[n+1],"h"===t.charAt(e)){const t=a[e]/180*PI$1;c+=cos$2(t)*r[n+1],l+=sin$2(t)*r[n+1]}else i[e]+=a[e]*r[n+1]}));for(let e=0;e<i.length;e++)if("h"===t.charAt(e)){let t=atan2$1(l/s[e],c/s[e])/PI$1*180;for(;t<0;)t+=360;for(;t>=360;)t-=360;i[e]=t}else i[e]=i[e]/s[e];return u/=n,new Color(i,t).alpha(u>.99999?1:u,!0)};const _average_lrgb=(e,t)=>{const r=e.length,n=[0,0,0,0];for(let a=0;a<e.length;a++){const o=e[a],i=t[a]/r,s=o._rgb;n[0]+=pow$4(s[0],2)*i,n[1]+=pow$4(s[1],2)*i,n[2]+=pow$4(s[2],2)*i,n[3]+=s[3]*i}return n[0]=sqrt$1(n[0]),n[1]=sqrt$1(n[1]),n[2]=sqrt$1(n[2]),n[3]>.9999999&&(n[3]=1),new Color(clip_rgb(n))},{pow:pow$3}=Math;function scale(e){let t="rgb",r=chroma("#ccc"),n=0,a=[0,1],o=[],i=[0,0],s=!1,c=[],l=!1,u=0,d=1,p=!1,h={},f=!0,m=1;const _=function(e){if((e=e||["#fff","#000"])&&"string"===type(e)&&chroma.brewer&&chroma.brewer[e.toLowerCase()]&&(e=chroma.brewer[e.toLowerCase()]),"array"===type(e)){1===e.length&&(e=[e[0],e[0]]),e=e.slice(0);for(let t=0;t<e.length;t++)e[t]=chroma(e[t]);o.length=0;for(let t=0;t<e.length;t++)o.push(t/(e.length-1))}return $(),c=e};let g=e=>e,y=e=>e;const b=function(e,n){let a,l;if(null==n&&(n=!1),isNaN(e)||null===e)return r;if(n)l=e;else if(s&&s.length>2){l=function(e){if(null!=s){const t=s.length-1;let r=0;for(;r<t&&e>=s[r];)r++;return r-1}return 0}(e)/(s.length-2)}else l=d!==u?(e-u)/(d-u):1;l=y(l),n||(l=g(l)),1!==m&&(l=pow$3(l,m)),l=i[0]+l*(1-i[0]-i[1]),l=limit(l,0,1);const p=Math.floor(1e4*l);if(f&&h[p])a=h[p];else{if("array"===type(c))for(let e=0;e<o.length;e++){const r=o[e];if(l<=r){a=c[e];break}if(l>=r&&e===o.length-1){a=c[e];break}if(l>r&&l<o[e+1]){l=(l-r)/(o[e+1]-r),a=chroma.interpolate(c[e],c[e+1],l,t);break}}else"function"===type(c)&&(a=c(l));f&&(h[p]=a)}return a};var $=()=>h={};_(e);const v=function(e){const t=chroma(b(e));return l&&t[l]?t[l]():t};return v.classes=function(e){if(null!=e){if("array"===type(e))s=e,a=[e[0],e[e.length-1]];else{const t=chroma.analyze(a);s=0===e?[t.min,t.max]:chroma.limits(t,"e",e)}return v}return s},v.domain=function(e){if(!arguments.length)return a;u=e[0],d=e[e.length-1],o=[];const t=c.length;if(e.length===t&&u!==d)for(let t of Array.from(e))o.push((t-u)/(d-u));else{for(let e=0;e<t;e++)o.push(e/(t-1));if(e.length>2){const t=e.map(((t,r)=>r/(e.length-1))),r=e.map((e=>(e-u)/(d-u)));r.every(((e,r)=>t[r]===e))||(y=e=>{if(e<=0||e>=1)return e;let n=0;for(;e>=r[n+1];)n++;const a=(e-r[n])/(r[n+1]-r[n]);return t[n]+a*(t[n+1]-t[n])})}}return a=[u,d],v},v.mode=function(e){return arguments.length?(t=e,$(),v):t},v.range=function(e,t){return _(e),v},v.out=function(e){return l=e,v},v.spread=function(e){return arguments.length?(n=e,v):n},v.correctLightness=function(e){return null==e&&(e=!0),p=e,$(),g=p?function(e){const t=b(0,!0).lab()[0],r=b(1,!0).lab()[0],n=t>r;let a=b(e,!0).lab()[0];const o=t+(r-t)*e;let i=a-o,s=0,c=1,l=20;for(;Math.abs(i)>.01&&l-- >0;)n&&(i*=-1),i<0?(s=e,e+=.5*(c-e)):(c=e,e+=.5*(s-e)),a=b(e,!0).lab()[0],i=a-o;return e}:e=>e,v},v.padding=function(e){return null!=e?("number"===type(e)&&(e=[e,e]),i=e,v):i},v.colors=function(t,r){arguments.length<2&&(r="hex");let n=[];if(0===arguments.length)n=c.slice(0);else if(1===t)n=[v(.5)];else if(t>1){const e=a[0],r=a[1]-e;n=__range__(0,t).map((n=>v(e+n/(t-1)*r)))}else{e=[];let t=[];if(s&&s.length>2)for(let e=1,r=s.length,n=1<=r;n?e<r:e>r;n?e++:e--)t.push(.5*(s[e-1]+s[e]));else t=a;n=t.map((e=>v(e)))}return chroma[r]&&(n=n.map((e=>e[r]()))),n},v.cache=function(e){return null!=e?(f=e,v):f},v.gamma=function(e){return null!=e?(m=e,v):m},v.nodata=function(e){return null!=e?(r=chroma(e),v):r},v}function __range__(e,t,r){let n=[],a=e<t,o=t;for(let t=e;a?t<o:t>o;a?t++:t--)n.push(t);return n}const binom_row=function(e){let t=[1,1];for(let r=1;r<e;r++){let e=[1];for(let r=1;r<=t.length;r++)e[r]=(t[r]||0)+t[r-1];t=e}return t},bezier=function(e){let t,r,n,a;if(2===(e=e.map((e=>new Color(e)))).length)[r,n]=e.map((e=>e.lab())),t=function(e){const t=[0,1,2].map((t=>r[t]+e*(n[t]-r[t])));return new Color(t,"lab")};else if(3===e.length)[r,n,a]=e.map((e=>e.lab())),t=function(e){const t=[0,1,2].map((t=>(1-e)*(1-e)*r[t]+2*(1-e)*e*n[t]+e*e*a[t]));return new Color(t,"lab")};else if(4===e.length){let o;[r,n,a,o]=e.map((e=>e.lab())),t=function(e){const t=[0,1,2].map((t=>(1-e)*(1-e)*(1-e)*r[t]+3*(1-e)*(1-e)*e*n[t]+3*(1-e)*e*e*a[t]+e*e*e*o[t]));return new Color(t,"lab")}}else{if(!(e.length>=5))throw new RangeError("No point in running bezier with only one color.");{let r,n,a;r=e.map((e=>e.lab())),a=e.length-1,n=binom_row(a),t=function(e){const t=1-e,o=[0,1,2].map((o=>r.reduce(((r,i,s)=>r+n[s]*t**(a-s)*e**s*i[o]),0)));return new Color(o,"lab")}}}return t};var bezier$1=e=>{const t=bezier(e);return t.scale=()=>scale(t),t};const blend=(e,t,r)=>{if(!blend[r])throw new Error("unknown blend mode "+r);return blend[r](e,t)},blend_f=e=>(t,r)=>{const n=chroma(r).rgb(),a=chroma(t).rgb();return chroma.rgb(e(n,a))},each=e=>(t,r)=>{const n=[];return n[0]=e(t[0],r[0]),n[1]=e(t[1],r[1]),n[2]=e(t[2],r[2]),n},normal=e=>e,multiply=(e,t)=>e*t/255,darken=(e,t)=>e>t?t:e,lighten=(e,t)=>e>t?e:t,screen=(e,t)=>255*(1-(1-e/255)*(1-t/255)),overlay=(e,t)=>t<128?2*e*t/255:255*(1-2*(1-e/255)*(1-t/255)),burn=(e,t)=>255*(1-(1-t/255)/(e/255)),dodge=(e,t)=>255===e||(e=t/255*255/(1-e/255))>255?255:e;blend.normal=blend_f(each(normal)),blend.multiply=blend_f(each(multiply)),blend.screen=blend_f(each(screen)),blend.overlay=blend_f(each(overlay)),blend.darken=blend_f(each(darken)),blend.lighten=blend_f(each(lighten)),blend.dodge=blend_f(each(dodge)),blend.burn=blend_f(each(burn));const{pow:pow$2,sin:sin$1,cos:cos$1}=Math;function cubehelix(e=300,t=-1.5,r=1,n=1,a=[0,1]){let o,i=0;"array"===type(a)?o=a[1]-a[0]:(o=0,a=[a,a]);const s=function(s){const c=TWOPI*((e+120)/360+t*s),l=pow$2(a[0]+o*s,n),u=(0!==i?r[0]+s*i:r)*l*(1-l)/2,d=cos$1(c),p=sin$1(c);return chroma(clip_rgb([255*(l+u*(-.14861*d+1.78277*p)),255*(l+u*(-.29227*d-.90649*p)),255*(l+u*(1.97294*d)),1]))};return s.start=function(t){return null==t?e:(e=t,s)},s.rotations=function(e){return null==e?t:(t=e,s)},s.gamma=function(e){return null==e?n:(n=e,s)},s.hue=function(e){return null==e?r:("array"===type(r=e)?(i=r[1]-r[0],0===i&&(r=r[1])):i=0,s)},s.lightness=function(e){return null==e?a:("array"===type(e)?(a=e,o=e[1]-e[0]):(a=[e,e],o=0),s)},s.scale=()=>chroma.scale(s),s.hue(r),s}const digits="0123456789abcdef",{floor:floor$1,random:random}=Math;var random$1=()=>{let e="#";for(let t=0;t<6;t++)e+=digits.charAt(floor$1(16*random()));return new Color(e,"hex")};const{log:log,pow:pow$1,floor:floor,abs:abs$1}=Math;function analyze(e,t=null){const r={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===type(e)&&(e=Object.values(e)),e.forEach((e=>{t&&"object"===type(e)&&(e=e[t]),null==e||isNaN(e)||(r.values.push(e),r.sum+=e,e<r.min&&(r.min=e),e>r.max&&(r.max=e),r.count+=1)})),r.domain=[r.min,r.max],r.limits=(e,t)=>limits(r,e,t),r}function limits(e,t="equal",r=7){"array"==type(e)&&(e=analyze(e));const{min:n,max:a}=e,o=e.values.sort(((e,t)=>e-t));if(1===r)return[n,a];const i=[];if("c"===t.substr(0,1)&&(i.push(n),i.push(a)),"e"===t.substr(0,1)){i.push(n);for(let e=1;e<r;e++)i.push(n+e/r*(a-n));i.push(a)}else if("l"===t.substr(0,1)){if(n<=0)throw new Error("Logarithmic scales are only possible for values > 0");const e=Math.LOG10E*log(n),t=Math.LOG10E*log(a);i.push(n);for(let n=1;n<r;n++)i.push(pow$1(10,e+n/r*(t-e)));i.push(a)}else if("q"===t.substr(0,1)){i.push(n);for(let e=1;e<r;e++){const t=(o.length-1)*e/r,n=floor(t);if(n===t)i.push(o[n]);else{const e=t-n;i.push(o[n]*(1-e)+o[n+1]*e)}}i.push(a)}else if("k"===t.substr(0,1)){let e;const t=o.length,s=new Array(t),c=new Array(r);let l=!0,u=0,d=null;d=[],d.push(n);for(let e=1;e<r;e++)d.push(n+e/r*(a-n));for(d.push(a);l;){for(let e=0;e<r;e++)c[e]=0;for(let e=0;e<t;e++){const t=o[e];let n,a=Number.MAX_VALUE;for(let o=0;o<r;o++){const r=abs$1(d[o]-t);r<a&&(a=r,n=o),c[n]++,s[e]=n}}const n=new Array(r);for(let e=0;e<r;e++)n[e]=null;for(let r=0;r<t;r++)e=s[r],null===n[e]?n[e]=o[r]:n[e]+=o[r];for(let e=0;e<r;e++)n[e]*=1/c[e];l=!1;for(let e=0;e<r;e++)if(n[e]!==d[e]){l=!0;break}d=n,u++,u>200&&(l=!1)}const p={};for(let e=0;e<r;e++)p[e]=[];for(let r=0;r<t;r++)e=s[r],p[e].push(o[r]);let h=[];for(let e=0;e<r;e++)h.push(p[e][0]),h.push(p[e][p[e].length-1]);h=h.sort(((e,t)=>e-t)),i.push(h[0]);for(let e=1;e<h.length;e+=2){const t=h[e];isNaN(t)||-1!==i.indexOf(t)||i.push(t)}}return i}var contrast=(e,t)=>{e=new Color(e),t=new Color(t);const r=e.luminance(),n=t.luminance();return r>n?(r+.05)/(n+.05):(n+.05)/(r+.05)};const{sqrt:sqrt,pow:pow,min:min,max:max,atan2:atan2,abs:abs,cos:cos,sin:sin,exp:exp,PI:PI}=Math;function deltaE(e,t,r=1,n=1,a=1){var o=function(e){return 360*e/(2*PI)},i=function(e){return 2*PI*e/360};e=new Color(e),t=new Color(t);const[s,c,l]=Array.from(e.lab()),[u,d,p]=Array.from(t.lab()),h=(s+u)/2,f=(sqrt(pow(c,2)+pow(l,2))+sqrt(pow(d,2)+pow(p,2)))/2,m=.5*(1-sqrt(pow(f,7)/(pow(f,7)+pow(25,7)))),_=c*(1+m),g=d*(1+m),y=sqrt(pow(_,2)+pow(l,2)),b=sqrt(pow(g,2)+pow(p,2)),$=(y+b)/2,v=o(atan2(l,_)),k=o(atan2(p,g)),x=v>=0?v:v+360,w=k>=0?k:k+360,q=abs(x-w)>180?(x+w+360)/2:(x+w)/2,S=1-.17*cos(i(q-30))+.24*cos(i(2*q))+.32*cos(i(3*q+6))-.2*cos(i(4*q-63));let E=w-x;E=abs(E)<=180?E:w<=x?E+360:E-360,E=2*sqrt(y*b)*sin(i(E)/2);const R=u-s,T=b-y,C=1+.015*pow(h-50,2)/sqrt(20+pow(h-50,2)),A=1+.045*$,I=1+.015*$*S,M=30*exp(-pow((q-275)/25,2)),D=-(2*sqrt(pow($,7)/(pow($,7)+pow(25,7))))*sin(2*i(M)),O=sqrt(pow(R/(r*C),2)+pow(T/(n*A),2)+pow(E/(a*I),2)+D*(T/(n*A))*(E/(a*I)));return max(0,min(100,O))}function distance(e,t,r="lab"){e=new Color(e),t=new Color(t);const n=e.get(r),a=t.get(r);let o=0;for(let e in n){const t=(n[e]||0)-(a[e]||0);o+=t*t}return Math.sqrt(o)}var valid=(...e)=>{try{return new Color(...e),!0}catch(e){return!1}},scales={cool:()=>scale([chroma.hsl(180,1,.9),chroma.hsl(250,.7,.4)]),hot:()=>scale(["#000","#f00","#ff0","#fff"]).mode("rgb")};const colorbrewer={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]};for(let e of Object.keys(colorbrewer))colorbrewer[e.toLowerCase()]=colorbrewer[e];function colorLightness(e,t){return t(e).lab()[0]}Object.assign(chroma,{average:average,bezier:bezier$1,blend:blend,cubehelix:cubehelix,mix:mix,interpolate:mix,random:random$1,scale:scale,analyze:analyze,contrast:contrast,deltaE:deltaE,distance:distance,limits:limits,valid:valid,scales:scales,input:input,colors:w3cx11,brewer:colorbrewer});const MAX_ITER=10,EPS=.01;function invertColor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.8;const a=chroma(e).alpha(1),o=chroma(e).alpha();if(0===o)return e;const i=a.lab()[0],s=colorLightness(r,chroma),c=colorLightness(t,chroma),l=computeContrast(e,r);if(Math.abs(l-1)<EPS)return chroma(t).alpha(o).hex();const u=s>i,d=u?b(c,100,MAX_ITER):b(0,c,MAX_ITER),p=d.lab()[0],h=100*Math.pow(p/100,n),f=d.set("lab.l",h).hex();if(1===o)return f;const m=chroma.mix(t,f,o,"rgb"),_=chroma.contrast(t,m),g=_*getContrastBoost(_,1.05),y=correctOpacity(f,t,o,g);return chroma(f).alpha(y).hex();function b(r,n,a){const o=.5*(r+n),i=chroma(e).set("lab.l",o),s=computeContrast(t,i);if(Math.abs(s-l)<EPS||!a)return i;const d=o>c,p=d&&u||!d&&u;return p&&s>l||!p&&s<l?b(r,o,a-1):b(o,n,a-1)}}function computeContrast(e,t){return chroma.contrast(e,t)}function getContrastBoost(e,t){return 1+(e<1.5?1:e>3?0:1-(e-1.5)/1.5)*(t-1)}function correctOpacity(e,t,r,n){const a=chroma.mix(t,e,r,"rgb");return chroma.contrast(a,t)-n>-.01||!r?r:function r(a,o,i){const s=(a+o)/2,c=chroma.mix(t,e,s,"rgb"),l=chroma.contrast(c,t);if(Math.abs(l-n)<.01||!i)return s;return l<n?r(s,o,i-1):r(a,s,i-1)}(r,1,10)}function create_if_block_1$3(e){let t,r;return{c(){t=element("span"),r=text(e[3]),this.h()},l(n){t=claim_element(n,"SPAN",{class:!0});var a=children(t);r=claim_text(a,e[3]),a.forEach(detach),this.h()},h(){attr(t,"class","byline-caption")},m(e,n){insert_hydration(e,t,n),append_hydration(t,r)},p(e,t){8&t&&set_data(r,e[3])},d(e){e&&detach(t)}}}function create_if_block$8(e){let t,r,n=e[4](e[2])+"";return{c(){t=new HtmlTagHydration(!1),r=empty(),this.h()},l(e){t=claim_html_tag(e,!1),r=empty(),this.h()},h(){t.a=r},m(e,a){t.m(n,e,a),insert_hydration(e,r,a)},p(e,r){4&r&&n!==(n=e[4](e[2])+"")&&t.p(n)},d(e){e&&(detach(r),t.d())}}}function create_fragment$o(e){let t,r,n,a,o,i=e[3]&&create_if_block_1$3(e),s=e[0].basedOnByline&&create_if_block$8(e);return{c(){i&&i.c(),t=space(),r=element("span"),n=text(e[1]),a=space(),s&&s.c(),o=empty(),this.h()},l(c){i&&i.l(c),t=claim_space(c),r=claim_element(c,"SPAN",{class:!0});var l=children(r);n=claim_text(l,e[1]),l.forEach(detach),a=claim_space(c),s&&s.l(c),o=empty(),this.h()},h(){attr(r,"class","byline-content")},m(e,c){i&&i.m(e,c),insert_hydration(e,t,c),insert_hydration(e,r,c),append_hydration(r,n),insert_hydration(e,a,c),s&&s.m(e,c),insert_hydration(e,o,c)},p(e,r){let[a]=r;e[3]?i?i.p(e,a):(i=create_if_block_1$3(e),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),2&a&&set_data(n,e[1]),e[0].basedOnByline?s?s.p(e,a):(s=create_if_block$8(e),s.c(),s.m(o.parentNode,o)):s&&(s.d(1),s=null)},i:noop,o:noop,d(e){e&&(detach(t),detach(r),detach(a),detach(o)),i&&i.d(e),s&&s.d(e)}}}function instance$o(e,t,r){let n,a,o,i,s,c,l,u,{props:d}=t;const{get:p,purifyHtml:h,__:f}=d;return e.$$set=e=>{"props"in e&&r(5,d=e.props)},e.$$.update=()=>{32&e.$$.dirty&&r(0,n=d.chart),32&e.$$.dirty&&r(8,a=d.themeData),32&e.$$.dirty&&r(9,o=d.caption),768&e.$$.dirty&&r(3,i=p(a,"options.blocks.byline.data.".concat(o,"Caption"),f("blocks / byline / ".concat(o)))),1&e.$$.dirty&&r(1,s=p(n,"metadata.describe.byline",!1)),256&e.$$.dirty&&r(7,c=p(a,"options.blocks.byline.data.forkCaption",f("blocks / byline / fork"))),3&e.$$.dirty&&r(6,l=n.basedOnByline&&s),193&e.$$.dirty&&r(2,u=(l?"(":"")+c+" "+h(n.basedOnByline)+(l?")":""))},[n,s,u,i,h,d,l,c,a,o]}class Byline extends SvelteComponent{constructor(e){super(),init(this,e,instance$o,create_fragment$o,safe_not_equal,{props:5})}}function create_fragment$n(e){let t,r,n=e[1](e[0])+"";return{c(){t=element("span"),r=new HtmlTagHydration(!1),this.h()},l(e){t=claim_element(e,"SPAN",{});var n=children(t);r=claim_html_tag(n,!1),n.forEach(detach),this.h()},h(){r.a=null},m(e,a){insert_hydration(e,t,a),r.m(n,t)},p(e,t){let[a]=t;1&a&&n!==(n=e[1](e[0])+"")&&r.p(n)},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$n(e,t,r){let n,a,o,i,{props:s}=t;const{get:c,purifyHtml:l}=s;return e.$$set=e=>{"props"in e&&r(2,s=e.props)},e.$$.update=()=>{4&e.$$.dirty&&r(5,n=s.themeData),4&e.$$.dirty&&r(4,a=s.chart),32&e.$$.dirty&&r(3,o=c(n,"options.blocks.caption.data.custom-field")),24&e.$$.dirty&&r(0,i=o?c(a,"metadata.custom.".concat(o),""):"")},[i,l,s,o,a,n]}class Caption extends SvelteComponent{constructor(e){super(),init(this,e,instance$n,create_fragment$n,safe_not_equal,{props:2})}}function _await$2(e,t,r){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}function _async$2(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function create_fragment$m(e){let t,r,n,a,o,i=e[2]("blocks / download-".concat("png"===e[0]?"image":e[0]))+"";return{c(){t=element("a"),r=text(i),this.h()},l(e){t=claim_element(e,"A",{class:!0,href:!0});var n=children(t);r=claim_text(n,i),n.forEach(detach),this.h()},h(){attr(t,"class",n="chart-action-"+("png"===e[0]?"image":e[0])),attr(t,"href",e[1])},m(n,i){insert_hydration(n,t,i),append_hydration(t,r),a||(o=listen(t,"click",e[3]),a=!0)},p(e,a){let[o]=a;5&o&&i!==(i=e[2]("blocks / download-".concat("png"===e[0]?"image":e[0]))+"")&&set_data(r,i),1&o&&n!==(n="chart-action-"+("png"===e[0]?"image":e[0]))&&attr(t,"class",n),2&o&&attr(t,"href",e[1])},i:noop,o:noop,d(e){e&&detach(t),a=!1,o()}}}function isDatawrapperEditor(){let e=!1;try{e=window.parent&&window.parent!==window.self&&window.parent.dw&&window.parent.dw.backend}catch(e){}return e}function instance$m(e,t,r){const n=_async$2((function(e){if(e.preventDefault(),c&&c("download",{type:u}),!isDatawrapperEditor())return _await$2(fetch(p),(function(e){return _await$2(e.blob(),(function(e){downloadjs(e,h,"image/".concat(u))}))}))}));let a,o,i,s,c,l,u,d,p,h,{props:f}=t;return e.$$set=e=>{"props"in e&&r(4,f=e.props)},e.$$.update=()=>{16&e.$$.dirty&&r(8,({id:a,themeData:o,chart:i,teamPublicSettings:s,postEvent:c,__:l}=f),a,(r(6,i),r(4,f)),(r(5,s),r(4,f)),(r(2,l),r(4,f))),256&e.$$.dirty&&r(0,u="download-image"===a?"png":a.replace("download-","").toLowerCase()),32&e.$$.dirty&&r(7,d=getSourceImageFilenames(s)),193&e.$$.dirty&&r(1,p=i.publicUrl?"".concat(i.publicUrl.split("/".concat(i.publicId,"/"))[0],"/").concat(i.publicId,"/").concat(d[u],".").concat(u):"".concat(d[u],".").concat(u)),97&e.$$.dirty&&(h="".concat(getDestinationFilename({chart:i,teamPublicSettings:s}),".").concat(u))},[u,p,l,n,f,s,i,d,a]}class DownloadImage extends SvelteComponent{constructor(e){super(),init(this,e,instance$m,create_fragment$m,safe_not_equal,{props:4})}}function create_fragment$l(e){let t,r,n=e[1](e[0])+"";return{c(){t=element("span"),r=new HtmlTagHydration(!1),this.h()},l(e){t=claim_element(e,"SPAN",{});var n=children(t);r=claim_html_tag(n,!1),n.forEach(detach),this.h()},h(){r.a=null},m(e,a){insert_hydration(e,t,a),r.m(n,t)},p(e,t){let[a]=t;1&a&&n!==(n=e[1](e[0])+"")&&r.p(n)},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$l(e,t,r){let n,a,o,i,{props:s}=t;const{get:c,purifyHtml:l}=s;return e.$$set=e=>{"props"in e&&r(2,s=e.props)},e.$$.update=()=>{4&e.$$.dirty&&r(5,n=s.themeData),4&e.$$.dirty&&r(4,a=s.chart),32&e.$$.dirty&&r(3,o=c(n,"options.blocks.copyright.data.custom-field")),24&e.$$.dirty&&r(0,i=o?c(a,"metadata.custom.".concat(o),""):"")},[i,l,s,o,a,n]}class Copyright extends SvelteComponent{constructor(e){super(),init(this,e,instance$l,create_fragment$l,safe_not_equal,{props:2})}}function create_fragment$k(e){let t,r,n,a,o,i=e[1]("blocks / attribution")+"";return{c(){t=text(i),r=space(),n=element("a"),a=text("Datawrapper"),this.h()},l(e){t=claim_text(e,i),r=claim_space(e),n=claim_element(e,"A",{href:!0,target:!0,rel:!0});var o=children(n);a=claim_text(o,"Datawrapper"),o.forEach(detach),this.h()},h(){attr(n,"href",o="https://www.datawrapper.de/_/"+e[0].id),attr(n,"target","_blank"),attr(n,"rel","noopener")},m(e,o){insert_hydration(e,t,o),insert_hydration(e,r,o),insert_hydration(e,n,o),append_hydration(n,a)},p(e,t){let[r]=t;1&r&&o!==(o="https://www.datawrapper.de/_/"+e[0].id)&&attr(n,"href",o)},i:noop,o:noop,d(e){e&&(detach(t),detach(r),detach(n))}}}function instance$k(e,t,r){let n,{props:a}=t;const{__:o}=a;return e.$$set=e=>{"props"in e&&r(2,a=e.props)},e.$$.update=()=>{4&e.$$.dirty&&r(0,n=a.chart)},[n,o,a]}class CreatedWithDatawrapper extends SvelteComponent{constructor(e){super(),init(this,e,instance$k,create_fragment$k,safe_not_equal,{props:2})}}function create_fragment$j(e){let t,r,n=e[1](e[0])+"";return{c(){t=element("span"),r=new HtmlTagHydration(!1),this.h()},l(e){t=claim_element(e,"SPAN",{});var n=children(t);r=claim_html_tag(n,!1),n.forEach(detach),this.h()},h(){r.a=null},m(e,a){insert_hydration(e,t,a),r.m(n,t)},p(e,t){let[a]=t;1&a&&n!==(n=e[1](e[0])+"")&&r.p(n)},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$j(e,t,r){let n,a,o,i,s,c,{props:l}=t;const{get:u,purifyHtml:d}=l;return e.$$set=e=>{"props"in e&&r(2,l=e.props)},e.$$.update=()=>{4&e.$$.dirty&&r(7,n=l.themeData),4&e.$$.dirty&&r(6,a=l.chart),132&e.$$.dirty&&r(5,o=u(n,"options.blocks.".concat(l.id,".data.custom-field"))),132&e.$$.dirty&&r(3,i=u(n,"options.blocks.".concat(l.id,".data.text"))),96&e.$$.dirty&&r(4,s=o?u(a,"metadata.custom.".concat(o),""):null),56&e.$$.dirty&&r(0,c=o?!0===s&&i?i:s:i||"")},[c,d,l,i,s,o,a,n]}class Custom extends SvelteComponent{constructor(e){super(),init(this,e,instance$j,create_fragment$j,safe_not_equal,{props:2})}}var _templateObject$2,_templateObject$1,_templateObject;function DescriptionStyles(e,t){const{css:r,getProp:n}=getThemeStyleHelpers$1(e,t);return r(_templateObject$2||(_templateObject$2=_taggedTemplateLiteral(["\n        margin: ",";\n        padding: ",";\n        text-align: ",";\n\n        border-top: ",";\n        border-left: ",";\n        border-right: ",";\n        border-bottom: ",";\n        background: ",";\n\n        font-family: ",";\n        font-weight: ",";\n        font-size: ",";\n        font-stretch: ",";\n        text-transform: ",";\n        line-height: ",";\n\n        letter-spacing: ",";\n        font-style: ",";\n        text-decoration: ",";\n        color: ",";\n    "])),n("style.header.description.margin","5px 0 10px"),n("style.header.description.padding"),n("style.header.description.textAlign"),n("style.header.description.border.top"),n("style.header.description.border.left"),n("style.header.description.border.right"),n("style.header.description.border.bottom"),n("style.header.description.background"),n("typography.description.typeface"),n("typography.description.fontWeight"),toPixel$1(n("typography.description.fontSize")),n("typography.description.fontStretch"),n("typography.description.textTransform"),lineHeight$1(n("typography.description.lineHeight")),toPixel$1(n("typography.description.letterSpacing")),get$1(t,"typography.description.cursive")?"italic":"normal",get$1(t,"typography.description.underlined")?"underline":"none",n("typography.description.color"))}function create_fragment$i(e){let t,r,n=clean$1(e[0],e[1])+"";return{c(){t=new HtmlTagHydration(!1),r=empty(),this.h()},l(e){t=claim_html_tag(e,!1),r=empty(),this.h()},h(){t.a=r},m(e,a){t.m(n,e,a),insert_hydration(e,r,a)},p(e,r){let[a]=r;1&a&&n!==(n=clean$1(e[0],e[1])+"")&&t.p(n)},i:noop,o:noop,d(e){e&&(detach(r),t.d())}}}function instance$i(e,t,r){let n,a,{props:o}=t;const{get:i}=o;return e.$$set=e=>{"props"in e&&r(2,o=e.props)},e.$$.update=()=>{4&e.$$.dirty&&r(3,n=o.chart),8&e.$$.dirty&&r(0,a=i(n,"metadata.describe.intro"))},[a,["caption","details","summary"],o,n]}class Description extends SvelteComponent{constructor(e){super(),init(this,e,instance$i,create_fragment$i,safe_not_equal,{props:2})}}function create_if_block$7(e){let t,r,n,a,o=e[3](e[0])+"";return{c(){t=element("a"),r=text(o),this.h()},l(e){t=claim_element(e,"A",{href:!0});var n=children(t);r=claim_text(n,o),n.forEach(detach),this.h()},h(){attr(t,"href","#/edit-in-datawrapper")},m(o,i){insert_hydration(o,t,i),append_hydration(t,r),n||(a=listen(t,"click",prevent_default(e[4])),n=!0)},p(e,t){1&t&&o!==(o=e[3](e[0])+"")&&set_data(r,o)},d(e){e&&detach(t),n=!1,a()}}}function create_fragment$h(e){let t,r=e[2]&&e[1]&&create_if_block$7(e);return{c(){r&&r.c(),t=empty()},l(e){r&&r.l(e),t=empty()},m(e,n){r&&r.m(e,n),insert_hydration(e,t,n)},p(e,n){let[a]=n;e[2]&&e[1]?r?r.p(e,a):(r=create_if_block$7(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:noop,o:noop,d(e){e&&detach(t),r&&r.d(e)}}}function instance$h(e,t,r){let n,a,o,i,s,c,{props:l}=t;const{get:u,__:d}=l;return e.$$set=e=>{"props"in e&&r(5,l=e.props)},e.$$.update=()=>{32&e.$$.dirty&&r(6,({chart:n,themeData:a,config:o}=l),n,(r(7,a),r(5,l))),64&e.$$.dirty&&r(2,i=u(n,"forkable",!1)),64&e.$$.dirty&&r(1,s=u(n,"metadata.publish.blocks.edit-in-datawrapper",!1)),128&e.$$.dirty&&r(0,c=u(a,"options.blocks.edit.data.caption","blocks / edit-in-datawrapper"))},[c,s,i,d,function(){const e=document.createElement("form");e.setAttribute("method","post"),e.setAttribute("target","_blank"),e.setAttribute("action","//".concat(o.frontendDomain,"/create/"));const t=document.createElement("input");t.setAttribute("type","hidden"),t.setAttribute("name","template"),t.setAttribute("value",n.id),e.appendChild(t),document.body.appendChild(e),e.submit(),document.body.removeChild(e)},l,n,a]}class EditInDatawrapper extends SvelteComponent{constructor(e){super(),init(this,e,instance$h,create_fragment$h,safe_not_equal,{props:5})}}function add_css$5(e){append_styles(e,"svelte-12v9pck",".embed-code.svelte-12v9pck.svelte-12v9pck{position:absolute;bottom:35px;left:8px;max-width:350px;border:1px solid #e5e5e5;background:#fff;box-shadow:0px 4px 10px rgba(0, 0, 0, 0.15);border-radius:4px;padding:15px 20px;font-size:14px;z-index:100}.embed-code.svelte-12v9pck .close.svelte-12v9pck{width:15px;height:15px;right:10px;top:10px;position:absolute;fill:#4f4f4f;cursor:pointer}.embed-code.svelte-12v9pck .close.svelte-12v9pck:hover,.embed-code.svelte-12v9pck .close.svelte-12v9pck:focus{fill:#111}.embed-code.svelte-12v9pck button.svelte-12v9pck{cursor:pointer;border:1px solid #ccc;border-bottom-color:#b3b3b3;box-shadow:none;border-radius:4px;width:40px;height:30px;box-shadow:0px 1px 2px rgba(0, 0, 0, 0.05),\n            inset 0px 1px 0px rgba(255, 255, 255, 0.05)}.embed-code.svelte-12v9pck button.svelte-12v9pck:hover,.embed-code.svelte-12v9pck button.svelte-12v9pck:active{background-color:#e6e6e6}.embed-code.svelte-12v9pck button svg.svelte-12v9pck{width:20px;height:20px}.embed-code.svelte-12v9pck button path.svelte-12v9pck{fill:#4f4f4f}.embed-code.svelte-12v9pck p.svelte-12v9pck{margin:0px 0px 12px 0px;width:calc(100% - 30px);font-size:14px;line-height:20px}.embed-code.svelte-12v9pck div.actions.svelte-12v9pck{display:flex;justify-content:space-between}input.svelte-12v9pck.svelte-12v9pck{width:100%;background:#f5f5f5;border:1px solid #dddddd;box-sizing:border-box;border-radius:4px;padding:4px;font-size:14px;line-height:14px;color:#4f4f4f;margin-right:10px}")}function create_if_block$6(e){let t,r,n,a,o,i,s,c,l,u,d,p,h='<svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg" class="svelte-12v9pck"><path d="M7 4a.995.995 0 0 0-.707.293l-2 2a.999.999 0 0 0 0 1.414L11.586 15l-7.293\n                    7.293a.999.999 0 0 0 0 1.414l2 2a.999.999 0 0 0 1.414 0L15 18.414l7.293\n                    7.293a.999.999 0 0 0 1.414 0l2-2a.999.999 0 0 0 0-1.414L18.414\n                    15l7.293-7.293a.999.999 0 0 0 0-1.414l-2-2a.999.999 0 0 0-1.414 0L15 11.586\n                    7.707 4.293A.996.996 0 0 0 7 4z" class="svelte-12v9pck"></path></svg>',f=clean$1(e[3].text||e[4]("blocks / embed / caption"))+"",m='<svg viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg" class="svelte-12v9pck"><path d="M15 0c-1.645 0-3 1.355-3 3H8C6.346 3 5 4.346 5 6v17c0 1.654 1.346 3 3\n                        3h14c1.654 0 3-1.346 3-3V6c0-1.654-1.346-3-3-3h-4c0-1.645-1.355-3-3-3zm0\n                        2c.564 0 1 .436 1 1 0 .564-.436 1-1 1-.564 0-1-.436-1-1 0-.564.436-1 1-1zM8\n                        5h4v1a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1V5h4c.551 0 1 .449 1 1v17c0 .551-.449 1-1\n                        1H8c-.551 0-1-.449-1-1V6c0-.551.449-1 1-1zm4 7a1 1 0 1 0 0 2 1 1 0 0 0\n                        0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm8 0a1\n                        1 0 1 0 0 2 1 1 0 0 0 0-2zm-16 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm16 0a1 1 0 1 0\n                        0 2 1 1 0 0 0 0-2zm-16 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm16 0a1 1 0 1 0 0 2 1 1\n                        0 0 0 0-2zm0 4a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm-16 4a1 1 0 1 0 0 2 1 1 0 0 0\n                        0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1\n                        1 0 1 0 0 2 1 1 0 0 0 0-2zm4 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z" class="svelte-12v9pck"></path></svg>';return{c(){t=element("div"),r=element("div"),r.innerHTML=h,n=space(),a=element("p"),o=new HtmlTagHydration(!1),i=space(),s=element("div"),c=element("input"),l=space(),u=element("button"),u.innerHTML=m,this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var d=children(t);r=claim_element(d,"DIV",{class:!0,"data-svelte-h":!0}),"svelte-1t590pn"!==get_svelte_dataset(r)&&(r.innerHTML=h),n=claim_space(d),a=claim_element(d,"P",{class:!0});var p=children(a);o=claim_html_tag(p,!1),p.forEach(detach),i=claim_space(d),s=claim_element(d,"DIV",{class:!0});var f=children(s);c=claim_element(f,"INPUT",{type:!0,class:!0}),l=claim_space(f),u=claim_element(f,"BUTTON",{class:!0,"data-svelte-h":!0}),"svelte-fqo1js"!==get_svelte_dataset(u)&&(u.innerHTML=m),f.forEach(detach),d.forEach(detach),this.h()},h(){attr(r,"class","close svelte-12v9pck"),o.a=null,attr(a,"class","svelte-12v9pck"),attr(c,"type","text"),c.readOnly=!0,c.value=e[2],attr(c,"class","svelte-12v9pck"),attr(u,"class","svelte-12v9pck"),attr(s,"class","actions svelte-12v9pck"),attr(t,"class","embed-code svelte-12v9pck")},m(h,m){insert_hydration(h,t,m),append_hydration(t,r),append_hydration(t,n),append_hydration(t,a),o.m(f,a),append_hydration(t,i),append_hydration(t,s),append_hydration(s,c),e[10](c),append_hydration(s,l),append_hydration(s,u),d||(p=[listen(r,"click",e[5]),listen(u,"click",e[6])],d=!0)},p(e,t){8&t&&f!==(f=clean$1(e[3].text||e[4]("blocks / embed / caption"))+"")&&o.p(f),4&t&&c.value!==e[2]&&(c.value=e[2])},d(r){r&&detach(t),e[10](null),d=!1,run_all(p)}}}function create_fragment$g(e){let t,r,n,a,o,i,s=(e[3].caption||e[4]("blocks / embed"))+"",c=!e[0]&&create_if_block$6(e);return{c(){t=element("a"),r=text(s),n=space(),c&&c.c(),a=empty(),this.h()},l(e){t=claim_element(e,"A",{href:!0,class:!0});var o=children(t);r=claim_text(o,s),o.forEach(detach),n=claim_space(e),c&&c.l(e),a=empty(),this.h()},h(){attr(t,"href","#embed"),attr(t,"class","chart-action-embed")},m(s,l){insert_hydration(s,t,l),append_hydration(t,r),insert_hydration(s,n,l),c&&c.m(s,l),insert_hydration(s,a,l),o||(i=listen(t,"click",e[5]),o=!0)},p(e,t){let[n]=t;8&n&&s!==(s=(e[3].caption||e[4]("blocks / embed"))+"")&&set_data(r,s),e[0]?c&&(c.d(1),c=null):c?c.p(e,n):(c=create_if_block$6(e),c.c(),c.m(a.parentNode,a))},i:noop,o:noop,d(e){e&&(detach(t),detach(n),detach(a)),c&&c.d(e),o=!1,i()}}}function instance$g(e,t,r){let n,a,o,i,s,{props:c}=t;const{get:l,__:u}=c;let d,p=!0;return e.$$set=e=>{"props"in e&&r(7,c=e.props)},e.$$.update=()=>{128&e.$$.dirty&&r(8,({chart:n,themeData:a,postEvent:o}=c),n,(r(9,a),r(7,c))),512&e.$$.dirty&&r(3,i=l(a,"options.blocks.embed.data",{})),256&e.$$.dirty&&r(2,s=l(n,"metadata.publish.embed-codes.embed-method-responsive","\x3c!-- embed code will be here after publishing --\x3e"))},[p,d,s,i,u,function(e){e.preventDefault(),r(0,p=!p),o("embed.modal.".concat(p?"close":"open"))},function(){o("embed.copy"),d.focus(),d.select(),document.execCommand("copy")},c,n,a,function(e){binding_callbacks[e?"unshift":"push"]((()=>{d=e,r(1,d)}))}]}class Embed extends SvelteComponent{constructor(e){super(),init(this,e,instance$g,create_fragment$g,safe_not_equal,{props:7},add_css$5)}}function create_fragment$f(e){let t,r,n,a,o=e[2](e[0])+"";return{c(){t=element("span"),r=text(e[1]),n=space(),a=new HtmlTagHydration(!1),this.h()},l(o){t=claim_element(o,"SPAN",{});var i=children(t);r=claim_text(i,e[1]),n=claim_space(i),a=claim_html_tag(i,!1),i.forEach(detach),this.h()},h(){a.a=null},m(e,i){insert_hydration(e,t,i),append_hydration(t,r),append_hydration(t,n),a.m(o,t)},p(e,t){let[n]=t;2&n&&set_data(r,e[1]),1&n&&o!==(o=e[2](e[0])+"")&&a.p(o)},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$f(e,t,r){let n,a,o,i,s,c,l,{props:u}=t;const{get:d,purifyHtml:p}=u;return e.$$set=e=>{"props"in e&&r(3,u=e.props)},e.$$.update=()=>{8&e.$$.dirty&&r(8,n=u.themeData),8&e.$$.dirty&&r(5,a=u.chart),8&e.$$.dirty&&r(7,o=u.caption),256&e.$$.dirty&&r(6,i=d(n,"options.blocks.figure.data")),64&e.$$.dirty&&r(4,s=i["custom-field"]),192&e.$$.dirty&&r(1,c=i["".concat(o,"Caption")]||i.caption||""),48&e.$$.dirty&&r(0,l=s?d(a,"metadata.custom.".concat(s),""):"")},[l,c,p,u,s,a,i,o,n]}class Figure extends SvelteComponent{constructor(e){super(),init(this,e,instance$f,create_fragment$f,safe_not_equal,{props:3})}}function create_fragment$e(e){let t,r,n,a,o,i,s,c,l=e[4](e[3])+"";return{c(){t=element("a"),r=text(l),this.h()},l(e){t=claim_element(e,"A",{class:!0,"aria-label":!0,target:!0,href:!0,download:!0});var n=children(t);r=claim_text(n,l),n.forEach(detach),this.h()},h(){attr(t,"class","dw-data-link"),attr(t,"aria-label",n=e[4](e[3])+": "+e[5](e[0].title,[])),attr(t,"target",a=e[2]?"_blank":"_self"),attr(t,"href",o=e[2]||"javascript:void(0)"),attr(t,"download",i=e[2]?e[1]:null)},m(n,a){insert_hydration(n,t,a),append_hydration(t,r),s||(c=listen(t,"click",e[6]),s=!0)},p(e,s){let[c]=s;8&c&&l!==(l=e[4](e[3])+"")&&set_data(r,l),9&c&&n!==(n=e[4](e[3])+": "+e[5](e[0].title,[]))&&attr(t,"aria-label",n),4&c&&a!==(a=e[2]?"_blank":"_self")&&attr(t,"target",a),4&c&&o!==(o=e[2]||"javascript:void(0)")&&attr(t,"href",o),6&c&&i!==(i=e[2]?e[1]:null)&&attr(t,"download",i)},i:noop,o:noop,d(e){e&&detach(t),s=!1,c()}}}function instance$e(e,t,r){let n,a,o,i,s,c,l,u,{props:d}=t;const{get:p,__:h,purifyHtml:f}=d;return e.$$set=e=>{"props"in e&&r(7,d=e.props)},e.$$.update=()=>{var t;(128&e.$$.dirty&&r(0,({chart:n,dwChart:a,teamPublicSettings:o,themeData:i,postEvent:s}=d),n,(r(8,a),r(7,d)),(r(9,i),r(7,d))),256&e.$$.dirty)&&r(2,c=null===(t=a)||void 0===t?void 0:t.datasetSourceUrl());512&e.$$.dirty&&r(3,l=p(i,"options.blocks.get-the-data.data.caption",h("blocks / get-the-data"))),513&e.$$.dirty&&r(1,u=function(e){let{chart:t,themeData:r}=e;const n="data-".concat(t.id,".csv"),a=p(r,"options.blocks.get-the-data.data.filename","").replace(/%custom_(.*?)%/g,((e,r)=>p(t,"metadata.custom.".concat(r),""))).replace(/%chart_id%/g,t.id);return a&&".csv"!==a?a:n}({chart:n,themeData:i}))},[n,u,c,l,h,f,function(e){if(s("download",{type:"csv"}),c)return;const t=p(n,"externalData");if(a&&(t||a.dataset)){!function(e,t){const r=new Blob([e]);if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(r,t);else{const e=document.createElement("a");e.href=URL.createObjectURL(r),e.download=t,e.click()}}(t?a.asset("dataset.".concat(p(n.metadata,"data.json")?"json":"csv")):function(){const e={};return o.downloadDataLocalized&&(e.numeral=a.vis().libraries().numeral),"\ufeff"+a.dataset().csv(e)}(),u),e.preventDefault()}},d,a,i]}class GetTheData extends SvelteComponent{constructor(e){super(),init(this,e,instance$e,create_fragment$e,safe_not_equal,{props:7})}}function HeadlineStyles(e,t){const{css:r,getProp:n}=getThemeStyleHelpers$1(e,t);return r(_templateObject$1||(_templateObject$1=_taggedTemplateLiteral(["\n        margin: ",";\n        padding: ",";\n        border-top: ",";\n        border-bottom: ",";\n        border-left: ",";\n        border-right: ",";\n        background: ",";\n\n        font-family: ",";\n        font-weight: ",";\n        font-size: ",";\n        font-stretch: ",";\n        line-height: ",";\n\n        text-transform: ",";\n        letter-spacing: ",";\n        font-style: ",";\n        text-decoration: ",";\n        color: ",";\n        text-align: ",";\n    "])),n("style.header.title.margin","0 0 10px"),n("style.header.title.padding"),n("style.header.title.border.top"),n("style.header.title.border.bottom"),n("style.header.title.border.left"),n("style.header.title.border.right"),n("style.header.title.background"),n("typography.headline.typeface"),n("typography.headline.fontWeight"),toPixel$1(n("typography.headline.fontSize")),n("typography.headline.fontStretch"),lineHeight$1(n("typography.headline.lineHeight")),n("typography.headline.textTransform"),toPixel$1(n("typography.headline.letterSpacing")),get$1(t,"typography.headline.cursive")?"italic":"normal",get$1(t,"typography.headline.underlined")?"underline":"none",n("typography.headline.color"),n("style.header.title.textAlign"))}function create_fragment$d(e){let t,r,n=e[1](e[0].title)+"";return{c(){t=new HtmlTagHydration(!1),r=empty(),this.h()},l(e){t=claim_html_tag(e,!1),r=empty(),this.h()},h(){t.a=r},m(e,a){t.m(n,e,a),insert_hydration(e,r,a)},p(e,r){let[a]=r;1&a&&n!==(n=e[1](e[0].title)+"")&&t.p(n)},i:noop,o:noop,d(e){e&&(detach(r),t.d())}}}function instance$d(e,t,r){let n,{props:a}=t;const{purifyHtml:o}=a;return e.$$set=e=>{"props"in e&&r(2,a=e.props)},e.$$.update=()=>{4&e.$$.dirty&&r(0,n=a.chart)},[n,o,a]}class Headline extends SvelteComponent{constructor(e){super(),init(this,e,instance$d,create_fragment$d,safe_not_equal,{props:2})}}function create_fragment$c(e){let t;return{c(){t=element("hr"),this.h()},l(e){t=claim_element(e,"HR",{class:!0,style:!0}),this.h()},h(){attr(t,"class","dw-line"),set_style(t,"border","0"),set_style(t,"border-bottom",e[1]),set_style(t,"margin",e[0])},m(e,r){insert_hydration(e,t,r)},p(e,r){let[n]=r;2&n&&set_style(t,"border-bottom",e[1]),1&n&&set_style(t,"margin",e[0])},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$c(e,t,r){let n,a,o,i,{props:s}=t;const{get:c}=s;return e.$$set=e=>{"props"in e&&r(2,s=e.props)},e.$$.update=()=>{4&e.$$.dirty&&r(4,n=s.themeData),20&e.$$.dirty&&r(3,a=c(n,"options.blocks.".concat(s.id,".data"),{})),8&e.$$.dirty&&r(1,o=c(a,"border","1px solid #cccccc")),8&e.$$.dirty&&r(0,i=c(a,"margin","0px"))},[i,o,s,a,n]}class HorizontalRule extends SvelteComponent{constructor(e){super(),init(this,e,instance$c,create_fragment$c,safe_not_equal,{props:2})}}function create_if_block_1$2(e){let t,r,n,a;return{c(){t=element("img"),this.h()},l(e){t=claim_element(e,"IMG",{height:!0,src:!0,alt:!0}),this.h()},h(){attr(t,"height",r=e[0].height),src_url_equal(t.src,n=e[0].imgSrc)||attr(t,"src",n),attr(t,"alt",a="altText"in e[0]?e[0].altText:e[2].title)},m(e,r){insert_hydration(e,t,r)},p(e,o){1&o&&r!==(r=e[0].height)&&attr(t,"height",r),1&o&&!src_url_equal(t.src,n=e[0].imgSrc)&&attr(t,"src",n),5&o&&a!==(a="altText"in e[0]?e[0].altText:e[2].title)&&attr(t,"alt",a)},d(e){e&&detach(t)}}}function create_if_block$5(e){let t,r,n=e[1](e[0].text)+"";return{c(){t=element("span"),r=new HtmlTagHydration(!1),this.h()},l(e){t=claim_element(e,"SPAN",{class:!0});var n=children(t);r=claim_html_tag(n,!1),n.forEach(detach),this.h()},h(){r.a=null,attr(t,"class","logo-text")},m(e,a){insert_hydration(e,t,a),r.m(n,t)},p(e,t){3&t&&n!==(n=e[1](e[0].text)+"")&&r.p(n)},d(e){e&&detach(t)}}}function create_fragment$b(e){let t,r,n=e[0].imgSrc&&create_if_block_1$2(e),a=e[0].text&&create_if_block$5(e);return{c(){n&&n.c(),t=space(),a&&a.c(),r=empty()},l(e){n&&n.l(e),t=claim_space(e),a&&a.l(e),r=empty()},m(e,o){n&&n.m(e,o),insert_hydration(e,t,o),a&&a.m(e,o),insert_hydration(e,r,o)},p(e,o){let[i]=o;e[0].imgSrc?n?n.p(e,i):(n=create_if_block_1$2(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null),e[0].text?a?a.p(e,i):(a=create_if_block$5(e),a.c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i:noop,o:noop,d(e){e&&(detach(t),detach(r)),n&&n.d(e),a&&a.d(e)}}}function instance$b(e,t,r){let{logo:n}=t,{purifyHtml:a}=t,{theme:o}=t;return e.$$set=e=>{"logo"in e&&r(0,n=e.logo),"purifyHtml"in e&&r(1,a=e.purifyHtml),"theme"in e&&r(2,o=e.theme)},[n,a,o]}class LogoInner extends SvelteComponent{constructor(e){super(),init(this,e,instance$b,create_fragment$b,safe_not_equal,{logo:0,purifyHtml:1,theme:2})}}function create_else_block$1(e){let t,r;return t=new LogoInner({props:{logo:e[0],purifyHtml:e[2],theme:e[1]}}),{c(){create_component(t.$$.fragment)},l(e){claim_component(t.$$.fragment,e)},m(e,n){mount_component(t,e,n),r=!0},p(e,r){const n={};1&r&&(n.logo=e[0]),2&r&&(n.theme=e[1]),t.$set(n)},i(e){r||(transition_in(t.$$.fragment,e),r=!0)},o(e){transition_out(t.$$.fragment,e),r=!1},d(e){destroy_component(t,e)}}}function create_if_block$4(e){let t,r,n,a,o;return r=new LogoInner({props:{logo:e[0],purifyHtml:e[2],theme:e[1]}}),{c(){t=element("a"),create_component(r.$$.fragment),this.h()},l(e){t=claim_element(e,"A",{href:!0,title:!0,target:!0,rel:!0});var n=children(t);claim_component(r.$$.fragment,n),n.forEach(detach),this.h()},h(){attr(t,"href",n=e[0].url),attr(t,"title",a=e[0].linkTitle||e[0].url),attr(t,"target","_blank"),attr(t,"rel","noopener nofollow")},m(e,n){insert_hydration(e,t,n),mount_component(r,t,null),o=!0},p(e,i){const s={};1&i&&(s.logo=e[0]),2&i&&(s.theme=e[1]),r.$set(s),(!o||1&i&&n!==(n=e[0].url))&&attr(t,"href",n),(!o||1&i&&a!==(a=e[0].linkTitle||e[0].url))&&attr(t,"title",a)},i(e){o||(transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(r.$$.fragment,e),o=!1},d(e){e&&detach(t),destroy_component(r)}}}function create_fragment$a(e){let t,r,n,a;const o=[create_if_block$4,create_else_block$1],i=[];function s(e,t){return e[0].url?0:1}return t=s(e),r=i[t]=o[t](e),{c(){r.c(),n=empty()},l(e){r.l(e),n=empty()},m(e,r){i[t].m(e,r),insert_hydration(e,n,r),a=!0},p(e,a){let[c]=a,l=t;t=s(e),t===l?i[t].p(e,c):(group_outros(),transition_out(i[l],1,1,(()=>{i[l]=null})),check_outros(),r=i[t],r?r.p(e,c):(r=i[t]=o[t](e),r.c()),transition_in(r,1),r.m(n.parentNode,n))},i(e){a||(transition_in(r),a=!0)},o(e){transition_out(r),a=!1},d(e){e&&detach(n),i[t].d(e)}}}function instance$a(e,t,r){let n,a,o,i,{props:s}=t;const{get:c,purifyHtml:l}=s;let u;return e.$$set=e=>{"props"in e&&r(3,s=e.props)},e.$$.update=()=>{if(8&e.$$.dirty&&r(6,({chart:n,themeData:a,theme:o,logoId:i}=s),n,(r(5,a),r(3,s)),(r(1,o),r(3,s)),(r(4,i),r(3,s))),113&e.$$.dirty){const e=c(n,"metadata.publish.blocks.logo",{}),t=c(a,"options.blocks.logo.data.options",[]),o=i||e.id;r(0,u=t.find((e=>e.id===o))),o&&u||r(0,u=t[0]||{})}},[u,o,l,s,i,a,n]}class Logo extends SvelteComponent{constructor(e){super(),init(this,e,instance$a,create_fragment$a,safe_not_equal,{props:3})}}function NotesStyles(e,t){const{css:r,getProp:n}=getThemeStyleHelpers$1(e,t);return r(_templateObject||(_templateObject=_taggedTemplateLiteral(["\n        position: relative;\n        color: ",";\n        font-family: ",";\n        font-size: ",";\n        font-stretch: ",";\n        font-style: ",";\n        font-weight: ",";\n        letter-spacing: ",";\n        line-height: ",";\n        margin: ",";\n        padding: ",";\n        text-align: ",";\n        text-decoration: ",";\n        text-transform: ",";\n\n        a {\n            padding: ",";\n            border-bottom: ",";\n            font-style: ",";\n        }\n    "])),n("typography.notes.color"),n("typography.notes.typeface"),toPixel$1(n("typography.notes.fontSize")),n("typography.notes.fontStretch"),get$1(t,"typography.notes.cursive")?"italic":"normal",n("typography.notes.fontWeight"),toPixel$1(n("typography.notes.letterSpacing")),lineHeight$1(n("typography.notes.lineHeight")),n("style.notes.margin"),n("style.notes.padding"),n("style.notes.textAlign"),get$1(t,"typography.notes.underlined")?"underline":"none",n("typography.notes.textTransform"),n("style.footer.links.padding"),n("style.footer.links.border.bottom"),get$1(t,"typography.notes.cursive")||get$1(t,"typography.links.cursive")?"italic":"normal")}function create_fragment$9(e){let t,r,n=clean$1(e[1](e[0],"metadata.annotate.notes"),["details","summary"])+"";return{c(){t=new HtmlTagHydration(!1),r=empty(),this.h()},l(e){t=claim_html_tag(e,!1),r=empty(),this.h()},h(){t.a=r},m(e,a){t.m(n,e,a),insert_hydration(e,r,a)},p(e,r){let[a]=r;1&a&&n!==(n=clean$1(e[1](e[0],"metadata.annotate.notes"),["details","summary"])+"")&&t.p(n)},i:noop,o:noop,d(e){e&&(detach(r),t.d())}}}function instance$9(e,t,r){let n,{props:a}=t;const{get:o}=a;return e.$$set=e=>{"props"in e&&r(2,a=e.props)},e.$$.update=()=>{4&e.$$.dirty&&r(0,n=a.chart)},[n,o,a]}class Notes extends SvelteComponent{constructor(e){super(),init(this,e,instance$9,create_fragment$9,safe_not_equal,{props:2})}}function create_fragment$8(e){let t;return{c(){t=element("div"),this.h()},l(e){t=claim_element(e,"DIV",{class:!0,style:!0}),children(t).forEach(detach),this.h()},h(){attr(t,"class","export-rect"),set_style(t,"width",px(e[2])),set_style(t,"height",px(e[1])),set_style(t,"background",e[0])},m(e,r){insert_hydration(e,t,r)},p(e,r){let[n]=r;4&n&&set_style(t,"width",px(e[2])),2&n&&set_style(t,"height",px(e[1])),1&n&&set_style(t,"background",e[0])},i:noop,o:noop,d(e){e&&detach(t)}}}function px(e){return"string"==typeof e?e:e+"px"}function instance$8(e,t,r){let n,a,o,i,s,{props:c}=t;const{get:l}=c;return e.$$set=e=>{"props"in e&&r(3,c=e.props)},e.$$.update=()=>{8&e.$$.dirty&&r(5,n=c.themeData),32&e.$$.dirty&&r(4,a=l(n,"options.blocks.rectangle.data",{})),16&e.$$.dirty&&r(2,o=l(a,"width",50)),16&e.$$.dirty&&r(1,i=l(a,"height",5)),16&e.$$.dirty&&r(0,s=l(a,"background","red"))},[s,i,o,c,a,n]}class Rectangle extends SvelteComponent{constructor(e){super(),init(this,e,instance$8,create_fragment$8,safe_not_equal,{props:3})}}function fade(e,{delay:t=0,duration:r=400,easing:n=identity$2}={}){const a=+getComputedStyle(e).opacity;return{delay:t,duration:r,easing:n,css:e=>"opacity: "+e*a}}function add_css$4(e){append_styles(e,"svelte-9ew7mu",".social-sharing.svelte-9ew7mu.svelte-9ew7mu{position:absolute;top:0;right:0;z-index:100000}.dw-chart:not(.dir-rtl) .social-sharing.svelte-9ew7mu.svelte-9ew7mu{right:0}.dw-chart.dir-rtl .social-sharing.svelte-9ew7mu.svelte-9ew7mu{left:0}.social-sharing.svelte-9ew7mu div.svelte-9ew7mu{width:35px;height:35px;opacity:1;cursor:pointer}.social-sharing.svelte-9ew7mu div a.svelte-9ew7mu{text-decoration:initial;color:#fff}.linkedin.svelte-9ew7mu.svelte-9ew7mu{font-size:20px;text-align:center;font-weight:bold;color:#fff;background:#007bb5;padding-top:6px;margin-top:-6px}.facebook.svelte-9ew7mu.svelte-9ew7mu{background:#305891;color:white;font-weight:bold;font-size:20px;text-align:center;padding-top:6px}.twitter.svelte-9ew7mu.svelte-9ew7mu{background:#3fa1cc;color:white;font-weight:300;font-size:24px;text-align:center;padding-top:0px;margin-top:-4px}.twitter.svelte-9ew7mu img.svelte-9ew7mu{height:14px;margin-top:11px}.dw-chart:not(.dir-rtl) .dw-chart-styles.is-sharing-enabled .dw-chart-body{margin-right:40px !important}.dw-chart:not(.dir-rtl) .dw-chart-styles.is-sharing-enabled .dw-chart-header{padding-right:40px}.dw-chart.dir-rtl .dw-chart-styles.is-sharing-enabled .dw-chart-body{margin-left:40px !important}.dw-chart.dir-rtl .dw-chart-styles.is-sharing-enabled .dw-chart-header{padding-left:40px}")}function create_if_block$3(e){let t,r,n,a,o,i,s,c,l,u,d,p,h,f,m,_;return{c(){t=element("div"),r=element("div"),n=element("a"),a=text("f"),o=space(),i=element("div"),s=element("a"),c=text("in"),l=space(),u=element("div"),d=element("a"),p=element("img"),this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var h=children(t);r=claim_element(h,"DIV",{class:!0});var f=children(r);n=claim_element(f,"A",{class:!0,href:!0});var m=children(n);a=claim_text(m,"f"),m.forEach(detach),f.forEach(detach),o=claim_space(h),i=claim_element(h,"DIV",{class:!0});var _=children(i);s=claim_element(_,"A",{class:!0,href:!0});var g=children(s);c=claim_text(g,"in"),g.forEach(detach),_.forEach(detach),l=claim_space(h),u=claim_element(h,"DIV",{class:!0});var y=children(u);d=claim_element(y,"A",{class:!0,href:!0});var b=children(d);p=claim_element(b,"IMG",{alt:!0,src:!0,class:!0}),b.forEach(detach),y.forEach(detach),h.forEach(detach),this.h()},h(){attr(n,"class","link-style-ignore svelte-9ew7mu"),attr(n,"href",e[3]),attr(r,"class","facebook svelte-9ew7mu"),attr(s,"class","link-style-ignore svelte-9ew7mu"),attr(s,"href",e[2]),attr(i,"class","linkedin svelte-9ew7mu"),attr(p,"alt","Twitter logo"),src_url_equal(p.src,h="https://static.dwcdn.net/custom/social-sharing/twitter.png")||attr(p,"src","https://static.dwcdn.net/custom/social-sharing/twitter.png"),attr(p,"class","svelte-9ew7mu"),attr(d,"class","link-style-ignore svelte-9ew7mu"),attr(d,"href",e[1]),attr(u,"class","twitter svelte-9ew7mu"),attr(t,"class","social-sharing noscript svelte-9ew7mu")},m(h,f){insert_hydration(h,t,f),append_hydration(t,r),append_hydration(r,n),append_hydration(n,a),append_hydration(t,o),append_hydration(t,i),append_hydration(i,s),append_hydration(s,c),append_hydration(t,l),append_hydration(t,u),append_hydration(u,d),append_hydration(d,p),m||(_=[listen(n,"click",prevent_default((function(){is_function(e[4](e[3],"facebook"))&&e[4](e[3],"facebook").apply(this,arguments)}))),listen(s,"click",prevent_default((function(){is_function(e[4](e[2],"linkedin"))&&e[4](e[2],"linkedin").apply(this,arguments)}))),listen(d,"click",prevent_default((function(){is_function(e[4](e[1],"twitter"))&&e[4](e[1],"twitter").apply(this,arguments)})))],m=!0)},p(t,r){e=t,8&r&&attr(n,"href",e[3]),4&r&&attr(s,"href",e[2]),2&r&&attr(d,"href",e[1])},i(e){f||add_render_callback((()=>{f=create_in_transition(t,fade,{delay:1e3,duration:200}),f.start()}))},o:noop,d(e){e&&detach(t),m=!1,run_all(_)}}}function create_fragment$7(e){let t,r=!e[0]&&create_if_block$3(e);return{c(){r&&r.c(),t=empty()},l(e){r&&r.l(e),t=empty()},m(e,n){r&&r.m(e,n),insert_hydration(e,t,n)},p(e,n){let[a]=n;e[0]?r&&(r.d(1),r=null):r?(r.p(e,a),1&a&&transition_in(r,1)):(r=create_if_block$3(e),r.c(),transition_in(r,1),r.m(t.parentNode,t))},i(e){transition_in(r)},o:noop,d(e){e&&detach(t),r&&r.d(e)}}}function instance$7(e,t,r){let n,a,o,i,s,c,l,u,{props:d}=t;onDestroy((()=>{o&&o.classList.remove("is-sharing-enabled")}));let p=!0;return e.$$set=e=>{"props"in e&&r(5,d=e.props)},e.$$.update=()=>{32&e.$$.dirty&&r(9,({chart:n,postEvent:a,container:o,isIframe:i}=d),n,(r(6,o),r(5,d)),(r(8,i),r(5,d))),768&e.$$.dirty&&r(7,s=encodeURIComponent(function(e){let{chart:t,isIframe:r}=e;return get$1(t,"metadata.visualize.sharing.auto",!1)?"undefined"==typeof document?"":r?document.referrer:window.location.href:get$1(t,"metadata.visualize.sharing.url")}({chart:n,isIframe:i}))),128&e.$$.dirty&&r(3,c="https://www.facebook.com/sharer/sharer.php?u=".concat(s)),128&e.$$.dirty&&r(2,l="https://www.linkedin.com/cws/share?url=".concat(s)),128&e.$$.dirty&&r(1,u="https://twitter.com/intent/tweet?text=".concat(s)),65&e.$$.dirty&&p&&o&&(r(0,p=!1),o.classList.add("is-sharing-enabled"))},[p,u,l,c,function(e,t){a("social-sharing.click",{platform:t}),window.open(e,"sharer","left=20,top=20,width=500,height=500,toolbar=1,resizable=0")},d,o,s,i,n]}class SocialSharing extends SvelteComponent{constructor(e){super(),init(this,e,instance$7,create_fragment$7,safe_not_equal,{props:5},add_css$4)}}function create_if_block$2(e){let t,r,n=e[3]&&create_if_block_2$1(e);function a(e,t){return e[0]&&e[2]?create_if_block_1$1:create_else_block}let o=a(e),i=o(e);return{c(){n&&n.c(),t=space(),i.c(),r=empty()},l(e){n&&n.l(e),t=claim_space(e),i.l(e),r=empty()},m(e,a){n&&n.m(e,a),insert_hydration(e,t,a),i.m(e,a),insert_hydration(e,r,a)},p(e,s){e[3]?n?n.p(e,s):(n=create_if_block_2$1(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null),o===(o=a(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(r.parentNode,r)))},d(e){e&&(detach(t),detach(r)),n&&n.d(e),i.d(e)}}}function create_if_block_2$1(e){let t,r,n;return{c(){t=element("span"),r=text(e[3]),n=text(":"),this.h()},l(a){t=claim_element(a,"SPAN",{class:!0});var o=children(t);r=claim_text(o,e[3]),n=claim_text(o,":"),o.forEach(detach),this.h()},h(){attr(t,"class","source-caption")},m(e,a){insert_hydration(e,t,a),append_hydration(t,r),append_hydration(t,n)},p(e,t){8&t&&set_data(r,e[3])},d(e){e&&detach(t)}}}function create_else_block(e){let t,r,n,a=e[4](e[1])+"";return{c(){t=element("span"),r=new HtmlTagHydration(!1),this.h()},l(e){t=claim_element(e,"SPAN",{class:!0,title:!0});var n=children(t);r=claim_html_tag(n,!1),n.forEach(detach),this.h()},h(){r.a=null,attr(t,"class","source"),attr(t,"title",n=e[0]&&!e[2]?e[0]:null)},m(e,n){insert_hydration(e,t,n),r.m(a,t)},p(e,o){2&o&&a!==(a=e[4](e[1])+"")&&r.p(a),5&o&&n!==(n=e[0]&&!e[2]?e[0]:null)&&attr(t,"title",n)},d(e){e&&detach(t)}}}function create_if_block_1$1(e){let t,r,n,a,o=e[4](e[1])+"";return{c(){t=element("a"),r=new HtmlTagHydration(!1),this.h()},l(e){t=claim_element(e,"A",{class:!0,target:!0,rel:!0,href:!0});var n=children(t);r=claim_html_tag(n,!1),n.forEach(detach),this.h()},h(){r.a=null,attr(t,"class","source"),attr(t,"target","_blank"),attr(t,"rel","nofollow noopener"),attr(t,"href",e[0])},m(i,s){insert_hydration(i,t,s),r.m(o,t),n||(a=listen(t,"click",e[5]),n=!0)},p(e,n){2&n&&o!==(o=e[4](e[1])+"")&&r.p(o),1&n&&attr(t,"href",e[0])},d(e){e&&detach(t),n=!1,a()}}}function create_fragment$6(e){let t,r=e[1]&&create_if_block$2(e);return{c(){r&&r.c(),t=empty()},l(e){r&&r.l(e),t=empty()},m(e,n){r&&r.m(e,n),insert_hydration(e,t,n)},p(e,n){let[a]=n;e[1]?r?r.p(e,a):(r=create_if_block$2(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:noop,o:noop,d(e){e&&detach(t),r&&r.d(e)}}}function instance$6(e,t,r){let n,a,o,i,s,c,l,{props:u}=t;const{__:d,get:p,purifyHtml:h}=u;return e.$$set=e=>{"props"in e&&r(6,u=e.props)},e.$$.update=()=>{64&e.$$.dirty&&r(7,({chart:n,themeData:a,postEvent:o}=u),n,(r(8,a),r(6,u))),256&e.$$.dirty&&r(3,i=p(a,"options.blocks.source.data.caption",d("blocks / source"))),128&e.$$.dirty&&r(1,s=p(n,"metadata.describe.source-name")),128&e.$$.dirty&&r(0,c=p(n,"metadata.describe.source-url")),1&e.$$.dirty&&r(2,l=isAllowedSourceUrl(c))},[c,s,l,i,h,function(){o("source.click",{url:c,name:s})},u,n,a]}class Source extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$6,safe_not_equal,{props:6})}}function create_fragment$5(e){let t,r,n=e[1](e[0])+"";return{c(){t=element("span"),r=new HtmlTagHydration(!1),this.h()},l(e){t=claim_element(e,"SPAN",{});var n=children(t);r=claim_html_tag(n,!1),n.forEach(detach),this.h()},h(){r.a=null},m(e,a){insert_hydration(e,t,a),r.m(n,t)},p(e,t){let[a]=t;1&a&&n!==(n=e[1](e[0])+"")&&r.p(n)},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$5(e,t,r){let n,a,o,i,{props:s}=t;const{get:c,purifyHtml:l}=s;return e.$$set=e=>{"props"in e&&r(2,s=e.props)},e.$$.update=()=>{4&e.$$.dirty&&r(5,n=s.themeData),4&e.$$.dirty&&r(4,a=s.chart),32&e.$$.dirty&&r(3,o=c(n,"options.blocks.subhed.data.custom-field")),24&e.$$.dirty&&r(0,i=o?c(a,"metadata.custom.".concat(o),""):"")},[i,l,s,o,a,n]}class SubHed extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$5,safe_not_equal,{props:2})}}function create_fragment$4(e){let t,r,n=e[1](e[0])+"";return{c(){t=element("span"),r=new HtmlTagHydration(!1),this.h()},l(e){t=claim_element(e,"SPAN",{});var n=children(t);r=claim_html_tag(n,!1),n.forEach(detach),this.h()},h(){r.a=null},m(e,a){insert_hydration(e,t,a),r.m(n,t)},p(e,t){let[a]=t;1&a&&n!==(n=e[1](e[0])+"")&&r.p(n)},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$4(e,t,r){let n,a,o,i,{props:s}=t;const{get:c,purifyHtml:l}=s;return e.$$set=e=>{"props"in e&&r(2,s=e.props)},e.$$.update=()=>{4&e.$$.dirty&&r(5,n=s.themeData),4&e.$$.dirty&&r(4,a=s.chart),32&e.$$.dirty&&r(3,o=c(n,"options.blocks.timestamp.data.custom-field")),24&e.$$.dirty&&r(0,i=o?c(a,"metadata.custom.".concat(o),""):"")},[i,l,s,o,a,n]}class Timestamp extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$4,safe_not_equal,{props:2})}}function add_css$3(e){append_styles(e,"svelte-k4d5to",".watermark-container.svelte-k4d5to{pointer-events:none}.watermark.svelte-k4d5to{opacity:0.182;font-weight:700;text-anchor:middle;fill:currentColor;transform-box:fill-box;transform-origin:center}")}function create_if_block$1(e){let t,r,n,a,o,i,s=e[7](e[0],"")+"";return{c(){t=svg_element("svg"),r=svg_element("text"),n=text(s),this.h()},l(e){t=claim_svg_element(e,"svg",{width:!0,height:!0,class:!0});var a=children(t);r=claim_svg_element(a,"text",{class:!0,"dominant-baseline":!0,style:!0,transform:!0,"data-rotate":!0,x:!0,y:!0});var o=children(r);n=claim_text(o,s),o.forEach(detach),a.forEach(detach),this.h()},h(){attr(r,"class","watermark svelte-k4d5to"),attr(r,"dominant-baseline","central"),set_style(r,"font-size",e[3]),attr(r,"transform",a="rotate("+e[4]+")"),attr(r,"data-rotate",e[4]),attr(r,"x",o=.5*e[1]),attr(r,"y",i=.5*e[2]),attr(t,"width",e[1]),attr(t,"height",e[2]),attr(t,"class","watermark-container svelte-k4d5to")},m(e,a){insert_hydration(e,t,a),append_hydration(t,r),append_hydration(r,n)},p(e,c){1&c&&s!==(s=e[7](e[0],"")+"")&&set_data(n,s),8&c&&set_style(r,"font-size",e[3]),16&c&&a!==(a="rotate("+e[4]+")")&&attr(r,"transform",a),16&c&&attr(r,"data-rotate",e[4]),2&c&&o!==(o=.5*e[1])&&attr(r,"x",o),4&c&&i!==(i=.5*e[2])&&attr(r,"y",i),2&c&&attr(t,"width",e[1]),4&c&&attr(t,"height",e[2])},d(e){e&&detach(t)}}}function create_fragment$3(e){let t,r=e[2]&&create_if_block$1(e);return{c(){r&&r.c(),t=empty()},l(e){r&&r.l(e),t=empty()},m(e,n){r&&r.m(e,n),insert_hydration(e,t,n)},p(e,n){let[a]=n;e[2]?r?r.p(e,a):(r=create_if_block$1(e),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i:noop,o:noop,d(e){e&&detach(t),r&&r.d(e)}}}function instance$3(e,t,r){let n,a,o,i,s,c,l,u,d,p,h,f,m,_,g;const{outerWidth:y,outerHeight:b}=getContext("stores");component_subscribe(e,y,(e=>r(18,g=e))),component_subscribe(e,b,(e=>r(17,_=e)));let{props:$}=t;const{get:v,purifyHtml:k,textDirection:x}=$;return e.$$set=e=>{"props"in e&&r(8,$=e.props)},e.$$.update=()=>{256&e.$$.dirty&&r(16,({chart:n,themeData:a}=$),n,(r(14,a),r(8,$))),16384&e.$$.dirty&&r(15,o=v(a,"options.watermark.custom-field")),16384&e.$$.dirty&&r(12,i=v(a,"options.watermark.rotate",!0)),16384&e.$$.dirty&&r(11,s=v(a,"options.watermark.typography.fontSize")),114688&e.$$.dirty&&r(0,c=!!v(a,"options.watermark")&&(o?v(n,"metadata.custom.".concat(o),""):v(a,"options.watermark.text","CONFIDENTIAL"))),262144&e.$$.dirty&&r(1,l=g),131072&e.$$.dirty&&r(2,u=_),4102&e.$$.dirty&&r(13,d=i?-Math.atan(u/l)*("rtl"===x?-1:1):0),8192&e.$$.dirty&&r(4,p=180*d/Math.PI),4102&e.$$.dirty&&r(10,h=i?Math.sqrt(l*l+u*u):l),1&e.$$.dirty&&r(9,f=estimateTextWidth(c,20)),3584&e.$$.dirty&&r(3,m="".concat(s||Math.round(.75*h/f*20),"px"))},[c,l,u,m,p,y,b,k,$,f,h,s,i,d,a,o,n,_,g]}class Watermark extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$3,safe_not_equal,{props:8},add_css$3)}}function add_css$2(e){append_styles(e,"svelte-eczzvz","svg.svelte-eczzvz{width:100%;overflow-x:hidden}")}function create_fragment$2(e){let t,r,n,a;return{c(){t=svg_element("svg"),r=svg_element("line"),this.h()},l(e){t=claim_svg_element(e,"svg",{style:!0,class:!0});var n=children(t);r=claim_svg_element(n,"line",{style:!0,x1:!0,y1:!0,x2:!0,y2:!0}),children(r).forEach(detach),n.forEach(detach),this.h()},h(){set_style(r,"stroke",e[5]),set_style(r,"stroke-width",e[4]),set_style(r,"stroke-dasharray",e[3]),set_style(r,"stroke-linecap",e[2]),attr(r,"x1","0"),attr(r,"y1",n=e[4]/2),attr(r,"x2",e[1]),attr(r,"y2",a=e[4]/2),set_style(t,"height",Math.max(e[4],1)+"px"),set_style(t,"margin",e[6]),attr(t,"class","svelte-eczzvz")},m(n,a){insert_hydration(n,t,a),append_hydration(t,r),e[10](t)},p(e,o){let[i]=o;32&i&&set_style(r,"stroke",e[5]),16&i&&set_style(r,"stroke-width",e[4]),8&i&&set_style(r,"stroke-dasharray",e[3]),4&i&&set_style(r,"stroke-linecap",e[2]),16&i&&n!==(n=e[4]/2)&&attr(r,"y1",n),2&i&&attr(r,"x2",e[1]),16&i&&a!==(a=e[4]/2)&&attr(r,"y2",a),16&i&&set_style(t,"height",Math.max(e[4],1)+"px"),64&i&&set_style(t,"margin",e[6])},i:noop,o:noop,d(r){r&&detach(t),e[10](null)}}}function instance$2(e,t,r){let n,a,o,i,s,c,l,{props:u}=t;const{get:d}=u;let p,h=0;return onMount((()=>{r(1,h=p.getBoundingClientRect().width)})),"undefined"!=typeof window&&window.addEventListener("resize",(()=>{r(1,h=p.getBoundingClientRect().width)})),e.$$set=e=>{"props"in e&&r(7,u=e.props)},e.$$.update=()=>{128&e.$$.dirty&&r(9,n=u.themeData),640&e.$$.dirty&&r(8,a=d(n,"options.blocks.".concat(u.id,".data"),{})),256&e.$$.dirty&&r(6,o=d(a,"margin","0px")),256&e.$$.dirty&&r(5,i=d(a,"color","#000000")),256&e.$$.dirty&&r(4,s=d(a,"width",1)),256&e.$$.dirty&&r(3,c=d(a,"strokeDasharray","none")),256&e.$$.dirty&&r(2,l=d(a,"strokeLinecap","butt"))},[p,h,l,c,s,i,o,u,a,n,function(e){binding_callbacks[e?"unshift":"push"]((()=>{p=e,r(0,p)}))}]}class SvgRule extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{props:7},add_css$2)}}var coreBlocksV1=[{id:"headline",tag:"h3",region:"header",priority:10,includeInContext:!0,styles:HeadlineStyles,test:e=>{let{chart:t}=e;return t.title&&!get$1(t,"metadata.describe.hide-title")},component:Headline},{id:"description",tag:"p",region:"header",priority:20,includeInContext:!0,styles:DescriptionStyles,test:e=>{let{chart:t}=e;return get$1(t,"metadata.describe.intro")},component:Description},{id:"notes",region:"aboveFooter",priority:10,styles:NotesStyles,includeInContext:!0,test:e=>{let{chart:t}=e;return get$1(t,"metadata.annotate.notes")},component:Notes},{id:"byline",region:"footerLeft",test:e=>{let{chart:t}=e;return get$1(t,"metadata.describe.byline",!1)||t.basedOnByline},priority:10,includeInContext:!0,component:Byline},{id:"source",region:"footerLeft",test:e=>{let{chart:t}=e;return get$1(t,"metadata.describe.source-name")},priority:20,includeInContext:!0,component:Source},{id:"get-the-data",region:"footerLeft",test:e=>{let{chart:t,isStyleStatic:r}=e;return get$1(t,"metadata.publish.blocks.get-the-data")&&!r&&"locator-map"!==t.type},priority:30,includeInContext:!0,component:GetTheData},{id:"attribution",region:"footerLeft",test:e=>{let{chart:t,requiresAttribution:r}=e;return!!r||get$1(t,"metadata.publish.force-attribution",!1)},priority:99,includeInContext:!0,component:CreatedWithDatawrapper},{id:"attribution",region:"plainFooter",test:e=>{let{requiresAttribution:t}=e;return t},ignoreCustomRegion:!0,priority:99,includeInContext:!0,component:CreatedWithDatawrapper},{id:"edit",region:"footerLeft",test:e=>{let{chart:t,isStyleStatic:r}=e;return get$1(t,"forkable")&&get$1(t,"metadata.publish.blocks.edit-in-datawrapper",!1)&&!r},priority:31,includeInContext:!0,component:EditInDatawrapper},{id:"embed",region:"footerLeft",test:e=>{let{chart:t,isStyleStatic:r}=e;return get$1(t,"metadata.publish.blocks.embed")&&!r},priority:40,includeInContext:!0,component:Embed},{id:"download-image",region:"footerLeft",priority:50,includeInContext:!0,component:DownloadImage,test:testDownloadImage("image")},{id:"download-pdf",region:"footerLeft",priority:60,includeInContext:!0,component:DownloadImage,test:testDownloadImage("pdf")},{id:"download-svg",region:"footerLeft",priority:70,includeInContext:!0,component:DownloadImage,test:testDownloadImage("svg")},{id:"logo",region:"footerRight",test:e=>{let{chart:t,themeData:r,logoId:n,forceLogo:a}=e;const o=get$1(t,"metadata.publish.blocks.logo",{enabled:!1}),i=get$1(r,"options.blocks.logo.data.options",[]),s=n||o.id;let c=i.find((e=>e.id===s));return s&&c||(c=i[0]||{}),!(!c.imgSrc&&!c.text)&&("on"===a||"off"!==a&&(isObject(o)?o.enabled:o))},priority:10,includeInContext:!1,component:Logo},{id:"rectangle",region:"header",test:e=>{let{themeData:t}=e;return!!get$1(t,"options.blocks.rectangle")},priority:1,includeInContext:!1,component:Rectangle},{id:"watermark",region:"afterBody",test:e=>{let{themeData:t,chart:r}=e;const n=get$1(t,"options.watermark.custom-field");return!!get$1(t,"options.watermark")&&(n?get$1(r,"metadata.custom.".concat(n),""):get$1(t,"options.watermark.text","CONFIDENTIAL"))},priority:1,includeInContext:!1,component:Watermark},customText({id:"figure",priority:5,component:Figure}),customText({id:"subhed",priority:40,component:SubHed}),customText({id:"caption",priority:50,component:Caption}),customText({id:"copyright",priority:60,component:Copyright}),customText({id:"timestamp",priority:60,component:Timestamp}),customText({id:"custom",priority:60}),customText({id:"custom1",priority:61}),customText({id:"custom2",priority:62}),customText({id:"custom3",priority:63}),{id:"social-sharing",region:"afterBody",test:e=>{let{chart:t,isStyleStatic:r}=e;return!!get$1(t,"metadata.visualize.sharing.enabled",!1)&&!r},priority:1,includeInContext:!0,component:SocialSharing},hr(0,"hr"),hr(1,"hr"),hr(2,"hr"),hr(0,"svg-rule"),hr(1,"svg-rule"),hr(2,"svg-rule")];function customText(e){let{id:t,priority:r,component:n=Custom}=e;const a=n===Custom;return{id:t,region:"header",priority:r,test(e){let{chart:r,themeData:n}=e;const o=get$1(n,"options.blocks.".concat(t,".data.custom-field")),i=a&&get$1(n,"options.blocks.".concat(t,".data.text")),s=get$1(r,"metadata.custom.".concat(o));return a?o?s:i:o&&s},component:n}}function hr(e,t){const r="".concat(t).concat(e||"");return{id:r,region:"header",test:e=>{let{themeData:t}=e;return!!get$1(t,"options.blocks.".concat(r))},priority:0,includeInContext:!1,component:"hr"===t?HorizontalRule:SvgRule}}function testDownloadImage(e){return t=>{let{chart:r,flags:n,allowPrintExport:a}=t;return!n.static&&!n.plain&&(!!("pdf"!==e&&"svg"!==e||a)&&!!get$1(r,"metadata.publish.blocks.download-".concat(e)))}}function _call(e,t,r){try{var n=Promise.resolve(e());return t?n.then(t):n}catch(e){return Promise.reject(e)}}function _async$1(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function _await$1(e,t,r){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}function _catch(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}function _empty(){}function _continueIgnored(e){if(e&&e.then)return e.then(_empty)}function _invoke(e,t){var r=e();return r&&r.then?r.then(t):t(r)}function _invokeIgnored(e){var t=e();if(t&&t.then)return t.then(_empty)}function add_css$1(e){append_styles(e,"svelte-9ysojt","body,.web-component-body{margin:0;padding:0;-webkit-text-size-adjust:100%}body.in-editor,.web-component-body.in-editor{padding-bottom:10px}.dw-chart.vis-height-fit{overflow:hidden}.chart.dir-rtl .dw-chart-body.svelte-9ysojt{direction:rtl}.chart.is-dark-mode .hide-in-dark{display:none}.chart:not(.is-dark-mode) .hide-in-light{display:none}.chart .sr-only{position:absolute;left:-9999px;height:1px}.chart.js.svelte-9ysojt .noscript{display:none}.chart .hidden,.chart .hide{display:none}a img{border:0px}b,strong{font-weight:bold}svg rect{shape-rendering:crispEdges}.error{background-color:#fbeff2;box-shadow:0 0 0 1px rgba(0, 0, 0, 0.05) inset;margin:2em}.error p{color:#b63057;font-size:14px;padding:1.25em 1.5em;line-height:1.5;border-color:#cf4870;border-style:solid;border-width:0 0 0 4px;border-radius:4px}.dw-chart-body-content.svelte-9ysojt{position:relative;z-index:0}")}function get_each_context(e,t,r){const n=e.slice();return n[81]=t[r],n}function create_if_block_2(e){let t,r,n=purifyHtml(e[23],e[28])+"";return{c(){t=element("div"),r=new HtmlTagHydration(!1),this.h()},l(e){t=claim_element(e,"DIV",{class:!0});var n=children(t);r=claim_html_tag(n,!1),n.forEach(detach),this.h()},h(){r.a=null,attr(t,"class","sr-only")},m(e,a){insert_hydration(e,t,a),r.m(n,t)},p(e,t){8388608&t[0]&&n!==(n=purifyHtml(e[23],e[28])+"")&&r.p(n)},d(e){e&&detach(t)}}}function create_visBody_slot(e){let t,r,n,a,o,i,s,c=e[23]&&create_if_block_2(e);return{c(){t=element("div"),c&&c.c(),r=space(),n=element("div"),this.h()},l(e){t=claim_element(e,"DIV",{slot:!0,id:!0,"data-block-type":!0,"data-block-id":!0,class:!0});var a=children(t);c&&c.l(a),r=claim_space(a),n=claim_element(a,"DIV",{class:!0,"aria-hidden":!0}),children(n).forEach(detach),a.forEach(detach),this.h()},h(){attr(n,"class","dw-chart-body-content svelte-9ysojt"),attr(n,"aria-hidden",a=!!e[23]),attr(t,"slot","visBody"),attr(t,"id","chart"),attr(t,"data-block-type",o=e[2].dev?"container":null),attr(t,"data-block-id",i=e[2].dev?"chart":null),attr(t,"class",s="dw-chart-body vis-height-"+e[21]+" "+e[84]+" svelte-9ysojt"),toggle_class(t,"content-below-chart",e[17]),toggle_class(t,"dir-rtl","rtl"===e[7])},m(a,o){insert_hydration(a,t,o),c&&c.m(t,null),append_hydration(t,r),append_hydration(t,n),e[64](n)},p(e,l){e[23]?c?c.p(e,l):(c=create_if_block_2(e),c.c(),c.m(t,r)):c&&(c.d(1),c=null),8388608&l[0]&&a!==(a=!!e[23])&&attr(n,"aria-hidden",a),4&l[0]&&o!==(o=e[2].dev?"container":null)&&attr(t,"data-block-type",o),4&l[0]&&i!==(i=e[2].dev?"chart":null)&&attr(t,"data-block-id",i),2097152&l[0]|4194304&l[2]&&s!==(s="dw-chart-body vis-height-"+e[21]+" "+e[84]+" svelte-9ysojt")&&attr(t,"class",s),2228224&l[0]|4194304&l[2]&&toggle_class(t,"content-below-chart",e[17]),2097280&l[0]|4194304&l[2]&&toggle_class(t,"dir-rtl","rtl"===e[7])},d(r){r&&detach(t),c&&c.d(),e[64](null)}}}function create_if_block_1(e){let t,r=ensure_array_like(e[1].data.template.externalScripts),n=[];for(let t=0;t<r.length;t+=1)n[t]=create_each_block(get_each_context(e,r,t));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=empty()},l(e){for(let t=0;t<n.length;t+=1)n[t].l(e);t=empty()},m(e,r){for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(e,r);insert_hydration(e,t,r)},p(e,a){if(2&a[0]){let o;for(r=ensure_array_like(e[1].data.template.externalScripts),o=0;o<r.length;o+=1){const i=get_each_context(e,r,o);n[o]?n[o].p(i,a):(n[o]=create_each_block(i),n[o].c(),n[o].m(t.parentNode,t))}for(;o<n.length;o+=1)n[o].d(1);n.length=r.length}},d(e){e&&detach(t),destroy_each(n,e)}}}function create_each_block(e){let t,r,n='<script src="'.concat(e[81],'" type="text/javascript"><\/script>')+"";return{c(){t=new HtmlTagHydration(!1),r=empty(),this.h()},l(e){t=claim_html_tag(e,!1),r=empty(),this.h()},h(){t.a=r},m(e,a){t.m(n,e,a),insert_hydration(e,r,a)},p(e,r){2&r[0]&&n!==(n='<script src="'.concat(e[81],'" type="text/javascript"><\/script>')+"")&&t.p(n)},d(e){e&&(detach(r),t.d())}}}function create_if_block(e){let t;return{c(){t=element("link"),this.h()},l(e){t=claim_element(e,"LINK",{rel:!0,href:!0}),this.h()},h(){attr(t,"rel","stylesheet"),attr(t,"href",e[5])},m(e,r){insert_hydration(e,t,r)},p(e,r){32&r[0]&&attr(t,"href",e[5])},d(e){e&&detach(t)}}}function create_fragment$1(e){let t,r,n,a,o,i,s,c=e[8]&&!e[9]&&get$1(e[1],"data.template.externalScripts",[]).length;function l(t){e[65](t)}function u(t){e[66](t)}var d=e[20];function p(e,t){let r={__:e[29],allBlocks:e[22],chart:e[0],config:{frontendDomain:e[11]},dwChart:e[12],emotion:e[10],filterUI:e[18],mapAttribution:e[19],isIframe:e[8],postEvent:e[15],renderFlags:e[2],teamPublicSettings:e[3],requiresAttribution:e[4],allowPrintExport:e[6],textDirection:e[7],theme:e[1],themeData:e[27],vis:e[13],$$slots:{visBody:[create_visBody_slot,e=>{let{visBodyStyles:t}=e;return{84:t}},e=>{let{visBodyStyles:t}=e;return[0,0,t?4194304:0]}]},$$scope:{ctx:e}};return void 0!==e[14]&&(r.container=e[14]),void 0!==e[17]&&(r.contentBelowChart=e[17]),{props:r}}d&&(t=construct_svelte_component(d,p(e)),binding_callbacks.push((()=>bind(t,"container",l))),binding_callbacks.push((()=>bind(t,"contentBelowChart",u))));let h=c&&create_if_block_1(e),f=e[5]&&"undefined"!=typeof window&&create_if_block(e);return{c(){t&&create_component(t.$$.fragment),a=space(),h&&h.c(),o=space(),f&&f.c(),i=empty()},l(e){t&&claim_component(t.$$.fragment,e),a=claim_space(e),h&&h.l(e),o=claim_space(e),f&&f.l(e),i=empty()},m(e,r){t&&mount_component(t,e,r),insert_hydration(e,a,r),h&&h.m(e,r),insert_hydration(e,o,r),f&&f.m(e,r),insert_hydration(e,i,r),s=!0},p(e,s){if(1048576&s[0]&&d!==(d=e[20])){if(t){group_outros();const e=t;transition_out(e.$$.fragment,1,0,(()=>{destroy_component(e,1)})),check_outros()}d?(t=construct_svelte_component(d,p(e)),binding_callbacks.push((()=>bind(t,"container",l))),binding_callbacks.push((()=>bind(t,"contentBelowChart",u))),create_component(t.$$.fragment),transition_in(t.$$.fragment,1),mount_component(t,a.parentNode,a)):t=null}else if(d){const a={};4194304&s[0]&&(a.allBlocks=e[22]),1&s[0]&&(a.chart=e[0]),2048&s[0]&&(a.config={frontendDomain:e[11]}),4096&s[0]&&(a.dwChart=e[12]),1024&s[0]&&(a.emotion=e[10]),262144&s[0]&&(a.filterUI=e[18]),524288&s[0]&&(a.mapAttribution=e[19]),256&s[0]&&(a.isIframe=e[8]),32768&s[0]&&(a.postEvent=e[15]),4&s[0]&&(a.renderFlags=e[2]),8&s[0]&&(a.teamPublicSettings=e[3]),16&s[0]&&(a.requiresAttribution=e[4]),64&s[0]&&(a.allowPrintExport=e[6]),128&s[0]&&(a.textDirection=e[7]),2&s[0]&&(a.theme=e[1]),8192&s[0]&&(a.vis=e[13]),10682500&s[0]|12582912&s[2]&&(a.$$scope={dirty:s,ctx:e}),!r&&16384&s[0]&&(r=!0,a.container=e[14],add_flush_callback((()=>r=!1))),!n&&131072&s[0]&&(n=!0,a.contentBelowChart=e[17],add_flush_callback((()=>n=!1))),t.$set(a)}770&s[0]&&(c=e[8]&&!e[9]&&get$1(e[1],"data.template.externalScripts",[]).length),c?h?h.p(e,s):(h=create_if_block_1(e),h.c(),h.m(o.parentNode,o)):h&&(h.d(1),h=null),e[5]&&"undefined"!=typeof window?f?f.p(e,s):(f=create_if_block(e),f.c(),f.m(i.parentNode,i)):f&&(f.d(1),f=null)},i(e){s||(t&&transition_in(t.$$.fragment,e),s=!0)},o(e){t&&transition_out(t.$$.fragment,e),s=!1},d(e){e&&(detach(a),detach(o),detach(i)),t&&destroy_component(t,e),h&&h.d(e),f&&f.d(e)}}}const DEFAULT_CHART_LANGUAGE="en-US";function instance$1($$self,$$props,$$invalidate){const loadBlocks=_async$1((function(e){return _invokeIgnored((function(){if(e.length)return _await$1(Promise.all(e.map((e=>new Promise((t=>{if(e.preloaded)return t();const r=[loadScript(getUrl(e.source.js))];e.source.css&&r.push(loadStylesheet({src:getUrl(e.source.css),parentElement:styleHolder})),Promise.all(r).then(t).catch((e=>{const r=e.target?e.target.getAttribute("src")||e.target.getAttribute("href"):null;r?console.warn("could not load ",r):console.error("Unknown error",e),t()}))}))))),(function(){e.forEach((e=>{e.blocks=uniqBy(e.blocks,(e=>e.id)),e.blocks.forEach((e=>{if(!dw.block.has(e.component))return console.warn("component ".concat(e.component," from chart block ").concat(e.id," not found"));pluginBlocks.push(_objectSpread2(_objectSpread2({},e),{},{component:dw.block(e.component)}))}))})),$$invalidate(50,pluginBlocks)}))}))})),run=_async$1((function(){return set_store_value(outerWidth,$outerWidth=outerContainer.clientWidth,$outerWidth),_call(tick,(function(){$$invalidate(1,theme.data=$themeData,theme),dw.theme.register(theme.id,theme.data);const useDwCdn=get$1(chart,"metadata.data.use-datawrapper-cdn",!0),externalJSON=useDwCdn&&get$1(chart,"metadata.data.external-metadata","").length?"//".concat(externalDataUrl,"/").concat(chart.id,".metadata.json"):get$1(chart,"metadata.data.external-metadata");return _invoke((function(){if(externalJSON&&"external-data"===get$1(chart,"metadata.data.upload-method"))return _continueIgnored(_catch((function(){const e=(new Date).getTime(),t=useDwCdn?e-e%6e4:e,r="".concat(externalJSON).concat(externalJSON.includes("?")?"&":"?","v=").concat(t);return _await$1(window.fetch(r),(function(e){return _await$1(e.json(),(function(e){e.title&&($$invalidate(0,chart.title=e.title,chart),delete e.title),$$invalidate(0,chart.metadata=deepmergeOverwriteArrays(chart.metadata,e),chart),$$invalidate(0,chart)}))}))}),(function(){console.warn("Invalid external metadata JSON, falling back on chart metadata")})))}),(function(){$$invalidate(12,dwChart=dw.chart(chart).locale((chart.language||DEFAULT_CHART_LANGUAGE).substr(0,2)).translations(translations).theme(dw.theme(chart.theme)).flags(_objectSpread2({isIframe:isIframe,isEditingAllowed:renderFlags.allowEditing},renderFlags))),$$invalidate(12,dwChart.emotion=emotion,dwChart);const externalData=(isExport||!isPreview)&&chart.externalData,assetPromises=[];for(const[e,{url:t,value:r,load:n=!0}]of Object.entries(assets)){const a=e===datasetName;if(!a||!externalData)if(t)if(n){const t=e;assetPromises.push(new Promise(_async$1((function(e){return _await$1(fetch(getUrl(assets[t].url)),(function(r){return _await$1(r.text(),(function(r){dwChart.asset(t,r),e()}))}))}))))}else dwChart.asset(e,t);else dwChart.asset(e,r)}return _await$1(Promise.all(assetPromises),(function(){$$invalidate(13,vis=dw.visualization(visualization.id,target,visualization.hash||"nohash")),$$invalidate(13,vis.meta=visualization,vis),$$invalidate(13,vis.lang=chart.language||DEFAULT_CHART_LANGUAGE,vis),$$invalidate(13,vis.textDirection=textDirection,vis),$$invalidate(13,vis.addFilterUI=e=>{$$invalidate(18,filterUI=e)},vis),$$invalidate(13,vis.hasFilterUI=()=>!!filterUI,vis),$$invalidate(13,vis.addMapAttribution=e=>{$$invalidate(19,mapAttribution=e)},vis),$$invalidate(13,vis.featurePreviews=()=>userFeaturePreviews,vis),customVisEvents.forEach((e=>{let{eventType:t,callback:r}=e;vis.on(t,r)}));const{chroma:chroma,numeral:numeral,dayjs:dayjs}=vis.libraries(),localeVendorDefaults={numeral:numeral.localeData(),dayjs:dayjs[dayjs.locale()]};return Object.keys(locales).forEach((vendor=>{if("null"===locales[vendor]&&$$invalidate(32,locales[vendor]=null,locales),locales[vendor]&&locales[vendor].custom){const localeBase=locales[vendor].base?eval(locales[vendor].base):localeVendorDefaults[vendor];$$invalidate(32,locales[vendor]=deepmergeOverwriteArrays(localeBase,locales[vendor].custom),locales)}})),_await$1(dwChart.load(dwChart.asset(datasetName)||"",externalData),(function(){return $$invalidate(12,dwChart.locales=locales,dwChart),dwChart.vis(vis),_await$1(loadBlocks(blocks),(function(){const e=_async$1((function(){return Object.keys(theme.data).forEach((e=>{"_computed"!==e&&delete theme.data[e],$themeData[e]&&$$invalidate(1,theme.data[e]=$themeData[e],theme)})),_await$1()})),t=_async$1((function(t){return renderFlags.dark!==t&&$$invalidate(2,renderFlags=_objectSpread2(_objectSpread2({},renderFlags),{},{dark:t})),_call(tick,(function(){return _call(e,(function(){isAutoDark||a(t),outerContainer.classList.toggle("is-dark-mode",t),dwChart.render(outerContainer)}))}))}));$$invalidate(1,theme.data._computed=theme._computed,theme);const r=get$1(themeDataLight,"colors.background","#ffffff");if(chroma(r).luminance()>=.3&&(vis.initDarkMode(t,initDarkModeColormap({themeDataDark:themeDataDark,themeDataLight:themeDataLight,chroma:chroma})),isStyleDark&&vis.darkMode(!0)),isAutoDark){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(e=>{var t;t=e.matches,$$invalidate(2,renderFlags=_objectSpread2(_objectSpread2({},renderFlags),{},{dark:t})),vis.darkMode(t)})),CSS.supports("color-scheme","dark")||a(!1)}window.parent===window&&isPreview&&console.time("Chart rendered in");const n=dwChart.render(outerContainer);function a(e){if(isIframe){const t=document.querySelector('meta[name="color-scheme"]');t&&t.setAttribute("content",e?"dark":"light")}const t=(styleHolder||document).querySelector("#css-light"),r=(styleHolder||document).querySelector("#css-dark");(e?t:r).setAttribute("media","--disabled--"),(e?r:t).removeAttribute("media")}window.parent===window&&isPreview&&n.then((()=>{console.timeEnd("Chart rendered in")})).catch((e=>{console.error(e)})),observeFonts(themeFonts,2===$themeData.version?{fontFamilies:themeDataLight.fontFamilies}:themeDataLight.typography).then((()=>dwChart.render(outerContainer))).catch((()=>dwChart.render(outerContainer))),/iP(hone|od|ad)/.test(navigator.platform)&&(window.onload=dwChart.render(outerContainer)),isIframe&&function(e){const t="fixed"===dwChart.getHeightMode();let r=width(e);window.addEventListener("resize",(()=>{if(set_store_value(outerWidth,$outerWidth=width(outerContainer),$outerWidth),set_store_value(outerHeight,$outerHeight=window.innerHeight,$outerHeight),t){const t=width(e);r!==t&&(r=t,o())}else o()}))}(target),isIframe&&set_store_value(outerHeight,$outerHeight=outerContainer.clientHeight,$outerHeight),dispatch("rendered"),vis.rendered().then((()=>{isIframe?set_store_value(outerHeight,$outerHeight=outerContainer.clientHeight,$outerHeight):outerContainer.parentElement&&$$invalidate(31,outerContainer.parentElement.style.minHeight=null,outerContainer)})).catch((e=>{console.error(e)}));const o=debounce((function(){return _call(e,(function(){dwChart.vis().fire("resize"),dwChart.render(outerContainer)}))}),200);return{dwChart:dwChart,resizeVisDebounced:o,chroma:chroma}}))}))}))}))}))}));let isStylePlain,isStyleStatic,isStyleTransparent,isStyleDark,logoId,forceLogo,caption,postEvent,ariaDescription,metadataFields,coreBlocks,blockProps,allBlocks,overrideContext,heightMode,VisContainer$2,$themeData,$outerHeight,$outerWidth,$outerContainerStore;const outerWidth=writable(400);component_subscribe($$self,outerWidth,(e=>$$invalidate(63,$outerWidth=e)));const outerHeight=writable(400);component_subscribe($$self,outerHeight,(e=>$$invalidate(71,$outerHeight=e)));const outerContainerStore=writable();component_subscribe($$self,outerContainerStore,(e=>$$invalidate(72,$outerContainerStore=e)));const themeData=writable({});component_subscribe($$self,themeData,(e=>$$invalidate(62,$themeData=e)));const dispatch=createEventDispatcher();setContext("stores",{outerWidth:outerWidth,outerHeight:outerHeight,outerContainer:outerContainerStore,themeData:themeData});let{chart:chart}=$$props,{visualization:visualization={}}=$$props,{teamPublicSettings:teamPublicSettings={}}=$$props,{requiresAttribution:requiresAttribution}=$$props,{ptStylesheet:ptStylesheet}=$$props,{allowPrintExport:allowPrintExport}=$$props,{theme:theme={}}=$$props,{themeDataDark:themeDataDark={}}=$$props,{themeDataLight:themeDataLight={}}=$$props,{themeFonts:themeFonts={}}=$$props,{locales:locales={}}=$$props,{textDirection:textDirection="ltr"}=$$props,{translations:translations}=$$props,{blocks:blocks={}}=$$props,{isIframe:isIframe}=$$props,{isExport:isExport}=$$props,{isPreview:isPreview}=$$props,{assets:assets}=$$props,{styleHolder:styleHolder}=$$props,{dependencyBaseUrl:dependencyBaseUrl}=$$props,{origin:origin}=$$props,{externalDataUrl:externalDataUrl}=$$props,{outerContainer:outerContainer}=$$props,{containerWidth:containerWidth}=$$props,{containerHeight:containerHeight}=$$props,{customVisEvents:customVisEvents=[]}=$$props,{userFeaturePreviews:userFeaturePreviews={}}=$$props;function render(){dwChart&&dwChart.render(outerContainer)}let{isAutoDark:isAutoDark=!1}=$$props,{renderFlags:renderFlags={}}=$$props,{emotion:emotion}=$$props,{frontendDomain:frontendDomain="app.datawrapper.de"}=$$props,target,dwChart,vis,dw,container,pluginBlocks=[],contentBelowChart;const datasetName="dataset.".concat(get$1(chart.metadata,"data.json")?"json":"csv");migrate(chart.metadata);const allowedAriaDescriptionTags=["a","span","b","br","i","strong","sup","sub","strike","u","em","tt","table","thead","tbody","tfoot","caption","colgroup","col","tr","td","th"];function applyThemeBlockConfig(e,t,r){return e.map((e=>{e.props=_objectSpread2(_objectSpread2(_objectSpread2({},e.data||{}),r),{},{config:{frontendDomain:frontendDomain},id:e.id}),e.component.test&&(e.test=e.component.test);const n=get$1(t,"options.blocks",{})[e.id];return n?_objectSpread2(_objectSpread2({},e),e.ignoreCustomRegion?omit(n,"region"):n):e}))}function getUrl(e){const t=dependencyBaseUrl||origin;return t&&!e.startsWith("http")?"".concat(t,"/").concat(e):e}function getTranslation(e){if("string"!=typeof e)return console.error(new TypeError("function __ called without required 'key' parameter!\nPlease make sure you called __(key) with a key of type \"string\".\n")),"";const[t,r]=(chart.language||DEFAULT_CHART_LANGUAGE).split("-");return(r?get$1($themeData,["locales","".concat(t.toLowerCase(),"-").concat(r.toUpperCase())],get$1($themeData,["locales",t.toLowerCase()],{})):get$1($themeData,["locales",t.toLowerCase()],{}))[e]||translations[e]||e}function __(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=getTranslation(e);return r.length?a.replace(/\$(\d)/g,((e,t)=>r[+t]||e)):a}let filterUI=!1,mapAttribution=!1,currentHeight,onResize;function initDarkModeColormap(e){let{themeDataLight:t,themeDataDark:r,chroma:n}=e;const a=new Map,o=get$1(r,"colors.palette",[]),i=get$1(t,"colors.palette",[]),s=get$1(t,"colors.background","#ffffff"),c=get$1(r,"colors.background"),l=Object.fromEntries(i.map(((e,t)=>[e.toLowerCase(),o[t]])));return function(e){let{forceInvert:t,noInvert:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=!vis.get("dark-mode-invert",!0);return r||o&&!t?e:n.valid(e)?(e=e.toLowerCase(),l[e]?l[e]:(a.has(e)||a.set(e,invertColor(e,c,s,.85)),a.get(e))):e}}function div0_binding(e){binding_callbacks[e?"unshift":"push"]((()=>{target=e,$$invalidate(16,target)}))}function switch_instance_container_binding(e){container=e,$$invalidate(14,container)}function switch_instance_contentBelowChart_binding(e){contentBelowChart=e,$$invalidate(17,contentBelowChart)}return afterUpdate((()=>{if(!isIframe||void 0===currentHeight||"fixed"===heightMode)return;const e=document.body.offsetHeight;currentHeight!==e&&"function"==typeof dwChart.render&&(dwChart.render(outerContainer),currentHeight=e)})),onMount(_async$1((function(){var e;const t=null===(e=window.dw.versions)||void 0===e?void 0:e[visualization.dwJsHash];return dw=null!=t&&t.visualization.has(visualization.id)?window.dw.versions[visualization.dwJsHash]:window.dw,_call(run,(function(e){let{dwChart:t,resizeVisDebounced:r,chroma:n}=e;if($$invalidate(51,onResize=r),outerContainer.classList.toggle("dir-rtl","rtl"===textDirection),isIframe){if(isStyleStatic&&!isStyleTransparent){const e=get$1(theme.data,"style.body.background","transparent"),t=get$1(theme.data,"colors.background");t&&isTransparentColor(e,n)&&(document.body.style.background=t)}domReady((()=>{window.addEventListener("hashchange",(()=>{postEvent("hash.change",{hash:window.location.hash})}))})),currentHeight=document.body.offsetHeight,window.__dw=window.__dw||{},window.__dw.params={data:t.asset(datasetName),visJSON:visualization},window.__dw.vis=vis,window.__dw.render=()=>{t.render(outerContainer)},window.fontsJSON=theme.fonts,window.getThemeData=e=>get$1(themeDataLight,e),window.setThemeData=(e,t)=>{set$1(themeDataLight,e,t),$$invalidate(30,themeDataLight)},window.setTheme=_async$1((function(e){return _await$1(fetch("http://api.datawrapper.local/v3/themes/".concat(e,"?extend=true")),(function(e){return _await$1(e.json(),(function(e){let{data:r,fontsCSS:n}=e;$$invalidate(30,themeDataLight=r),$$invalidate(1,theme.data=r,theme),document.querySelector("style").innerText=n,t.render(outerContainer)}))}))}))}}))}))),$$self.$$set=e=>{"chart"in e&&$$invalidate(0,chart=e.chart),"visualization"in e&&$$invalidate(33,visualization=e.visualization),"teamPublicSettings"in e&&$$invalidate(3,teamPublicSettings=e.teamPublicSettings),"requiresAttribution"in e&&$$invalidate(4,requiresAttribution=e.requiresAttribution),"ptStylesheet"in e&&$$invalidate(5,ptStylesheet=e.ptStylesheet),"allowPrintExport"in e&&$$invalidate(6,allowPrintExport=e.allowPrintExport),"theme"in e&&$$invalidate(1,theme=e.theme),"themeDataDark"in e&&$$invalidate(34,themeDataDark=e.themeDataDark),"themeDataLight"in e&&$$invalidate(30,themeDataLight=e.themeDataLight),"themeFonts"in e&&$$invalidate(35,themeFonts=e.themeFonts),"locales"in e&&$$invalidate(32,locales=e.locales),"textDirection"in e&&$$invalidate(7,textDirection=e.textDirection),"translations"in e&&$$invalidate(36,translations=e.translations),"blocks"in e&&$$invalidate(37,blocks=e.blocks),"isIframe"in e&&$$invalidate(8,isIframe=e.isIframe),"isExport"in e&&$$invalidate(38,isExport=e.isExport),"isPreview"in e&&$$invalidate(9,isPreview=e.isPreview),"assets"in e&&$$invalidate(39,assets=e.assets),"styleHolder"in e&&$$invalidate(40,styleHolder=e.styleHolder),"dependencyBaseUrl"in e&&$$invalidate(41,dependencyBaseUrl=e.dependencyBaseUrl),"origin"in e&&$$invalidate(42,origin=e.origin),"externalDataUrl"in e&&$$invalidate(43,externalDataUrl=e.externalDataUrl),"outerContainer"in e&&$$invalidate(31,outerContainer=e.outerContainer),"containerWidth"in e&&$$invalidate(44,containerWidth=e.containerWidth),"containerHeight"in e&&$$invalidate(45,containerHeight=e.containerHeight),"customVisEvents"in e&&$$invalidate(46,customVisEvents=e.customVisEvents),"userFeaturePreviews"in e&&$$invalidate(47,userFeaturePreviews=e.userFeaturePreviews),"isAutoDark"in e&&$$invalidate(49,isAutoDark=e.isAutoDark),"renderFlags"in e&&$$invalidate(2,renderFlags=e.renderFlags),"emotion"in e&&$$invalidate(10,emotion=e.emotion),"frontendDomain"in e&&$$invalidate(11,frontendDomain=e.frontendDomain)},$$self.$$.update=()=>{4&$$self.$$.dirty[0]&&$$invalidate(57,isStylePlain=renderFlags.plain),4&$$self.$$.dirty[0]&&$$invalidate(52,isStyleStatic=renderFlags.static),4&$$self.$$.dirty[0]&&(isStyleTransparent=renderFlags.transparent),4&$$self.$$.dirty[0]&&$$invalidate(53,isStyleDark=renderFlags.dark),4&$$self.$$.dirty[0]&&$$invalidate(60,logoId=renderFlags.logoId),4&$$self.$$.dirty[0]&&$$invalidate(59,forceLogo=renderFlags.logo),4&$$self.$$.dirty[1]&&$$invalidate(61,caption=getVisCaption(visualization.id)),4096&$$self.$$.dirty[0]&&$$invalidate(15,postEvent=dwChart?dwChart.createPostEvent():()=>{}),256&$$self.$$.dirty[0]|8192&$$self.$$.dirty[1]&&(isIframe||set_store_value(outerWidth,$outerWidth=containerWidth,$outerWidth)),1&$$self.$$.dirty[0]&&$$invalidate(56,metadataFields={custom:get$1(chart,"metadata.custom",{}),publish:get$1(chart,"metadata.publish",{}),describe:get$1(chart,"metadata.describe",{})}),4181&$$self.$$.dirty[0]|120061952&$$self.$$.dirty[1]|2&$$self.$$.dirty[2]&&$$invalidate(54,overrideContext=_objectSpread2(_objectSpread2(_objectSpread2({type:chart.type,title:chart.title,team:chart.organizationId,width:$outerWidth},parseChartLanguage(chart.language)),{},{mode:{plain:isStylePlain,static:isStyleStatic,print:renderFlags.svgonly},flags:renderFlags},metadataFields),{},{blocks:Object.fromEntries([...coreBlocks,...pluginBlocks].filter((e=>{let{includeInContext:t}=e;return t})).map((e=>[e.id,!e.test||e.test({chart:chart,isStyleStatic:isStyleStatic,dwChart:dwChart,requiresAttribution:requiresAttribution,allowPrintExport:allowPrintExport,flags:renderFlags})])))})),1073741824&$$self.$$.dirty[0]|12582920&$$self.$$.dirty[1]|1&$$self.$$.dirty[2]&&(set_store_value(themeData,$themeData=computeThemeData(isStyleDark?themeDataDark:themeDataLight,overrideContext),$themeData),isStyleDark&&set$1($themeData,"colors.palette",get$1(themeDataLight,"colors.palette",[]))),1&$$self.$$.dirty[0]|1&$$self.$$.dirty[2]&&(get$1(chart,"metadata.publish.blocks")||set$1(chart,"metadata.publish.blocks",get$1($themeData,"metadata.publish.blocks"))),1&$$self.$$.dirty[1]&&outerContainer&&set_store_value(outerContainerStore,$outerContainerStore=outerContainer,$outerContainerStore),1&$$self.$$.dirty[0]&&$$invalidate(23,ariaDescription=get$1(chart,"metadata.describe.aria-description","")),1&$$self.$$.dirty[0]&&purifyHtml(get$1(chart,"metadata.publish.custom-css",""),[]),61919&$$self.$$.dirty[0]|1881145344&$$self.$$.dirty[1]|1&$$self.$$.dirty[2]&&$$invalidate(58,blockProps={__:__,purifyHtml:clean$1,get:get$1,postEvent:postEvent,teamPublicSettings:teamPublicSettings,themeData:$themeData,container:container,theme:theme,chart:chart,dwChart:dwChart,vis:vis,caption:caption,logoId:logoId,forceLogo:forceLogo,textDirection:textDirection,isIframe:isIframe,isStyleStatic:isStyleStatic,requiresAttribution:requiresAttribution,allowPrintExport:allowPrintExport,flags:renderFlags}),151519232&$$self.$$.dirty[1]|1&$$self.$$.dirty[2]&&$$invalidate(22,allBlocks=applyThemeBlockConfig([...coreBlocks,...pluginBlocks],$themeData,blockProps)),4&$$self.$$.dirty[0]|4&$$self.$$.dirty[1]|1&$$self.$$.dirty[2]&&$$invalidate(21,heightMode=getHeightMode({themeData:$themeData,renderFlags:renderFlags,visualizationMeta:visualization})),256&$$self.$$.dirty[0]|16384&$$self.$$.dirty[1]&&(isIframe||set_store_value(outerHeight,$outerHeight=containerHeight,$outerHeight)),256&$$self.$$.dirty[0]|1073152&$$self.$$.dirty[1]&&onResize&&!isIframe&&onResize([containerWidth,containerHeight]),1280&$$self.$$.dirty[0]|1&$$self.$$.dirty[2]&&emotion&&updateGlobalStyles(globalStyles(emotion,$themeData,isIframe)),1&$$self.$$.dirty[2]&&$$invalidate(20,VisContainer$2=2===$themeData.version?VisContainer:VisContainer$1)},$$invalidate(55,coreBlocks=coreBlocksV1),[chart,theme,renderFlags,teamPublicSettings,requiresAttribution,ptStylesheet,allowPrintExport,textDirection,isIframe,isPreview,emotion,frontendDomain,dwChart,vis,container,postEvent,target,contentBelowChart,filterUI,mapAttribution,VisContainer$2,heightMode,allBlocks,ariaDescription,outerWidth,outerHeight,outerContainerStore,themeData,allowedAriaDescriptionTags,__,themeDataLight,outerContainer,locales,visualization,themeDataDark,themeFonts,translations,blocks,isExport,assets,styleHolder,dependencyBaseUrl,origin,externalDataUrl,containerWidth,containerHeight,customVisEvents,userFeaturePreviews,render,isAutoDark,pluginBlocks,onResize,isStyleStatic,isStyleDark,overrideContext,coreBlocks,metadataFields,isStylePlain,blockProps,forceLogo,logoId,caption,$themeData,$outerWidth,div0_binding,switch_instance_container_binding,switch_instance_contentBelowChart_binding]}class Visualization extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{chart:0,visualization:33,teamPublicSettings:3,requiresAttribution:4,ptStylesheet:5,allowPrintExport:6,theme:1,themeDataDark:34,themeDataLight:30,themeFonts:35,locales:32,textDirection:7,translations:36,blocks:37,isIframe:8,isExport:38,isPreview:9,assets:39,styleHolder:40,dependencyBaseUrl:41,origin:42,externalDataUrl:43,outerContainer:31,containerWidth:44,containerHeight:45,customVisEvents:46,userFeaturePreviews:47,render:48,isAutoDark:49,renderFlags:2,emotion:10,frontendDomain:11},add_css$1,[-1,-1,-1])}get render(){return this.$$.ctx[48]}}function _await(e,t,r){return e&&e.then||(e=Promise.resolve(e)),t?e.then(t):e}const{document:document_1}=globals;function _async(e){return function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];try{return Promise.resolve(e.apply(this,t))}catch(e){return Promise.reject(e)}}}function add_css(e){append_styles(e,"svelte-2opupd",".chart{height:100%}")}function create_fragment(e){let t,r,n,a,o,i,s,c,l=purifyHtml("<st"+"yle>".concat(e[22],"</sty")+"le>",["style"])+"";return document_1.title=t=purifyHtml(e[0].title,[]),s=new Visualization({props:{chart:e[0],visualization:e[2],teamPublicSettings:e[3],requiresAttribution:e[4],ptStylesheet:e[5],allowPrintExport:e[6],theme:e[7],themeFonts:e[7].fonts,themeDataDark:e[17],themeDataLight:e[18],locales:e[8],translations:e[10],blocks:e[11],isIframe:!0,isPreview:e[12],isExport:e[13],assets:e[14],externalDataUrl:e[15],isAutoDark:e[21],outerContainer:e[16],textDirection:e[9],renderFlags:e[1],emotion:e[19],userFeaturePreviews:e[20]}}),{c(){r=element("meta"),a=new HtmlTagHydration(!1),o=empty(),i=space(),create_component(s.$$.fragment),this.h()},l(e){const t=head_selector("svelte-ni0vop",document_1.head);r=claim_element(t,"META",{name:!0,content:!0}),a=claim_html_tag(t,!1),o=empty(),t.forEach(detach),i=claim_space(e),claim_component(s.$$.fragment,e),this.h()},h(){attr(r,"name","description"),attr(r,"content",n=get$1(e[0],"metadata.describe.intro")),a.a=o},m(e,t){append_hydration(document_1.head,r),a.m(l,document_1.head),append_hydration(document_1.head,o),insert_hydration(e,i,t),mount_component(s,e,t),c=!0},p(e,o){let[i]=o;(!c||1&i)&&t!==(t=purifyHtml(e[0].title,[]))&&(document_1.title=t),(!c||1&i&&n!==(n=get$1(e[0],"metadata.describe.intro")))&&attr(r,"content",n),(!c||4194304&i)&&l!==(l=purifyHtml("<st"+"yle>".concat(e[22],"</sty")+"le>",["style"])+"")&&a.p(l);const u={};1&i&&(u.chart=e[0]),4&i&&(u.visualization=e[2]),8&i&&(u.teamPublicSettings=e[3]),16&i&&(u.requiresAttribution=e[4]),32&i&&(u.ptStylesheet=e[5]),64&i&&(u.allowPrintExport=e[6]),128&i&&(u.theme=e[7]),128&i&&(u.themeFonts=e[7].fonts),131072&i&&(u.themeDataDark=e[17]),262144&i&&(u.themeDataLight=e[18]),256&i&&(u.locales=e[8]),1024&i&&(u.translations=e[10]),2048&i&&(u.blocks=e[11]),4096&i&&(u.isPreview=e[12]),8192&i&&(u.isExport=e[13]),16384&i&&(u.assets=e[14]),32768&i&&(u.externalDataUrl=e[15]),2097152&i&&(u.isAutoDark=e[21]),65536&i&&(u.outerContainer=e[16]),512&i&&(u.textDirection=e[9]),2&i&&(u.renderFlags=e[1]),524288&i&&(u.emotion=e[19]),1048576&i&&(u.userFeaturePreviews=e[20]),s.$set(u)},i(e){c||(transition_in(s.$$.fragment,e),c=!0)},o(e){transition_out(s.$$.fragment,e),c=!1},d(e){e&&(a.d(),detach(i)),detach(r),detach(o),destroy_component(s,e)}}}function instance(e,t,r){let n,a,o,i,s,{chart:c={}}=t,{visualization:l={}}=t,{teamPublicSettings:u={}}=t,{requiresAttribution:d}=t,{ptStylesheet:p}=t,{allowPrintExport:h}=t,{theme:f={}}=t,{locales:m={}}=t,{textDirection:_="ltr"}=t,{translations:g}=t,{blocks:y={}}=t,{isPreview:b}=t,{isExport:$}=t,{assets:v}=t,{externalDataUrl:k}=t,{outerContainer:x}=t,{themeDataDark:w={}}=t,{themeDataLight:q={}}=t,{renderFlags:S={}}=t,{emotion:E}=t,{userFeaturePreviews:R={}}=t,{isAutoDark:T=!1}=t;return window.__dwUpdate=e=>{Object.assign(c,e.chart),r(0,c),void 0!==e.isStyleDark&&r(1,S=_objectSpread2(_objectSpread2({},S),{},{dark:e.isStyleDark}))},onMount(_async((function(){return document.body.classList.toggle("plain",a),document.body.classList.toggle("static",o),document.body.classList.toggle("png-export",o),document.body.classList.toggle("transparent",n),document.body.classList.toggle("in-editor",i),o&&(document.body.style["pointer-events"]="none"),_await()}))),e.$$set=e=>{"chart"in e&&r(0,c=e.chart),"visualization"in e&&r(2,l=e.visualization),"teamPublicSettings"in e&&r(3,u=e.teamPublicSettings),"requiresAttribution"in e&&r(4,d=e.requiresAttribution),"ptStylesheet"in e&&r(5,p=e.ptStylesheet),"allowPrintExport"in e&&r(6,h=e.allowPrintExport),"theme"in e&&r(7,f=e.theme),"locales"in e&&r(8,m=e.locales),"textDirection"in e&&r(9,_=e.textDirection),"translations"in e&&r(10,g=e.translations),"blocks"in e&&r(11,y=e.blocks),"isPreview"in e&&r(12,b=e.isPreview),"isExport"in e&&r(13,$=e.isExport),"assets"in e&&r(14,v=e.assets),"externalDataUrl"in e&&r(15,k=e.externalDataUrl),"outerContainer"in e&&r(16,x=e.outerContainer),"themeDataDark"in e&&r(17,w=e.themeDataDark),"themeDataLight"in e&&r(18,q=e.themeDataLight),"renderFlags"in e&&r(1,S=e.renderFlags),"emotion"in e&&r(19,E=e.emotion),"userFeaturePreviews"in e&&r(20,R=e.userFeaturePreviews),"isAutoDark"in e&&r(21,T=e.isAutoDark)},e.$$.update=()=>{2&e.$$.dirty&&(n=S.transparent),2&e.$$.dirty&&(a=S.plain),2&e.$$.dirty&&(o=S.static),2&e.$$.dirty&&(i=S.allowEditing),1&e.$$.dirty&&r(22,s=purifyHtml(get$1(c,"metadata.publish.custom-css",""),[]))},[c,S,l,u,d,p,h,f,m,_,g,y,b,$,v,k,x,w,q,E,R,T,s]}class VisualizationIframe extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{chart:0,visualization:2,teamPublicSettings:3,requiresAttribution:4,ptStylesheet:5,allowPrintExport:6,theme:7,locales:8,textDirection:9,translations:10,blocks:11,isPreview:12,isExport:13,assets:14,externalDataUrl:15,outerContainer:16,themeDataDark:17,themeDataLight:18,renderFlags:1,emotion:19,userFeaturePreviews:20,isAutoDark:21},add_css)}}const FLAG_BOOL_FALSE=new Set(["0","false","null"]),RENDER_FLAG_TYPES={allowEditing:Boolean,dark:BooleanWithAuto,dev:Boolean,fitchart:Boolean,logo:String,logoId:String,map2svg:Boolean,plain:Boolean,previewId:String,search:String,static:Boolean,svgonly:Boolean,theme:String,transparent:Boolean};function BooleanWithAuto(e){return"auto"===e?e:!!e&&!FLAG_BOOL_FALSE.has(e)}function parseFlags(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RENDER_FLAG_TYPES;return Object.fromEntries(Object.entries(t).map((t=>{let[r,n]=t;const a=e(r);return n===Boolean?[r,!!a&&!FLAG_BOOL_FALSE.has(a)]:[r,a&&n(a)]})))}function parseFlagsFromURL(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:RENDER_FLAG_TYPES;const r=new URLSearchParams(e);return parseFlags((e=>r.get(e)),t)}function render(){const e=document.getElementById("__svelte-dw"),{chart:t,published:r,chartAutoDark:n}=window.__DW_SVELTE_PROPS__,a=createEmotion({key:"datawrapper-".concat(t.id),container:document.head}),o=parseFlagsFromURL(window.location.search),i=window.__DW_SVELTE_PROPS__.renderFlags||{},s="auto"===i.dark||"auto"===o.dark||null===o.dark&&r&&!0===n,c=!0===i.dark||!0===o.dark||s&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;function l(){const e=document.getElementById("hide-all");e&&e.parentNode.removeChild(e)}c&&(document.getElementById("__svelte-dw").className+=" is-dark-mode"),s||(c?(document.getElementById("css-light").setAttribute("media","--disabled--"),document.getElementById("css-dark").removeAttribute("media"),document.head.querySelector('meta[name="color-scheme"]').content="dark"):(document.getElementById("css-dark").setAttribute("media","--disabled--"),document.getElementById("css-light").removeAttribute("media"),document.head.querySelector('meta[name="color-scheme"]').content="light")),l(),i.dark=c,window.__DW_SVELTE_PROPS__.isAutoDark=s,new VisualizationIframe({target:e,props:_objectSpread2(_objectSpread2({},window.__DW_SVELTE_PROPS__),{},{outerContainer:e,renderFlags:_objectSpread2(_objectSpread2({},o),i),emotion:a}),hydrate:!0})}window.dw&&(window.dw.scriptLoaded=!0),render()})();//# sourceMappingURL=main.js.map
